/*!CK:1911055117!*//*1456260045,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["4eco\/"]); }

__d("BasicTypeaheadLoggerJSConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={EventNames:{ADS_TARGETING:"ads_targeting",MENTIONS:"mentions",TINDER_MENTIONS:"tinder_mentions",REACT_COMPOSER_MENTIONS:"react_composer_mentions",PHOTO_TAGGER:"photo-tagger",PROFILE:"profile",TIMELINE_COLLECTION:"timeline_collection",OGCOMPOSER_TAGGER:"ogcomposer-tagger",PLACES_TYPEAHEAD:"places_typeahead",CHAT_MENTIONS_ENTITIES:"chat_mentions_entities",REACT_COMPOSER_OG_TAGGER:"react_composer_og_tagger",REACT_SHARE_DIALOG_OG_TAGGER:"react_share_dialog_og_tagger",REACT_COMPOSER_LOCATION_TAGGER:"react_composer_location_tagger",REACT_SHARE_DIALOG_LOCATION_TAGGER:"react_share_dialog_location_tagger",GROUP_SEARCH_TA:"group_search_ta"},Fields:{EVENT:"event",STRATEGY_NAME:"strategy_name",HAS_INTENT_MENTION:"has_intent_mention",USER_ID:"userid",SELECTED_POSITION:"selected_position",SELECTED_ID:"selected_id",QUERIES_HISTORY:"queries_history",NUM_QUERIES:"num_queries",CANDIDATE_RESULTS:"candidate_results",CANDIDATE_RESULTS_ADS:"candidate_results_ads",QUERY:"query",LAST_NOT_BACKSPACED_QUERY:"last_not_backspaced_query",REQUEST_ID:"request_id",REQUEST_IDS_HISTORY:"request_ids_history",SESSION_ID:"session_id",SESSION_TIME:"session_time",NORMALIZED_BACKEND_QUERY:"normalized_backend_query",SELECTED_TYPE:"selected_type",SELECTED_QUERY:"selected_query",SELECTED_ORIGINAL_ID:"selected_original_id",SELECTED_SCORE:"selected_score",PLACE_ID:"place_id",CLIENT_TIME:"client_time",TIMEZONE:"timezone",TIMEZONE_ID:"timezone_id",ACTION_TYPE_ID:"action_type_id",SELECTED_ID_INT:"selected_id_int",CLICK:"click",FILTERED_CANDIDATE_RESULTS:"filtered_candidate_results",FBTYPE:"fbtype",PAGE:"page",PAGE_VISIBILITY_DUMMY:"page_visibility_dummy",SEARCH_VERSION:"search_version",QE_GROUP:"qe_group",EVENT_SPECIFIC_DATA:"event_specific_data",REF:"ref",SOURCE:"source",GEO_PROFILE_COUNTRY:"geo_profile_country",CURRENT_GEO_PROFILE:"current_geo_profile",CURRENT_CITY_GLOBAL_ID:"current_city_global_id",CURRENT_REGION_ID:"current_region_id",CURRENT_COUNTRY:"current_country",COLLECTION_DATA:"collection_data",FILTERED_COUNT:"filtered_count",GOOD_CLICK:"good_click",GOOD_CLICK_INT:"good_click_int",FALLBACK_CLICK:"fallback_click",ENTITY_CLICK:"entity_click",ENTITY_CLICK_INT:"entity_click_int",HAD_RESULTS:"had_results",NUM_RESULTS:"num_results",PAGE_CATEGORY:"page_category",PAGE_VISIBILITY:"page_visibility",PAGE_IS_AUTHENTIC:"page_is_authentic",PRECISION:"precision",EVENT_CONTEXT:"event_context",PAGE_SOURCE:"page_source",ENTITY_TYPE:"entity_type",EVENT_VALID:"event_valid",QUERY_LENGTH:"query_length",FIRST_RESULT:"first_result",HAD_DUPLICATES:"had_duplicates",COMPLETE_APP_COUNT:"complete_app_count",APP_COLLECTION_SIZE:"app_collection_size",COLLECTION_SIZE:"collection_size",NON_EMPTY_FRIENDS_COUNT:"non_empty_friends_count",CAROUSEL_COLLECTION_SIZE:"carousel_collection_size",QUALITY_ACCURACY:"quality_accuracy",SELECTED_WITH_MOUSE:"selected_with_mouse",AVG_QUERY_LATENCY:"avg_query_latency",IS_EMPLOYEE:"is_employee",PROFILE_SECTION:"profile_section",TYPEAHEAD_SOURCE:"typeahead_source",MINUTIAE_COMPOSER_VERSION:"minutiae_composer_version",LAST_QUERY_LATENCY:"last_query_latency",AD_ACCOUNT_ID:"ad_account_id"},MinutiaeComposerVersions:{LEGACY:"legacy",LEGACY_TOKENIZED:"legacy_tokenized",REACT:"react"}};},null);
__d("PlaceSearchConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SOURCE_INTERN:"intern",SOURCE_W_COMPOSER:"web_composer",SOURCE_W_COMPOSER_MEDIA:"web_composer_media",SOURCE_ALBUM_CREATION:"album_creation",SOURCE_ALBUM_EDIT:"album_edit",SOURCE_PHOTO_EDIT:"photo_edit",SOURCE_ALBUM_ADD_PHOTOS:"album_add_photos",SOURCE_PLAN_EDIT:"plan_edit",SOURCE_GROUP_EDIT:"group_edit",SOURCE_DISSIMILARITY:"dissimilarity",SOURCE_TEST:"test",SOURCE_FQL:"fql",SOURCE_EVENTS:"events_create",SOURCE_PAGES:"pages_create",SOURCE_TOUCH:"touch",SOURCE_M:"m",SOURCE_M_PLAN:"m_plan",SOURCE_M_NO_GPS:"m_no_gps",SOURCE_PROFILE_MAP:"profile_map",SOURCE_WEB_DASH:"web_dashboard",SOURCE_MOBILE_DASH:"mobile_dashboard",SOURCE_UNKNOWN:"unknown",SOURCE_PHOTO_EDIT_EXIF:"photo_edit_exif",SOURCE_TIMELINE_LOCATION_EDIT:"timeline_location_edit",SOURCE_NETEGO_TAGGING:"netego_tagging",SOURCE_PPS_NETEGO:"netego_pps",SOURCE_PPS_SNOWLIFT:"snowlift_pps",SOURCE_PROXIMITY_GUESSER:"proximity_guesser",SOURCE_SEARCH_RESULTS_PAGE:"detailedsearch",SOURCE_PLACES_EDITOR:"places_editor",SOURCE_MAP_COMPOSER:"map_composer",SOURCE_NEARBY:"nearby",SOURCE_SEARCH_MAP:"searchmap",SOURCE_TIMELINE_COMPOSER:"timeline_composer",SOURCE_M_EDIT_PROFILE:"m_edit_profile",SOURCE_M_EDIT_PAGE_INFO:"m_edit_page_info",SOURCE_PYML_NEARBY:"pyml_nearby",SOURCE_MOBILE_PLACE_COMPOSER:"mobile_place_composer",SOURCE_NEARBY_CHAT_ROOM:"nearby_chat_room",SOURCE_GRAPHQL:"graphql",SOURCE_CURRENT_PLACE:"current_place",SOURCE_AURA_PUSH_NOTIF:"aura_push_notif",SOURCE_SUGGESTIFIER:"suggestifier",SOURCE_PLACE_ADDRESS_LOCATED_IN:"place_address_located_in",SOURCE_IG_MEDIA_TAGGING:"instagram.media_tagging.place_search",SOURCE_MOBILE_STATUS:"mobile_status",SOURCE_MOBILE_CHECKIN:"mobile_checkin",SOURCE_MOBILE_PHOTO:"mobile_photo",PREDICTIONS_APPID:106712229428223};},null);
__d("ReactComposerTypeaheadSearchSourceConfig",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTIVITY:{action:{auxiliaryFields:{default_icon:"default_icon",icon:"icon",original_id:"original_id",prompt:"prompt"}},object:{auxiliaryFields:{icon:"icon",original_id:"original_id",verified:"is_verified"}}},LOCATION:{include_likes:false,include_subtext:true,include_address:1,exact_match:false,map_height:null,map_width:null,use_unicorn:true,allow_places:true,allow_cities:true,render_map:false,limit:15,use_searchable_entries:true}};},null);
__d("ReactComposerTypeaheadSearchSourceType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTIVITY:"ACTIVITY",LOCATION:"LOCATION"};},null);
__d("SharerType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ALL_MODES:"all_modes",MESSAGE_ONLY:"message_only",OWN_ONLY:"own_only",PAGE_ONLY:"page_only",PAGE_VIEWER:"page_viewer"};},null);
__d('FBToggle.react',['React','cx','invariant','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=h.createClass({displayName:'FBToggle',propTypes:{open:l.bool,disabled:l.bool,onChange:l.func},getDefaultProps:function(){return {disabled:false,open:false};},getInitialState:function(){return {isOpen:this.props.open};},componentWillReceiveProps:function(n){this.setState({isOpen:n.open!=null?n.open:this.state.isOpen});},_toggle:function(){if(this.props.disabled)return;if(this.props.onChange)this.props.onChange(!this.state.isOpen,this.props.disabled);this.setState({isOpen:!this.state.isOpen});},render:function(){var n=this.props.children,o=n.length==2||n.length==3;!o?j(0):undefined;if(n.length==2)n.splice(0,0,n[0]);var p=this.state.isOpen?n[1]:n[0],q=n[2],r=(this.state.isOpen?"_4ncx":'')+(!this.state.isOpen?' '+"_4ncy":'')+(this.props.disabled?' '+"_4ncz":''),s="_4nc-",t="_4nc_"+(!this.state.isOpen?' '+"hidden_elem":'');return (h.createElement('div',babelHelpers['extends']({},this.props,{className:k(this.props.className,r)}),h.createElement('span',{className:s,onClick:this._toggle},' ',p,' '),h.createElement('span',{className:t},' ',q,' ')));}});f.exports=m;},null);
__d('getBlockNumberAndOffsetFromText',['splitTextIntoTextBlocks'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k){var l=j.slice(0,k),m=h(l),n=m.map(function(p){return p.length;}).slice(0,-1),o=n.reduce(function(p,q){return p+q+1;},0);return {block:m.length-1,offset:k-o};}f.exports=i;},null);
__d('ReactComposerAudienceActions',['ReactComposerAudienceActionTypes','ReactComposerDispatcher','ReactComposerAudienceStore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();c('ReactComposerAudienceStore');var j={setAudience:function(k,l,m){i.dispatch({composerID:k,type:h.SET_AUDIENCE,audience:l,legacyAudience:m});},setAudienceElement:function(k,l){i.dispatch({composerID:k,type:h.SET_AUDIENCE_ELEMENT,audienceElement:l});},setAudienceInstance:function(k,l){i.dispatch({composerID:k,type:h.SET_AUDIENCE_INSTANCE,audienceInstance:l});},setPrivacyxNullDangerous:function(k,l){i.dispatch({composerID:k,type:h.SET_PRIVACYX_NULL_DANGEROUS,privacyxNullDangerous:l});}};f.exports=j;},null);
__d('ReactComposerAudienceSelector.react',['DOM','PrivacySelector','ReactComponentWithPureRenderMixin','React','ReactDOM','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=k.PropTypes,o=k.createClass({displayName:'ReactComposerAudienceSelector',mixins:[j],propTypes:{audienceXHP:n.instanceOf(HTMLElement).isRequired,onChange:n.func.isRequired,viewerIsTarget:n.bool.isRequired},componentDidMount:function(){if(this.props.viewerIsTarget)setTimeout(function(){var p=i.get(this.props.audienceXHP);if(p)p.subscribe('changed',this._onChange);}.bind(this),0);if(this.refs&&this.refs.audienceSelector){h.setContent(l.findDOMNode(this.refs.audienceSelector),this.props.audienceXHP);}else this._layerHack();},render:function(){return (k.createElement('div',{ref:'audienceSelector',className:"_5dd8"}));},_onChange:function(p,q){if(this.isMounted())this.props.onChange(q);},_layerHack:function(){setTimeout(function(){if(this.refs&&this.refs.audienceSelector){h.setContent(l.findDOMNode(this.refs.audienceSelector),this.props.audienceXHP);}else this._layerHack();}.bind(this),100);}});f.exports=o;},null);
__d('ReactComposerAudienceSelectorContainer.react',['ReactComposerAudienceActions','ReactComposerAudienceSelector.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusStore','ReactComposerTaggerStore','ReactComposerTaggerType','Arbiter','CSS','DOM','DataStore','PrivacySelector','ReactComponentWithPureRenderMixin','React','cx','csx','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x=t.PropTypes,y=t.createClass({displayName:'ReactComposerAudienceSelectorContainer',mixins:[s,j(k,l)],propTypes:{audienceXHP:x.instanceOf(HTMLElement).isRequired,viewerIsTarget:x.bool.isRequired},statics:{beforeCalculateInitialState:function(z,aa){var ba=aa.audienceXHP,ca,da=r.getAdamaSelectorInstance(ba);h.setAudienceElement(z,aa.audienceXHP);h.setAudienceInstance(z,da);if(!ba||!aa.viewerIsTarget)return;if(da)ca=da.getPostParam();var ea;if(!da)ea=p.scry(ba,'select option[selected="1"]').pop();if(!da&&!ea){var fa=p.scry(ba,'input[name="privacyx"]')[0];if(fa)ca=fa.value;}!(!!(ca||ea)||r.isFakeOrUneditableSelector(ba))?w(0):undefined;h.setAudience(z,ca,ea?ea.value:null);},calculateState:function(z,aa){var ba=k.getMentions(z),ca=l.getTaggerData(z,m.PEOPLE)||[],da=ca.map(function(ha){return {info:{type:ha.getType(),uid:ha.getUniqueID(),text:ha.getTitle()}};}),ea=o.hasClass(aa.audienceXHP,"_43_1")?aa.audienceXHP:p.scry(aa.audienceXHP,"._43_1")[0],fa=ea?q.get(ea,'selector'):null,ga={withTags:da,mention:ba};if(fa&&fa.informTagsChanged){fa.informTagsChanged(ga);}else n.inform('Composer/changedtags',ga);return {};}},render:function(){return (t.createElement(i,babelHelpers['extends']({},this.props,{onChange:this._onAudienceChanged})));},_onAudienceChanged:function(z){h.setAudience(this.context.composerID,z.post_param,z.privacy_base);}});f.exports=y;},null);
__d('ReactComposerStatusActions',['ReactComposerStatusActionType','ReactComposerDispatcher','ReactComposerStatusStore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();c('ReactComposerStatusStore');j.prototype.setMentionsSource=function(k,l){'use strict';var m={composerID:k,type:h.SET_MENTIONS_SOURCE,mentionsSource:l};i.dispatch(m);};j.prototype.setTypeaheadReporter=function(k,l){'use strict';var m={composerID:k,type:h.SET_TYPEAHEAD_REPORTER,typeaheadReporter:l};i.dispatch(m);};j.prototype.setEditorState=function(k,l){'use strict';var m={composerID:k,type:h.SET_EDITOR_STATE,editorState:l};i.dispatch(m);};j.prototype.setMentions=function(k,l){'use strict';var m={composerID:k,type:h.SET_MENTIONS,mentions:l};i.dispatch(m);};j.prototype.setTextLength=function(k,l){'use strict';i.dispatch({composerID:k,type:h.SET_TEXT_LENGTH,textLength:l});};function j(){'use strict';}f.exports=new j();},null);
__d('ReactComposerStatusAttachmentMentionsInput.react',['ReactComposerConfig','ReactComposerContextMixin','ReactComposerEvents','ReactComposerTaggerType','Arbiter','EditorState','Keys','MentionsInput.react','ReactComponentWithPureRenderMixin','React','SubscriptionsHandler','UserAgent_DEPRECATED','XUITypeaheadView.react','cx','getMentionsInputDecorator','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x=q.PropTypes,y=q.createClass({displayName:'ReactComposerStatusAttachmentMentionsInput',_subscriptions:undefined,mixins:[p,i],propTypes:{config:h,mentionsSource:x.object,typeaheadReporter:x.object,onChange:x.func,onFocus:x.func,onPasteFiles:x.func,onPostIntent:x.func},getInitialState:function(){return {editorState:this.props.editorState};},componentWillUnmount:function(){this.props.onBlur&&this.props.onBlur(this.state.editorState);this._subscriptions&&this._subscriptions.release();},componentWillMount:function(){var z=new r();z.addSubscriptions(l.subscribe([j.ACTIVATE_ATTACHMENT+this.context.composerID],function(){return this.focus();}.bind(this)));this._subscriptions=z;},componentWillReceiveProps:function(z){if(z.editorState===null)this.setState({editorState:m.createEmpty(v())});},render:function(){var z=this.props.config&&this.props.config.taggersConfig[k.PEOPLE],aa=z&&z.typeaheadView?z.typeaheadView:t,ba=z&&z.typeaheadViewProps?z.typeaheadViewProps:{},ca=Object.assign({},{typeaheadView:aa,typeaheadViewProps:ba,selectOnTab:false,spellCheck:true},this.props,{className:w("_1mwp",this.props.className),editorState:this.state.editorState,handleContentReturn:this._handleContentReturn,handlePastedFiles:this._handlePastedFiles,onAddMention:this._onAddMention,onShowMentions:this._onShowMentions,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onChange,maxResults:10});return (q.createElement(o,babelHelpers['extends']({ref:'mentionsInput'},ca)));},focus:function(){this.refs.mentionsInput.focus();},_onAddMention:function(z,aa,ba){var ca=this.props.typeaheadReporter;if(ca){ca.reportSelect(z.getUniqueID(),z.getType(),aa,ba.button>=0);ca.sessionEnd();ca.sessionStart();}},_onShowMentions:function(z,aa){var ba=this.props.typeaheadReporter;if(ba)ba.reportResults(z.map(function(ca){return ca.getUniqueID();}));},_onFocus:function(){var z=this.props.typeaheadReporter;if(z)z.sessionStart();this.props.onFocus&&this.props.onFocus();},_handlePastedFiles:function(z){var aa=/^image\//;z=z.filter(function(ba){return aa.test(ba.type);});if(z.length>0&&this.props.onPasteFiles){this.props.onPasteFiles(z);return true;}return false;},_handleContentReturn:function(event){var z=s.osx()?event.metaKey:event.controlKey;if(event.keyCode===n.RETURN&&z){this.refs.mentionsInput.blur();setTimeout(this.props.onPostIntent,0);return true;}return false;},_onChange:function(z){this.setState({editorState:z});this.props.onChange&&this.props.onChange(z);},_onBlur:function(){this.props.typeaheadReporter&&this.props.typeaheadReporter.sessionEnd();this.props.onBlur&&this.props.onBlur(this.state.editorState);}});f.exports=y;},null);
__d('ReactComposerHandleUnsavedChanges',['ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerInit','ReactComposerPhotoStore','ReactComposerPhotoUploadStore','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','ReactComposerStore','ReactComposerTaggerStore','ReactComposerVideoUploadStore','ComposerEntryPointRef','PageTransitions','Run','URI','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w={handler:function(x,y){var z=u.getMostRecentURI(),aa=u.getNextURI(),ba=z.getQueryData().hasOwnProperty('theater')&&!aa.getQueryData().hasOwnProperty('theater')&&y.toString()===aa.toString(),ca=y.toString()===z.toString()&&!z.getQueryData().hasOwnProperty('theater')&&aa.getQueryData().hasOwnProperty('theater'),da=z.getQueryData().hasOwnProperty('theater')&&aa.getQueryData().hasOwnProperty('theater')&&z.toString()!==aa.toString();if(ca||ba||da)t.onAfterLoad(function(){return (t.onBeforeUnload(function(){return (w.handler(x,y));}));});if(ca||ba||da||o.hasPostSucceeded(x)||o.isPublishing(x))return null;var ea=w.hasUnsavedChanges(x);if(ea&&!(b.Dialog&&b.Dialog.getCurrent())){return w.getUnsavedChangesMessage(x);}else return null;},hasUnsavedChanges:function(x){if(!j.isInstanceMounted(x))return false;var y=h.getIsAttachmentSelected(x,i.MEDIA),z=n.getTextLength(x)>0,aa=y&&(l.isUploading(x)||k.isRecognizing(x)||k.getPhotos(x).size>0),ba=y&&q.getVideo(x),ca=!p.areAllTaggersEmpty(x),da=m.hasAttachment(x),ea=z||aa||ba||ca||da;return !!ea;},getUnsavedChangesMessage:function(x){var y=o.getRef(x);switch(y){case r.EDIT_DIALOG:return v._("Are you sure you want to discard your changes?");default:return v._("You haven't finished your post yet. Do you want to leave without finishing?");}}};f.exports=w;},null);
__d('ReactComposerPrefillMentionsInput',['DraftEntity','EditorState','SelectionState','createEditorStateWithEntities','getBlockNumberAndOffsetFromText','getMentionsInputDecorator'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n={createEditorState:function(o,p){if(!o||!o.text)return i.createEmpty();var q=k({text:o.text,ranges:o.ranges||[],decorator:m(),entityCreationFn:function(u){return h.create('MENTION','IMMUTABLE',{id:u.id,isWeak:!!u.weakreference,type:u.type});}});if(p){var r=q.getCurrentContent().getBlockMap(),s=l(o.text,p.start),t=l(o.text,p.end);q=i.acceptSelection(q,new j({anchorKey:r.skip(s.block).first().getKey(),anchorOffset:s.offset,focusKey:r.skip(t.block).first().getKey(),focusOffset:t.offset,isBackward:false}));}else q=i.moveSelectionToEnd(q);return q;}};f.exports=n;},null);
__d('ReactComposerPrefillUtils',['ReactComposerPrefillMentionsInput'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={createEditorState:function(j,k){return h.createEditorState(j,k);}};f.exports=i;},null);
__d('ReactComposerStatusAttachmentMentionsInputContainer.react',['Arbiter','ReactComposerActions','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerContextMixin','ReactComposerEvents','ReactComposerPrefillConfig','ReactComposerPrefillStore','ReactComposerPrefillUtils','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusActions','ReactComposerStatusAttachmentMentionsInput.react','ReactComposerStatusStore','ReactComposerStore','EditorState','LitestandStoryInsertionStatus','ReactComponentWithPureRenderMixin','ReactComposerHandleUnsavedChanges','ReactComposerStatusUtils','React','UnicodeUtils','XUIError.react','cx','errorCode','getMentionsInputDecorator'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){if(c.__markCompiled)c.__markCompiled();var ha=ba.PropTypes,ia=ba.createClass({displayName:'ComposerStatusAttachmentMentionsInputContainer',mixins:[y,m,r(j,u,v)],propTypes:{config:l,mentionsEnabled:ha.bool,mentionsSource:ha.object,onChange:ha.func,onFocus:ha.func,onPasteFiles:ha.func,onPasteRawText:ha.func},getDefaultProps:function(){return {mentionsEnabled:true};},getInitialState:function(){return {isFocused:false};},statics:{beforeCalculateInitialState:function(ja,ka){if(ka.mentionsSource)s.setMentionsSource(ja,ka.mentionsSource);var la=p.getAndEraseField(ja,'mentionsInput');if(la){var ma=q.createEditorState(la.textWithEntities,la.selection);s.setEditorState(ja,ma);}},calculateState:function(ja,ka){var la=u.getEditorState(ja),ma=ka.mentionsEnabled?ga():null,na;if(la){if(la.getDecorator()!==ma){na=w.set(la,{decorator:ma});}else na=la;}else na=w.createEmpty(ma);s.setEditorState(ja,na);return {editorState:na,isSelectedAttachmentActive:j.isSelectedAttachmentActive(ja),mentionsSource:ka.mentionsEnabled?u.getMentionsSource(ja):null,posting:v.isPosting(ja),serverErrorResponse:v.getServerErrorResponse(ja),typeaheadReporter:u.getTypeaheadReporter(ja)};}},componentWillReceiveProps:function(ja){if(this.props.mentionsSource!==ja.mentionsSource)s.setMentionsSource(this.context.composerID,ja.mentionsSource);if(ja.editorState===null)s.setEditorState(this.context.composerID,w.createEmpty(ga()));},componentDidUpdate:function(ja,ka){if(!ka.serverErrorResponse&&this._shouldShowEmptyStatusError(this.state.serverErrorResponse))this.focus();},componentWillMount:function(){this._storyInsertionBlocker=x.registerBlocker(function(){return z.hasUnsavedChanges(this.context.composerID)||this.state.isFocused;}.bind(this));},componentWillUnmount:function(){this._storyInsertionBlocker&&this._storyInsertionBlocker.unsubscribe();this._storyInsertionBlocker=null;},render:function(){var ja=this.props.config&&this.props.config.attachmentsConfig[k.STATUS],ka=ba.createElement(t,babelHelpers['extends']({},this.props,{className:(this.state.isSelectedAttachmentActive?"_1mwq":'')+(this.props.config&&this.props.config.showExpandedComposer?' '+"_4c_p":'')+(ja&&ja.showProfilePic?' '+"_5bu_":'')+(this.state.posting?' '+"_1udp":''),ref:'mentionsInput',readOnly:this.state.posting,editorState:this.state.editorState,mentionsSource:this.state.mentionsSource,typeaheadReporter:this.state.typeaheadReporter,onBlur:this._onBlur,onChange:this._onChange,onFocus:this._onFocus,onPostIntent:this._onPostIntent}));if(this._shouldShowEmptyStatusError())ka=ba.createElement(da,{xuiError:this.state.serverErrorResponse.getErrorDescription(),xuiErrorPosition:'below',xuiErrorAlignh:'left'},ka);return ka;},focus:function(){this.refs.mentionsInput.focus();},_onFocus:function(){h.inform(n.MENTION_INPUT_FOCUS+this.context.composerID);this.setState({isFocused:true});this.props.onFocus&&this.props.onFocus();},_onChange:function(ja){var ka=0;if(ja){var la=ja.getCurrentContent();ka=la?ca.strlen(la.getPlainText()):0;}if(u.getTextLength(this.context.composerID)!==ka){s.setEditorState(this.context.composerID,ja);s.setTextLength(this.context.composerID,ka);}this._handleMarkdownChange(ja);this.props.onChange&&this.props.onChange(ja);},_handleMarkdownChange:function(ja){var ka=this.props.config?this.props.config.attachmentsConfig[k.STATUS]:null;aa.handleMarkdownPreview(this.context.composerID,this.context.targetID,ka,ja);},_onBlur:function(ja){s.setEditorState(this.context.composerID,ja);this.setState({isFocused:false});},_onPostIntent:function(){i.postIntended(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID});},_shouldShowEmptyStatusError:function(){return !!(this.state.serverErrorResponse&&this.state.serverErrorResponse.getError()==1455004&&u.getTextLength(this.context.composerID)===0);}});f.exports=ia;},null);
__d('ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react',['ReactComposerContextMixin','ReactComposerStatusActions','ReactComposerStatusAttachmentMentionsInputContainer.react','DraftEntity','ReactComponentWithPureRenderMixin','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=m.createClass({displayName:'ComposerStatusAttachmentMentionsInputWithTagExpansionContainer',mixins:[l,h],render:function(){var q=o(this.props.className,"_395");return (m.createElement(j,babelHelpers['extends']({},this.props,{className:q,onChange:this._onChange,ref:'mentionsInput'})));},focus:function(){this.refs.mentionsInput.focus();},_onChange:function(q){i.setMentions(this.context.composerID,this._getMentionsFromEditorState(q));this.props.onChange&&this.props.onChange(q);},_getMentionsFromEditorState:function(q){var r=q.getCurrentContent(),s={};r.getBlockMap().forEach(function(t){var u=t.getText();t.findEntityRanges(function(){return true;},function(v,w){var x=t.getEntityAt(v);if(!x)return;var y=k.get(x);if(y.getType()!=='MENTION'||y.getData().type!=='user')return;var z=y.getData().id;s[z]={type:'user',uid:z,text:u.slice(v,w)};});});return s;}});f.exports=p;},null);
__d('ReactComposerTaggerButtons.react',['ReactComponentWithPureRenderMixin','React','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=i.createClass({displayName:'ReactComposerTaggerButtons',mixins:[h],render:function(){return (i.createElement('div',{className:"_47gt"},this.props.children));}});f.exports=k;},null);
__d('ShareDialogTagSummary.react',['Arbiter','AsyncRequest','immutable','Parent','ReactComponentWithPureRenderMixin','React','cx','emptyFunction','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=m.PropTypes,r=true,s=m.createClass({displayName:'ShareDialogTagSummary',mixins:[l],_ogSubscription:undefined,_socialTextRequest:undefined,propTypes:{ogObjectClick:q.func.isRequired,onTagSummaryClick:q.func.isRequired,peopleToExclude:q.instanceOf(j.Set).isRequired,placeTokenClick:q.func.isRequired,taggerData:q.instanceOf(j.Map).isRequired,withTokenClick:q.func.isRequired},getDefaultProps:function(){return {peopleToExclude:j.Set(),ogObjectClick:o,onTagSummaryClick:o,placeTokenClick:o,withTokenClick:o};},getInitialState:function(){return {socialText:null};},componentWillMount:function(){this._ogSubscription=h.subscribe('composer/ogIconPickerOpened',function(event,t){r=false;});this._sendSocialTextRequest(this.props);},componentWillUnmount:function(){if(this._socialTextRequest)this._socialTextRequest.abort();},componentWillReceiveProps:function(t){if(!this.props.taggerData.equals(t.taggerData))this._sendSocialTextRequest(t);},_handleSocialText:function(t){this.setState({socialText:t.getPayload().rendered});},render:function(){var t=p(this.props.className,"_3qg0");return (m.createElement('div',{className:t,onMouseDown:this._onMouseDown,dangerouslySetInnerHTML:this.state.socialText}));},_onMouseDown:function(t){var u=t.target;if(k.byClass(u,'withToken')){this.props.withTokenClick();}else if(k.byClass(u,'placeToken')){this.props.placeTokenClick();}else if(k.byClass(u,'og_composer_object')){this.props.ogObjectClick();}else if(!(k.byClass(u,'ogPickerIcon')))this.props.onTagSummaryClick();},_sendSocialTextRequest:function(t){if(this._socialTextRequest)this._socialTextRequest.abort();var u=t.taggerData,v=u.get('people'),w=u.get('place'),x=u.get('action'),y=u.get('actionIconID'),z=u.get('object'),aa=v.filter(function(ea){return !this.props.peopleToExclude.has(ea.getUniqueID());}.bind(this));if(!(aa&&aa.length>0)&&!w&&!(x&&z)){if(this.state.socialText)this.setState({socialText:null});return;}var ba={};if(aa)ba.people=aa.map(function(ea){return ea.getUniqueID();});if(w){ba.place=w.getTitle();ba.placeID=w.getUniqueID();}if(x&&z){ba.actionID=x.getUniqueID();var ca=z.getUniqueID(),da=z.getTitle();if(!ca||ca===da){ba.objectStr=da;}else ba.objectID=ca;}if(y)ba.actionIconID=y;ba.iconPickerOpened=r!==true;this._socialTextRequest=new i();this._socialTextRequest&&this._socialTextRequest.setURI('/ajax/metacomposer/social_text.php').setData(ba).setHandler(this._handleSocialText).send();}});f.exports=s;},null);
__d('ReactComposerTaggerSummaryContainer.react',['ReactComposerContextMixin','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerPropsAndStoreBasedStateMixin','ShareDialogTagSummary.react','Arbiter','immutable','React','ReactDOM','containsNode'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=p.createClass({displayName:'ReactComposerTaggerSummaryContainer',_ogSubscription:undefined,mixins:[h,l(j)],statics:{calculateState:function(t,u){var v=j.getTaggersData(t),w=v[k.PEOPLE],x=v[k.LOCATION],y=v[k.ACTIVITY],z=x?x.place:null;return {people:w,place:z,activity:y};}},componentWillMount:function(){this._ogSubscription=n.subscribe('composer/ogCustomIconSelected',function(event,t){if(!r(q.findDOMNode(this.refs.taggerSummary),t.triggerElement))return;var u=j.getTaggerData(this.context.composerID,k.ACTIVITY)||{};u.actionIconID=t.icon_id;i.setTaggerData(this.context.composerID,k.ACTIVITY,u);}.bind(this));},componentWillUnmount:function(){if(this._ogSubscription){this._ogSubscription.unsubscribe&&this._ogSubscription.unsubscribe();this._ogSubscription=null;}},render:function(){return (p.createElement(m,{ogObjectClick:this._ogObjectClick,onTagSummaryClick:this._onTagSummaryClick,peopleToExclude:o.Set([this.context.actorID]),placeTokenClick:this._placeTokenClick,ref:'taggerSummary',taggerData:o.Map({action:this.state.activity.action,actionIconID:this.state.activity.actionIconID,object:this.state.activity.object,people:this.state.people,place:this.state.place}),withTokenClick:this._withTokenClick}));},_withTokenClick:function(){i.selectTagger(this.context.composerID,k.PEOPLE);},_placeTokenClick:function(){i.selectTagger(this.context.composerID,k.LOCATION);},_ogObjectClick:function(){i.selectTagger(this.context.composerID,k.ACTIVITY);},_onTagSummaryClick:function(){i.selectTagger(this.context.composerID,null);}});f.exports=s;},null);
__d('ReactComposerTaggers.react',['React','cx'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.createClass({displayName:'ReactComposerTaggers',render:function(){return (h.createElement('div',{className:"_5f24"},this.props.children));}});f.exports=j;},null);
__d('ReactComposerActionTaggerItem.react',['React','cx','ImageBlock.react','joinClasses','TypeaheadViewItem'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=h.PropTypes,n=h.createClass({displayName:'ReactComposerActionTaggerItem',mixins:[l.Mixin],propTypes:babelHelpers['extends']({customIcon:m.object},l.propTypes),render:function(){var o=this.props.entry,p=o.getAuxiliaryData(),q=h.createElement('span',{dangerouslySetInnerHTML:p.icon||this.props.customIcon}),r="_599m"+(' '+"_5mne")+(this.props.highlighted?' '+"_599n":'')+(' '+"_18d1")+(this.props.highlighted?' '+"_18d2":'');r=k(r,this.props.className);return (h.createElement('li',{'aria-selected':this.props.highlighted,className:r,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},h.createElement(j,{spacing:'medium'},q,h.createElement('div',{className:"_599p"},o.getTitle())),h.createElement('i',{className:"_18d3"})));}});f.exports=n;},null);
__d('ReactComposerActionTaggerView.react',['ReactComposerTaggerViewMixin','ReactComposerActionTaggerItem.react','React'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=j.createClass({displayName:'ReactComposerActionTaggerView',mixins:[h],getItemImpl:function(){return i;}});f.exports=k;},null);
__d('ReactComposerActionTaggerPresenter',['ReactComposerActionTaggerView.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports={ViewRenderer:h,useLayer:true,maxEntries:20};},null);
__d('WebAsyncSearchSourceWithMetrics',['AbstractAsyncSearchSource','AbstractSearchSource','AsyncRequest','Map','TypeaheadMetricReporter','WebAsyncSearchSourceUtils','uuid'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){var o,p;if(c.__markCompiled)c.__markCompiled();o=babelHelpers.inherits(q,i);p=o&&o.prototype;function q(r,s){'use strict';p.constructor.call(this);this.$WebAsyncSearchSourceWithMetrics1=new h(r,this.$WebAsyncSearchSourceWithMetrics4.bind(this),m.normalizeResponse);this.$WebAsyncSearchSourceWithMetrics2=new l(s);this.$WebAsyncSearchSourceWithMetrics3=new k();this.$WebAsyncSearchSourceWithMetrics2.addListener&&this.$WebAsyncSearchSourceWithMetrics2.addListener('reset',function(t){this.$WebAsyncSearchSourceWithMetrics1.setRequestData({sid:t.sid});}.bind(this));}q.prototype.bootstrapImpl=function(r){'use strict';this.$WebAsyncSearchSourceWithMetrics2.reportBootstrapBegin();this.$WebAsyncSearchSourceWithMetrics1.bootstrap(function(){this.$WebAsyncSearchSourceWithMetrics1.getBootstrappedEntries(function(s){this.$WebAsyncSearchSourceWithMetrics2.reportBootstrapComplete(s.map(function(t){return t.getType();}));r();}.bind(this));}.bind(this));};q.prototype.searchImpl=function(r,s,t){'use strict';this.$WebAsyncSearchSourceWithMetrics2.reportQueryBegin(r);if(t)this.$WebAsyncSearchSourceWithMetrics2.reportStrategyName(t.strategyName);var u=Date.now();this.$WebAsyncSearchSourceWithMetrics1.search(r,function(v,w,x){this.$WebAsyncSearchSourceWithMetrics2.reportQueryComplete(Date.now()-u,0);s(v,w,x);}.bind(this),t);};q.prototype.getBootstrappedEntries=function(r){'use strict';return this.$WebAsyncSearchSourceWithMetrics1.getBootstrappedEntries(r);};q.prototype.getAllEntriesMap=function(){'use strict';return this.$WebAsyncSearchSourceWithMetrics1.getAllEntriesMap();};q.prototype.getTypeaheadSessionID=function(){'use strict';return this.$WebAsyncSearchSourceWithMetrics2.getSID();};q.prototype.setRequestData=function(r){'use strict';this.$WebAsyncSearchSourceWithMetrics1.setRequestData(r);};q.prototype.sessionStart=function(){'use strict';this.$WebAsyncSearchSourceWithMetrics2.sessionStart();};q.prototype.sessionEnd=function(){'use strict';this.$WebAsyncSearchSourceWithMetrics2.sessionEnd();};q.prototype.reportResults=function(r){'use strict';this.$WebAsyncSearchSourceWithMetrics2.reportResults(r);};q.prototype.reportSelect=function(r,s,t,u,v,w){'use strict';this.$WebAsyncSearchSourceWithMetrics2.reportSelect(r,s,t,u,v,w);};q.prototype.reportRequestID=function(r){'use strict';this.$WebAsyncSearchSourceWithMetrics2.reportRequestID(this.$WebAsyncSearchSourceWithMetrics5(r));};q.prototype.$WebAsyncSearchSourceWithMetrics5=function(r){'use strict';var s=r;while(s.length>0){if(this.$WebAsyncSearchSourceWithMetrics3.has(s))return this.$WebAsyncSearchSourceWithMetrics3.get(s);s=s.slice(0,-1);}return this.$WebAsyncSearchSourceWithMetrics3.get('');};q.prototype.$WebAsyncSearchSourceWithMetrics4=function(r,s,t,u){'use strict';var v=r.value||'',w=n();new j(s.uri).setData(babelHelpers['extends']({request_id:w},r,s.data)).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setInitialHandler(function(){this.$WebAsyncSearchSourceWithMetrics3.set(v,w);}.bind(this)).setHandler(t).setErrorHandler(u).send();};f.exports=q;},null);
__d('ReactComposerActionTaggerComponent.react',['ReactComposerActionTaggerPresenter','ReactComposerTaggerViewStyles','DummySearchSource','React','WebAsyncSearchSourceWithMetrics','XUITypeahead.react','cx','emptyFunction','fbt','BasicTypeaheadLoggerJSConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=c('BasicTypeaheadLoggerJSConstants').Fields,r=k.PropTypes,s=k.createClass({displayName:'ReactComposerActionTaggerComponent',propTypes:{autoFocus:r.bool,onSelect:r.func,placeID:r.string,taggerSource:r.instanceOf(l).isRequired,taggerViewStyle:r.shape(i.Shape)},getDefaultProps:function(){return {autoFocus:true,onSelect:o,taggerSource:new j(),taggerViewStyle:i.DEFAULT};},getInitialState:function(){this.props.taggerSource.sessionStart();return {query:''};},componentWillUnmount:function(){this.props.taggerSource.sessionEnd();},_onSelect:function(t,event){var u={};u[q.SELECTED_ORIGINAL_ID]=t.getAuxiliaryData().original_id;u[q.PLACE_ID]=this.props.placeID;this.props.taggerSource.reportSelect(t.getUniqueID(),t.getType(),t.getOrder(),!!event&&event.button>=0,this.state.query,u);this.props.taggerSource.sessionEnd();this.setState({query:t.getTitle()});this.props.onSelect&&this.props.onSelect(t);},_onClear:function(){this.setState({query:''});this.props.onSelect&&this.props.onSelect(null);},_onChange:function(event){this.setState({query:event.target.value});},_onTypeaheadBlur:function(){this.props.taggerSource.sessionEnd();},_onTypeaheadFocus:function(){this.props.taggerSource.sessionStart();},_onEntriesFound:function(t,u){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(t.map(function(v){return v.getUniqueID();}));},_onNoEntriesFound:function(){this.props.taggerSource.reportRequestID(this.state.query);},render:function(){return (k.createElement('div',{className:"_3uco _5esl"},k.createElement(m,{presenter:this._getPresenter(),focusedOnInit:this.props.autoFocus,showEntriesOnFocus:true,placeholder:p._("What are you doing?"),className:"_5esx _3ucr",queryString:this.state.query,searchSource:this.props.taggerSource,highlightOnSelect:true,onSelectAttempt:this._onSelect,onClear:this._onClear,onChange:this._onChange,onBlur:this._onTypeaheadBlur,onFocus:this._onTypeaheadFocus,onEntriesFound:this._onEntriesFound,onNoEntriesFound:this._onNoEntriesFound,tallInput:true,autoHighlight:true})));},_getPresenter:function(){var t={taggerViewStyle:this.props.taggerViewStyle};return Object.assign({},h,{layerPosition:this.props.layerPosition||undefined,extraRendererProps:t});}});f.exports=s;},null);
__d('ReactComposerActivityTaggerButton.react',['ReactComposerTaggerButtonMixin','ReactComposerTaggerType','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=j.createClass({displayName:'ReactComposerActivityTaggerButton',mixins:[h],statics:{taggerID:i.ACTIVITY},getTitle:function(){return l._("Add what you're doing or how you're feeling");},getTooltip:function(){return l._("Add what you're doing or how you're feeling");},getClassName:function(){return "_58-g";}});f.exports=m;},null);
__d('ReactComposerObjectTaggerItem.react',['BackgroundImage.react','Badge.react','ImageBlock.react','React','TypeaheadViewItem','cx','joinClasses','Locale','UnicodeBidi'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=k.createClass({displayName:'ReactComposerObjectTaggerItem',mixins:[l.Mixin],propTypes:l.propTypes,render:function(){var r=this.props.entry,s=r.getSubtitle()?k.createElement('div',{className:"_599q"},r.getSubtitle()):null,t=r.getPhoto()?k.createElement(h,{width:32,height:32,backgroundSize:'cover',src:r.getPhoto()}):k.createElement('span',null),u=r.getAuxiliaryData(),v=u&&u.verified?v=k.createElement(i,null):null,w=u&&u.icon?k.createElement('span',{className:"_mbq",dangerouslySetInnerHTML:u.icon}):null,x="_599m"+(!s?' '+"_5mne":'')+(this.props.highlighted?' '+"_599n":'');x=n(x,this.props.className);var y=p.isDirectionRTL(r.getTitle()),z=o.isRTL(),aa=y&&!z?'rtl':!y&&z?'ltr':null;return (k.createElement('li',{'aria-selected':this.props.highlighted,className:x,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},k.createElement(j,{spacing:'medium'},t,k.createElement('div',null,k.createElement('div',{className:"_599p",dir:aa},r.getTitle(),v),s),w)));}});f.exports=q;},null);
__d('ReactComposerObjectTaggerView.react',['ReactComposerActionTaggerItem.react','ReactComposerObjectTaggerItem.react','ReactComposerTaggerViewMixin','React'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=k.createClass({displayName:'ReactComposerObjectTaggerView',mixins:[j],getItemImpl:function(){return i;},getRegexItemImpl:function(){return h;}});f.exports=l;},null);
__d('ReactComposerObjectTaggerPresenter',['ReactComposerObjectTaggerView.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports={ViewRenderer:h,useLayer:true,maxEntries:120};},null);
__d('ReactComposerObjectTaggerComponent.react',['ReactComposerObjectTaggerPresenter','ReactComposerTaggerViewStyles','DummySearchSource','Grid.react','React','RegexMatchSearchSource','WebAsyncPlusRegexSearchSource','WebAsyncSearchSourceWithMetrics','XUITypeahead.react','cx','emptyFunction','BasicTypeaheadLoggerJSConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=k.GridItem,t=c('BasicTypeaheadLoggerJSConstants').Fields,u=l.PropTypes,v=l.createClass({displayName:'ReactComposerObjectTaggerComponent',propTypes:{action:u.object.isRequired,actionTypeIDsWithNoFreeForm:u.object.isRequired,autoFocus:u.bool,object:u.object,onClear:u.func.isRequired,onEmptyBackspace:u.func.isRequired,onPrefixClick:u.func.isRequired,onSelect:u.func.isRequired,placeID:u.string,taggerSource:u.instanceOf(o).isRequired,taggerViewStyle:u.shape(i.Shape)},getDefaultProps:function(){return {actionTypeIDsWithNoFreeForm:{},autoFocus:true,onClear:r,onEmptyBackspace:r,onPrefixClick:r,onSelect:r,taggerSource:new j(),taggerViewStyle:i.DEFAULT};},getInitialState:function(){var w=this.props.taggerSource,x=this.props.action.getUniqueID(),y=this.props.actionTypeIDsWithNoFreeForm,z=!y[x];if(z){var aa=new m('.+');w=new n({asyncSource:w,regexSource:aa,appendRegexEntries:true});}setTimeout(function(){this.props.taggerSource.sessionStart();}.bind(this),0);return {query:this.props.object?this.props.object.getTitle():'',searchSource:w};},componentWillUnmount:function(){this.props.taggerSource.sessionEnd();},_onSelect:function(w,event){var x={};x[t.SELECTED_ORIGINAL_ID]=w.getAuxiliaryData().original_id;x[t.PLACE_ID]=this.props.placeID;this.props.taggerSource.reportSelect(w.getUniqueID(),w.getType(),w.getOrder(),!!event&&event.button>=0,this.state.query,x);this.props.taggerSource.sessionEnd();this.setState({query:w.getTitle()});this.props.onSelect(w);},_onBackspace:function(event){if(this.props.object&&this.props.object.getTitle()===event.target.value)this.props.onSelect(null);if(event.target.value==='')this.props.onEmptyBackspace();},_onClear:function(){this.setState({query:''});this.props.onClear();},_onChange:function(event){this.setState({query:event.target.value});},_onPrefixClick:function(){this.props.onPrefixClick();},_onTypeaheadBlur:function(){this.props.taggerSource.sessionEnd();},_onTypeaheadFocus:function(){setTimeout(function(){this.props.taggerSource.sessionStart();}.bind(this),0);},_onEntriesFound:function(w,x){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(w.map(function(y){return y.getUniqueID();}));},_onNoEntriesFound:function(){this.props.taggerSource.reportRequestID(this.state.query);},focusInput:function(){var w=this.refs.objectTypeahead;if(w)w.focusInput&&w.focusInput();},render:function(){var w=this.props.action.getAuxiliaryData(),x=w?w.prompt:'';return (l.createElement(k,{cols:2,className:"_5esl",role:'presentation'},l.createElement(s,{className:"_5esm _4zdy",key:'prefix',role:'presentation',onClick:this._onPrefixClick},this.props.action.getTitle()),l.createElement(s,{className:"_5esw",key:'suffix',role:'presentation'},l.createElement(p,{ref:'objectTypeahead',presenter:this._getPresenter(),clearable:true,focusedOnInit:this.props.autoFocus,autoHighlight:true,showEntriesOnFocus:true,placeholder:x,selectedEntry:this.props.object,className:"_5esx _4zdz",queryString:this.state.query,searchSource:this.state.searchSource,highlightOnSelect:true,onSelectAttempt:this._onSelect,onBackspace:this._onBackspace,onClear:this._onClear,onChange:this._onChange,onBlur:this._onTypeaheadBlur,onEntriesFound:this._onEntriesFound,onNoEntriesFound:this._onNoEntriesFound,onFocus:this._onTypeaheadFocus,tallInput:false}))));},_getPresenter:function(){var w={};w.taggerViewStyle=this.props.taggerViewStyle;w.customIcon=this.props.action.getAuxiliaryData().icon;return Object.assign({},h,{layerPosition:this.props.layerPosition||undefined,extraRendererProps:w});}});f.exports=v;},null);
__d('ReactComposerObjectTaggerContainer.react',['ReactComposerObjectTaggerComponent.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerTaggerViewStyles','React','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=m.PropTypes,p=m.createClass({displayName:'ReactComposerObjectTaggerContainer',mixins:[i(j)],propTypes:{action:o.object.isRequired,autoFocus:o.bool,onClear:o.func.isRequired,onEmptyBackspace:o.func.isRequired,onPrefixClick:o.func.isRequired,onSelect:o.func.isRequired,object:o.object,taggerViewStyle:o.shape(l.Shape)},getDefaultProps:function(){return {autoFocus:true,onClear:n,onEmptyBackspace:n,onPrefixClick:n,onSelect:n,taggerViewStyle:l.DEFAULT};},statics:{calculateState:function(q,r){var s=j.getTaggerSource(q,k.OG);return {taggerSource:s};}},render:function(){return (m.createElement(h,babelHelpers['extends']({ref:'objectTagger'},this.props,{taggerSource:this.state.taggerSource})));},focusInput:function(){var q=this.refs.objectTagger;q&&q.focusInput();}});f.exports=p;},null);
__d('ReactComposerActivityTaggerComponent.react',['ReactComposerActionTaggerComponent.react','ReactComposerObjectTaggerContainer.react','ReactComposerTaggerViewStyles','DummySearchSource','React','WebAsyncSearchSourceWithMetrics','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=l.PropTypes,p=l.createClass({displayName:'ReactComposerActivityTaggerComponent',propTypes:{actionTypeIDsWithNoFreeForm:o.object.isRequired,actorID:o.string.isRequired,autoFocus:o.bool,placeID:o.string,taggerData:o.object.isRequired,taggerSource:o.instanceOf(m).isRequired,onSelect:o.func.isRequired,actionTaggerViewStyle:o.shape(j.Shape),objectTaggerViewStyle:o.shape(j.Shape)},getDefaultProps:function(){return {actionTypeIDsWithNoFreeForm:{},autoFocus:true,taggerData:{},taggerSource:new k(),onSelect:n,actionTaggerViewStyle:j.DEFAULT,objectTaggerViewStyle:j.DEFAULT};},getInitialState:function(){return {action:this.props.taggerData.action,object:this.props.taggerData.object};},componentDidUpdate:function(){if(this.state.action&&!this.state.object){var q=this.refs.objectTagger;q&&q.focusInput();}},componentWillUnmount:function(){if(this.state.action&&!this.state.object)this._clearActionTypeAndObject();},render:function(){if(this.state.action)return (l.createElement(i,{ref:'objectTagger',action:this.state.action,actionTypeIDsWithNoFreeForm:this.props.actionTypeIDsWithNoFreeForm,autoFocus:this.props.autoFocus,layerPosition:this.props.layerPosition,object:this.state.object,onClear:this._clearActionTypeAndObject,onEmptyBackspace:this._clearActionTypeAndObject,onPrefixClick:this._clearActionTypeAndObject,onSelect:this._onChangeObject,placeID:this.props.placeID,taggerViewStyle:this.props.objectTaggerViewStyle}));return (l.createElement(h,{autoFocus:this.props.autoFocus,layerPosition:this.props.layerPosition,onSelect:this._onChangeAction,placeID:this.props.placeID,taggerSource:this.props.taggerSource,taggerViewStyle:this.props.actionTaggerViewStyle}));},_onChangeAction:function(q){this.props.onSelect&&this.props.onSelect(this.getTaggerData(q,null));this.setState({action:q});},_onChangeObject:function(q){this.props.onSelect&&this.props.onSelect(this.getTaggerData(this.state.action,q));this.setState({object:q});},_clearActionTypeAndObject:function(){this.props.onSelect&&this.props.onSelect(this.getTaggerData(null,null));this.setState({action:null,object:null});},getTaggerData:function(q,r){var s=this.props.taggerData;s.action=q;s.object=r;return s;}});f.exports=p;},null);
__d('ReactComposerActivityTaggerContainer.react',['ReactComposerActivityTaggerComponent.react','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerMinutiaeAttachmentActions','ReactComposerTaggerActions','ReactComposerTaggerContainerMixin','ReactComposerTaggerType','ReactComposerTaggerViewStyles','ReactComposerTypeaheadSearchSourceConfig','ReactComposerTypeaheadSearchSourceType','BasicTypeaheadLoggerJSConstants','Map','OGComposerJSConstants','React','WebAsyncSearchSourceWithMetrics','getObjectValues'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x=u.PropTypes,y=u.createClass({displayName:'ReactComposerActivityTaggerContainer',_actionTypeSearchSources:new s(),_objectSearchSources:new s(),_searchSourceConfig:null,mixins:[m],statics:{taggerID:n.ACTIVITY,taggerComponent:h},propTypes:{actionTypeIDsToPrefetch:x.array.isRequired,actionTypeIDsWithNoFreeForm:x.object.isRequired,isPersonalTimeline:x.bool,rankVerbs:x.bool,placeID:x.string,typeaheadLoggerEventName:x.oneOf(w(r.EventNames)).isRequired,actionTaggerViewStyle:x.shape(o.Shape),objectTaggerViewStyle:x.shape(o.Shape)},getDefaultProps:function(){return {actionTypeIDsToPrefetch:[],actionTypeIDsWithNoFreeForm:{},isPersonalTimeline:false,placeID:null,rankVerbs:false,actionTaggerViewStyle:o.DEFAULT,objectTaggerViewStyle:o.DEFAULT};},getInitialState:function(){return {hasDoneInitialObjectPrefetch:false};},componentWillMount:function(){this._searchSourceConfig=p[q.ACTIVITY];this._updateActionTypeSearchSource(this.props.placeID);this.state.taggerData&&this.__onTaggerDataChanged(this.state.taggerData);},componentWillReceiveProps:function(z){if(z.placeID!==this.props.placeID){this._updateActionTypeSearchSource(z.placeID);this._prefetchObjectSearchSources(z.placeID);}},componentWillUpdate:function(z,aa){if(!this.state.isSelected&&aa.isSelected){var ba=this._actionTypeSearchSources.get(this.props.placeID).getTypeaheadSessionID();this._createAndBootstrapActionTypeSearchSource(this.props.placeID,{sid:ba});var ca=this.state.hasDoneInitialObjectPrefetch||aa.hasDoneInitialObjectPrefetch;if(!ca)this._prefetchObjectSearchSources(this.props.placeID);}},__onTaggerDataChanged:function(z){if(z.action){this._updateObjectSearchSource(z.action.getUniqueID());if(!z.object){var aa=this._objectSearchSources.get(z.action.getUniqueID()).getTypeaheadSessionID();this._createAndBootstrapObjectSearchSource(z.action.getUniqueID(),this.props.placeID,{sid:aa});}}if(z.action&&z.object){l.selectTagger(this.context.composerID,null);var ba=this._shouldFetchMinutiaeAttachment(z.action,z.object);if(ba)k.fetchMinutiaeAttachment(this.context.composerID,z.action.getUniqueID(),z.object.getUniqueID(),this.context.targetID,!!this.props.isPersonalTimeline);}else k.setMarkup(this.context.composerID,null);},_shouldFetchMinutiaeAttachment:function(z,aa){var ba=i.getIsAttachmentSelected(this.context.composerID,j.STATUS);if(!ba)return false;if(aa.getAuxiliaryData().isRegexEntry)return false;return true;},_updateActionTypeSearchSource:function(z){var aa=null;if(this._actionTypeSearchSources.has(z)){aa=this._actionTypeSearchSources.get(z);}else{aa=this._createAndBootstrapActionTypeSearchSource(z,{is_prefetching:true});this._actionTypeSearchSources.set(z,aa);}l.setTaggerSource(this.context.composerID,n.ACTIVITY,aa);},_createAndBootstrapActionTypeSearchSource:function(z,aa){var ba='/ajax/metacomposer/attachment/og/typeahead/bootstrap/action_type_loader',ca={place_id:z,rank_verbs:this.props.rankVerbs,viewer:this.props.actorID},da={getAllForEmptyQuery:true,bootstrapRequests:[{uri:ba,data:Object.assign({},ca)}],queryRequests:[],auxiliaryFields:this._searchSourceConfig.action&&this._searchSourceConfig.action.auxiliaryFields};if(this.props.rankVerbs)da.queryRequests=[{uri:ba,data:Object.assign({},ca)}];var ea={event_name:this.props.typeaheadLoggerEventName,minutiae_composer_version:r.MinutiaeComposerVersions.REACT,at_id:t.ActionTypeIDs.COMPOSER_SELECTS_VERB},fa=new v(da,ea),ga=fa.getTypeaheadSessionID();fa.setRequestData(aa);fa.bootstrap();fa.setRequestData({sid:ga});return fa;},_prefetchObjectSearchSources:function(z){var aa=this.props.actionTypeIDsToPrefetch,ba=new s();aa.forEach(function(ca){var da=this._createAndBootstrapObjectSearchSource(ca,z,{is_prefetching:true});ba.set(ca,da);}.bind(this));this._objectSearchSources=ba;this.setState({hasDoneInitialObjectPrefetch:true});},_updateObjectSearchSource:function(z){var aa=null;if(this._objectSearchSources.has(z)){aa=this._objectSearchSources.get(z);}else{aa=this._createAndBootstrapObjectSearchSource(z,this.props.placeID,{is_prefetching:false});this._objectSearchSources.set(z,aa);}l.setTaggerSource(this.context.composerID,n.OG,aa);},_createAndBootstrapObjectSearchSource:function(z,aa,ba){var ca='/ajax/metacomposer/attachment/og/typeahead/query/object_loader',da={at_id:z,place_id:aa,viewer:this.props.actorID},ea={getAllForEmptyQuery:true,bootstrapRequests:[{uri:ca,data:Object.assign({},da,{is_bootstrap:true})}],queryRequests:[{uri:ca,data:Object.assign({},da,{is_bootstrap:false})}],auxiliaryFields:this._searchSourceConfig.object&&this._searchSourceConfig.object.auxiliaryFields},fa={event_name:this.props.typeaheadLoggerEventName,minutiae_composer_version:r.MinutiaeComposerVersions.REACT,at_id:z},ga=new v(ea,fa),ha=ga.getTypeaheadSessionID();ga.setRequestData(ba);ga.bootstrap();ga.setRequestData({sid:ha});return ga;}});f.exports=y;},null);
__d('ReactComposerLocationSearchSource',['ReactComposerTypeaheadSearchSourceConfig','ReactComposerTypeaheadSearchSourceType','SearchableEntry','WebAsyncSearchSourceWithMetrics'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();function l(m,n,o){var p=h[i.LOCATION],q=Object.assign(p,n),r=Object.assign(p,m),p={bootstrapRequests:[{uri:'/ajax/places/typeahead',data:r}],getAllForEmptyQuery:true,queryRequests:[{uri:'/ajax/places/typeahead',data:q}],packageFn:function(s){return s?new j(s):null;}};return new k(p,o);}f.exports=l;},null);
__d('ReactComposerLocationTaggerButton.react',['ReactComposerTaggerButtonMixin','ReactComposerTaggerType','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=j.createClass({displayName:'ReactComposerLocationTaggerButton',mixins:[h],statics:{taggerID:i.LOCATION},getTitle:function(){return l._("Tag a location");},getTooltip:function(){return l._("Add a location to your post");},getClassName:function(){return "_520r";}});f.exports=m;},null);
__d('ReactComposerLocationTypeaheadComponent.react',['React','WebAsyncSearchSourceWithMetrics','XUITypeahead.react','emptyFunction','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=h.PropTypes,n=h.createClass({displayName:'ReactComposerLocationTypeaheadComponent',propTypes:{autoFocus:m.bool,defaultLocation:m.string,implicitLocationEnabled:m.bool,onSelect:m.func,placeholder:m.string,presenter:m.object,taggerData:m.object.isRequired,taggerSource:m.instanceOf(i).isRequired},getDefaultProps:function(){return {autoFocus:true,implicitLocationEnabled:false,onSelect:k,placeholder:l._("Where are you?"),taggerData:{}};},getInitialState:function(){this.props.taggerSource.sessionStart();var o={};if(this.props.defaultLocation){o.query=this.props.defaultLocation;}else o.query=this.props.taggerData.place?this.props.taggerData.place.getTitle():'';return o;},componentWillUnmount:function(){this.props.taggerSource.sessionEnd();},render:function(){return (h.createElement(j,{className:this.props.className,clearable:true,focusedOnInit:this.props.autoFocus,highlightOnSelect:true,initialEntry:this.props.taggerData.place,onBackspace:this._onBackspace,onBlur:this._onBlur,onChange:this._onChange,onClear:this._onClear,onEntriesFound:this._onEntriesFound,onFocus:this._onFocus,onNoEntriesFound:this._onNoEntriesFound,onSelectAttempt:this._onSelect,placeholder:this.props.placeholder,presenter:this.props.presenter,queryString:this.state.query,searchSource:this.props.taggerSource,selectedEntry:this.props.taggerData.place,showEntriesOnFocus:true,tallInput:false}));},_getCopyOfData:function(){return Object.assign({},this.props.taggerData);},_onSelect:function(o,event){this.props.taggerSource.reportSelect(o.getUniqueID(),o.getType(),o.getOrder(),!!event&&event.button>=0,this.state.query);this.props.taggerSource.sessionEnd();var p=this._getCopyOfData();p.place=o;this.setState({query:o.getTitle()});this.props.onSelect&&this.props.onSelect(p);},_onChange:function(event){this.setState({query:event.target.value});},_onBackspace:function(event){if(this.state.query===event.target.value)this._removePlace();},_onClear:function(){this._removePlace();this.setState({query:''});},_removePlace:function(){var o=this._getCopyOfData();o.place=null;if(!this.props.implicitLocationEnabled)o.implicitLocation=null;this.props.onSelect&&this.props.onSelect(o);},_onBlur:function(){this.props.taggerSource.sessionEnd();},_onFocus:function(){this.props.taggerSource.sessionStart();},_onEntriesFound:function(o,p){this.props.taggerSource.reportRequestID(this.state.query);this.props.taggerSource.reportResults(o.map(function(q){return q.getUniqueID();}));},_onNoEntriesFound:function(){this.props.taggerSource.reportRequestID(this.state.query);}});f.exports=n;},null);
__d('ReactComposerLocationTaggerComponent.react',['ReactComposerLocationTypeaheadComponent.react','ReactComposerTaggerPresenter','ReactComposerTaggerViewStyles','Grid.react','React','WebAsyncSearchSourceWithMetrics','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=k.GridItem,q=l.PropTypes,r=l.createClass({displayName:'ReactComposerLocationTaggerComponent',propTypes:{autoFocus:q.bool,implicitLocationEnabled:q.bool,onSelect:q.func,placeholder:q.string,taggerData:q.object.isRequired,taggerSource:q.instanceOf(m).isRequired,taggerViewStyle:q.shape(j.Shape)},getDefaultProps:function(){return {taggerViewStyle:j.DEFAULT};},render:function(){return (l.createElement(k,{cols:2,className:"_5esl",role:'presentation'},l.createElement(p,{key:'prefix',className:"_5esm",role:'presentation'},o._("At")),l.createElement(p,{key:'tagger',className:"_5esw",role:'presentation'},l.createElement(h,babelHelpers['extends']({},this.props,{className:"_5esx _1wqz",presenter:this._getPresenter()})))));},_getPresenter:function(){var s={taggerViewStyle:this.props.taggerViewStyle};return Object.assign({},i,{layerPosition:this.props.layerPosition||undefined,extraRendererProps:s,maxEntries:15});}});f.exports=r;},null);
__d('ReactComposerLocationTaggerContainer.react',['ReactComposerLocationSearchSource','ReactComposerLocationAttachmentActions','ReactComposerLocationTaggerComponent.react','ReactComposerTaggerActions','ReactComposerTaggerContainerMixin','ReactComposerTaggerType','ReactComposerTaggerViewStyles','PlaceSearchConstants','React','areEqual','emptyFunction','getObjectValues','BasicTypeaheadLoggerJSConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=c('BasicTypeaheadLoggerJSConstants').EventNames,u=p.PropTypes,v=p.createClass({displayName:'ReactComposerLocationTaggerContainer',_taggerSourceInitialized:false,mixins:[l],propTypes:{hideGeoHubs:u.bool,mediaLocation:u.shape({latitude:u.number.isRequired,longitude:u.number.isRequired}),onSelect:u.func.isRequired,taggerConfig:u.object,taggerViewStyle:u.shape(n.Shape),typeaheadLoggerEventName:u.oneOf(s(t)).isRequired,typeaheadSearchSource:u.oneOf(s(o)).isRequired},getDefaultProps:function(){return {hideGeoHubs:false,onSelect:r,taggerViewStyle:n.DEFAULT};},componentWillMount:function(){if(!this._taggerSourceInitialized){this._setNewSearchSource(this.props);this._taggerSourceInitialized=true;}},componentWillReceiveProps:function(w){if(!q(w.mediaLocation,this.props.mediaLocation))this._setNewSearchSource(w);},statics:{taggerID:m.LOCATION,taggerComponent:j},__onTaggerDataChanged:function(w){var x=w.place&&w.place.getAuxiliaryData();if(x)w.implicitLocation={cityid:x.cityID,citypageid:x.cityPageID,citystring:x.cityName};if(w.place){k.selectTagger(this.context.composerID,null);i.fetchLocationAttachment(this.context.composerID,w.place.getUniqueID(),this.context.targetID);}else i.setMarkup(this.context.composerID,null);},_setNewSearchSource:function(w){var x={latitude:(w.mediaLocation||{}).latitude,longitude:(w.mediaLocation||{}).longitude},y={hide_geo:w.hideGeoHubs,latitude:(w.mediaLocation||{}).latitude,longitude:(w.mediaLocation||{}).longitude},z={event_name:w.typeaheadLoggerEventName,event_specific_data:{context:'places_typeahead:'+w.typeaheadSearchSource,source:w.typeaheadSearchSource,ref:'ReactComposerLocationTypeaheadComponent.react'}},aa=h(x,y,z);k.setTaggerSource(this.context.composerID,m.LOCATION,aa);}});f.exports=v;},null);
__d('ReactComposerPeopleTaggerButton.react',['ReactComposerTaggerButtonMixin','ReactComposerTaggerType','React','cx','fbt','CurrentUser'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=j.createClass({displayName:'ReactComposerPeopleTaggerButton',mixins:[h],statics:{taggerID:i.PEOPLE},getTitle:function(){if(m.isWorkUser())return l._("Tag coworkers");return l._("Tag people");},getTooltip:function(){if(m.isWorkUser())return l._("Tag coworkers in your post");return l._("Tag people in your post");},getClassName:function(){return "_5hd5";}});f.exports=n;},null);
__d('ReactComposerPeopleTaggerTokenizerToken.react',['React','SearchableEntry','TokenizerToken.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=h.PropTypes,n=h.createClass({displayName:'ReactComposerPeopleTaggerTokenizerToken',propTypes:{label:m.string.isRequired,entry:m.instanceOf(i).isRequired,onRemove:m.func,highlighted:m.bool},_renderGlyph:function(){return (h.createElement('span',{className:"_jsa"}));},render:function(){var o=this.props.entry&&this.props.entry.getAuxiliaryData().isFacebox,p=(o?"_jsb":'')+(' '+"_jsc");return (h.createElement(j,babelHelpers['extends']({},this.props,{className:l(this.props.className,p),glyph:this._renderGlyph()})));}});f.exports=n;},null);
__d('ReactComposerPeopleTaggerComponent.react',['ReactComposerPeopleTaggerTokenizerToken.react','ReactComposerTaggerPresenter','ReactComposerTaggerViewStyles','Grid.react','React','XUITokenizer.react','cx','emptyFunction','fbt','CurrentUser'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=k.GridItem,s=l.PropTypes,t=l.createClass({displayName:'ReactComposerPeopleTaggerComponent',propTypes:{actorID:s.string,autoFocus:s.bool,placeholder:s.string,taggerConfig:s.object,taggerData:s.array.isRequired,taggerSource:s.object.isRequired,onPeopleTagRemove:s.func,onSelect:s.func,taggerViewStyle:s.shape(j.Shape)},getDefaultProps:function(){var u=p._("Who are you with?");if(q.isWorkUser())u=p._("Who do you want to tag?");return {autoFocus:true,onSelect:o,placeholder:u,taggerViewStyle:j.DEFAULT,taggerData:[]};},_onAdd:function(u){var v=this.props.taggerData,w=u.getUniqueID(),x=v.some(function(y){return y.getUniqueID()===w;});if(x){return;}else v.push(u);this.props.onSelect&&this.props.onSelect(v);},_onRemove:function(u){var v=this.props.taggerData,w=v.indexOf(u);if(w==-1)return;v.splice(w,1);this.props.onPeopleTagRemove&&this.props.onPeopleTagRemove(u);this.props.onSelect&&this.props.onSelect(v);},render:function(){var u={};if(this.props.actorID)u[this.props.actorID]=true;return (l.createElement(k,{cols:2,className:"_5esl",role:'presentation'},l.createElement(r,{key:'label',className:"_5esm",role:'presentation'},p._("With")),l.createElement(r,{key:'tokenizer',className:"_5esw",role:'presentation'},l.createElement(m,babelHelpers['extends']({presenter:this._getPresenter(),focusedOnInit:this.props.autoFocus,excludedEntries:u,entries:this.props.taggerData,className:"_5esx _2fzs",placeholder:this.props.placeholder,searchSource:this.props.taggerSource,onAddEntryAttempt:this._onAdd,onRemoveEntryAttempt:this._onRemove},this.props)))));},_getPresenter:function(){var u=this.props.taggerConfig&&this.props.taggerConfig.presenter?this.props.taggerConfig.presenter:i,v={};v.taggerViewStyle=this.props.taggerViewStyle;v.viewProps=this.props.taggerConfig&&this.props.taggerConfig.typeaheadViewProps;return Object.assign({},u,{layerPosition:this.props.layerPosition||undefined,extraRendererProps:v,TokenRenderer:h});}});f.exports=t;},null);
__d('ReactComposerPeopleTaggerContainer.react',['ReactComposerPeopleTaggerComponent.react','ReactComposerPhotoActions','ReactComposerTaggerActions','ReactComposerTaggerContainerStateMixin','ReactComposerTaggerType','ReactComposerTaggerViewStyles','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=n.PropTypes,p=n.createClass({displayName:'ReactComposerPeopleTaggerContainer',mixins:[k],propTypes:{actorID:o.string,taggerConfig:o.object,taggerViewStyle:o.shape(m.Shape)},getDefaultProps:function(){return {taggerViewStyle:m.DEFAULT};},statics:{taggerID:l.PEOPLE},render:function(){if(!this.state.isSelected)return n.createElement('noscript',null);return (n.createElement(h,babelHelpers['extends']({},this.props,{autoFocus:this.state.autoFocus,onPeopleTagRemove:this._onPeopleTagRemove,onSelect:this._onTaggerDataChanged,taggerData:this.state.taggerData,taggerSource:this.state.taggerSource})));},_onTaggerDataChanged:function(q){j.setTaggerData(this.context.composerID,l.PEOPLE,q);this.props.onSelect&&this.props.onSelect(q);},_onPeopleTagRemove:function(q){i.untagSubjectFromAllPhotos(this.context.composerID,q.getUniqueID());}});f.exports=p;},null);
__d('ReactShareDialogComposerActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({SET_SHARE_DIALOG_TARGET:null,SET_SHARE_DIALOG_TARGET_INFO:null,SET_SHARE_DIALOG_TARGETED_PRIVACY_DATA:null,SET_SHARE_DIALOG_ATTRIBUTION:null,SET_SHARE_DIALOG_TYPE:null,SET_SHARE_TO_GROUPS_AS_PAGE:null});},null);
__d('ReactShareDialogComposerStore',['ReactComposerStoreBase','ReactShareDialogComposerActionType'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,h);k=j&&j.prototype;function l(){'use strict';var m;k.constructor.call(this,function(){return {target:null,targetInfo:{},attribution:null};},function(n){switch(n.type){case i.SET_SHARE_DIALOG_TARGET:m&&m.$ReactShareDialogComposerStore1(n);break;case i.SET_SHARE_DIALOG_TARGET_INFO:m&&m.$ReactShareDialogComposerStore2(n);break;case i.SET_SHARE_DIALOG_TARGETED_PRIVACY_DATA:m&&m.$ReactShareDialogComposerStore3(n);break;case i.SET_SHARE_DIALOG_ATTRIBUTION:m&&m.$ReactShareDialogComposerStore4(n);break;case i.SET_SHARE_DIALOG_TYPE:m&&m.$ReactShareDialogComposerStore5(n);break;case i.SET_SHARE_TO_GROUPS_AS_PAGE:m&&m.$ReactShareDialogComposerStore6(n);break;}});m=this;}l.prototype.getTarget=function(m){'use strict';return this.getComposerData(m).target;};l.prototype.getTargetInfo=function(m){'use strict';return this.getComposerData(m).targetInfo;};l.prototype.getTargetedPrivacyData=function(m){'use strict';return this.getComposerData(m).targetedPrivacyData;};l.prototype.getAttribution=function(m){'use strict';return this.getComposerData(m).attribution;};l.prototype.getShareDialogType=function(m){'use strict';return this.getComposerData(m).shareType;};l.prototype.getShareToGroupsAsPage=function(m){'use strict';return !!this.getComposerData(m).shareToGroupsAsPage;};l.prototype.$ReactShareDialogComposerStore1=function(m){'use strict';var n=this.getComposerData(m.composerID);n.target=m.target;this.emitChange(m.composerID);};l.prototype.$ReactShareDialogComposerStore2=function(m){'use strict';var n=this.getComposerData(m.composerID);n.targetInfo=m.targetInfo;this.emitChange(m.composerID);};l.prototype.$ReactShareDialogComposerStore3=function(m){'use strict';var n=this.getComposerData(m.composerID);n.targetedPrivacyData=m.targetedPrivacyData;this.emitChange(m.composerID);};l.prototype.$ReactShareDialogComposerStore4=function(m){'use strict';var n=this.getComposerData(m.composerID);n.attribution=m.attribution;this.emitChange(m.composerID);};l.prototype.$ReactShareDialogComposerStore5=function(m){'use strict';var n=this.getComposerData(m.composerID);n.shareType=m.shareType;this.emitChange(m.composerID);};l.prototype.$ReactShareDialogComposerStore6=function(m){'use strict';var n=this.getComposerData(m.composerID);n.shareToGroupsAsPage=m.shareToGroupsAsPage;this.emitChange(m.composerID);};f.exports=new l();},null);
__d('ReactShareDialogComposerActions',['ReactComposerDispatcher','ReactShareDialogComposerActionType','ReactShareDialogComposerStore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();c('ReactShareDialogComposerStore');var j={setTarget:function(k,l){h.dispatch({composerID:k,type:i.SET_SHARE_DIALOG_TARGET,target:l});},setTargetInfo:function(k,l){h.dispatch({composerID:k,type:i.SET_SHARE_DIALOG_TARGET_INFO,targetInfo:l});},setTargetedPrivacyData:function(k,l){h.dispatch({composerID:k,type:i.SET_SHARE_DIALOG_TARGETED_PRIVACY_DATA,targetedPrivacyData:l});},setAttribution:function(k,l){h.dispatch({composerID:k,type:i.SET_SHARE_DIALOG_ATTRIBUTION,attribution:l});},setTypeOfShare:function(k,l){h.dispatch({composerID:k,type:i.SET_SHARE_DIALOG_TYPE,shareType:l});},setShareToGroupAsPage:function(k,l){h.dispatch({composerID:k,type:i.SET_SHARE_TO_GROUPS_AS_PAGE,shareToGroupsAsPage:l});}};f.exports=j;},null);
__d('ShareDialogAttachment.react',['React','cx','emptyFunction','fbt','Link.react'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=h.PropTypes,n=h.createClass({displayName:'ShareDialogAttachment',propTypes:{overflowing:m.bool,onExpand:m.func,onCollapse:m.func},getDefaultProps:function(){return {overflowing:false,onExpand:j,onCollapse:j};},getInitialState:function(){return {expanded:false};},_toggle:function(){if(this.state.expanded){this.props.onCollapse();}else this.props.onExpand();this.setState({expanded:!this.state.expanded});},render:function(){var o;if(this.props.overflowing){var p;if(this.state.expanded){p=h.createElement('span',null,h.createElement('span',{className:"_u_1"},''),'',k._("Collapse"));}else p=h.createElement('span',null,k._("Show All"),'',h.createElement('span',{className:"_u_1"},''));o=h.createElement('p',{className:"_u_2"},h.createElement(l,{className:"_u_3",onClick:this._toggle},p));}var q="_u_4"+(this.props.overflowing&&!this.state.expanded?' '+"_u_5":'');return (h.createElement('div',{className:q},o,this.props.children));}});f.exports=n;},null);
__d('ReactShareDialogAttachmentContainer.react',['ReactComposerContextMixin','ShareDialogAttachment.react','DOMContainer.react','DOMQuery','LitestandShareAttachment','React','ReactDOM','cx','csx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=m.PropTypes,r=400,s=m.createClass({displayName:'ReactShareDialogAttachmentContainer',mixins:[h],propTypes:{attachment:q.instanceOf(HTMLElement)},getInitialState:function(){return {shouldOverflow:false};},componentDidMount:function(){setTimeout(function(){var t=false;if(this.props.attachment&&this.refs.attachment){var u=n.findDOMNode(this.refs.attachment);if(u){var v=k.scry(u,"._6m2")[0];l.init(v||u);t=u.clientHeight>r;}}this.setState({shouldOverflow:t});}.bind(this),0);},render:function(){if(!this.props.attachment)return null;return (m.createElement(i,{overflowing:this.state.shouldOverflow},m.createElement('div',{ref:'attachment',className:"_51jo"},m.createElement(j,null,this.props.attachment),m.createElement('div',{className:"_2nzp"}))));}});f.exports=s;},null);
__d('ReactShareDialogComposerStatusAttachmentFooter.react',['ReactComposerActivityTaggerButton.react','ReactComposerActivityTaggerContainer.react','ReactComposerAudienceSelectorContainer.react','ReactComposerContextMixin','ReactComposerFooter.react','ReactComposerFooterActions.react','ReactComposerLocationTaggerButton.react','ReactComposerLocationTaggerContainer.react','ReactComposerPeopleTaggerButton.react','ReactComposerPeopleTaggerContainer.react','ReactComposerTaggerButtons.react','ReactComposerTaggers.react','ReactComposerTaggerType','ReactComposerTaggerViewStyles','ShareDialogAudienceTypes','ReactShareDialogComposerActions','ReactShareDialogComposerStore','Image.react','ix','InlineBlock.react','Tooltip','Arbiter','LeftRight.react','PlaceSearchConstants','ReactComponentWithPureRenderMixin','React','ReactDOM','SubscriptionsHandler','UITargetedPrivacyWidget','XUIAmbientNUX.react','XUIButton.react','cx','emptyFunction','fbt','invariant','BasicTypeaheadLoggerJSConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa){if(c.__markCompiled)c.__markCompiled();var qa=c('BasicTypeaheadLoggerJSConstants').EventNames,ra=ga.PropTypes,sa=ga.createClass({displayName:'ReactShareDialogComposerStatusAttachmentFooter',_subscriptionsHandler:null,_targetingWidgetInstance:null,mixins:[fa,k],propTypes:{onActivityNUXClose:ra.func,onCancel:ra.func,onPost:ra.func,onSelectActivity:ra.func,onSelectLocation:ra.func,pagePrivacySelector:ra.instanceOf(HTMLElement),placeID:ra.string,posting:ra.bool,privacySelector:ra.instanceOf(HTMLElement),shouldHideAllButtons:ra.bool,showActivityNUX:ra.bool,showWhichTaggers:ra.object.isRequired,taggersConfig:ra.object,taggersSource:ra.object,target:v.isValid,targetInfo:ra.object.isRequired,targetingWidgetInstance:ra.object},getDefaultProps:function(){var ta={};ta[t.PEOPLE]=false;ta[t.LOCATION]=false;ta[t.ACTIVITY]=false;return {onCancel:na,onPost:na,onActivityNUXClose:na,onSelectActivity:na,onSelectLocation:na,shouldHideAllButtons:false,showActivityNUX:false,showWhichTaggers:ta,targetInfo:{}};},componentWillMount:function(){this._targetingWidgetInstance=null;this._subscriptionsHandler=new ia();this._subscriptionsHandler.addSubscriptions(ca.subscribe('UIPrivacyWidget/globalPrivacyChanged',function(ta,ua){w.setTargetedPrivacyData(this.context.composerID,ua.data);}.bind(this)));},componentWillUnmount:function(){this._subscriptionsHandler.release();},render:function(){return (ga.createElement('div',null,this._getTaggers(),ga.createElement(l,{background:'light-wash'},ga.createElement(da,null,this._getButtons(),this._getFooterActions()))));},_shouldHideAllTaggers:function(){for(var ta in this.props.showWhichTaggers)if(this.props.showWhichTaggers[ta])return false;return true;},_getTaggers:function(){if(this._shouldHideAllTaggers())return ga.createElement('noscript',null);!(this.props.taggersConfig!=null&&this.props.taggersSource!=null)?pa(0):undefined;var ta=this.props.taggersConfig[t.OG],ua=this.props.showWhichTaggers[t.PEOPLE]?ga.createElement(q,{actorID:this.context.actorID,layerPosition:'above',taggerSource:this.props.taggersSource[t.PEOPLE],taggerViewStyle:u.DEFAULT}):null,va=this.props.showWhichTaggers[t.LOCATION]?ga.createElement(o,{actorID:this.context.actorID,layerPosition:'above',onSelect:this.props.onSelectLocation,taggerSource:this.props.taggersSource[t.LOCATION],taggerViewStyle:u.SCROLLABLE_SHORT,typeaheadLoggerEventName:qa.REACT_SHARE_DIALOG_LOCATION_TAGGER,typeaheadSearchSource:ea.SOURCE_W_COMPOSER}):null,wa=this.props.showWhichTaggers[t.ACTIVITY]?ga.createElement(i,{actorID:this.context.actorID,layerPosition:'above',onSelect:this.props.onSelectActivity,placeID:this.props.placeID,taggerSource:this.props.taggersSource[t.ACTIVITY],actionTypeIDsWithNoFreeForm:ta.actionTypeIDsWithNoFreeForm,actionTypeIDsToPrefetch:ta.actionTypeIDsToPrefetch,rankVerbs:ta.rankVerbs,typeaheadLoggerEventName:qa.REACT_SHARE_DIALOG_OG_TAGGER,actionTaggerViewStyle:u.SCROLLABLE_SHORT,objectTaggerViewStyle:u.SCROLLABLE_SHORT}):null;return (ga.createElement(s,null,ua,va,wa));},_getButtons:function(){if(this._shouldHideAllTaggers()||this.props.posting)return ga.createElement('noscript',null);var ta=this.props.showWhichTaggers[t.PEOPLE]?ga.createElement(p,null):null,ua=this.props.showWhichTaggers[t.LOCATION]?ga.createElement(n,null):null,va=this.props.showWhichTaggers[t.ACTIVITY]?ga.createElement(h,{ref:'activityButton'}):null;return (ga.createElement(r,null,ta,ua,va,this._getActivityNUX()));},_getActivityNUX:function(){if(!this.props.showActivityNUX||!this.refs.activityButton)return null;return (ga.createElement(ka,{context:ha.findDOMNode(this.refs.activityButton),onCloseButtonClick:this.props.onActivityNUXClose,position:'above',shown:true},oa._("New! You can choose to share your feelings and activities.")));},_getFooterActions:function(){var ta=null,ua=null,va=null;if(!this.props.posting)if(this.props.target===v.OWN){ta=ga.createElement(j,{audienceXHP:this.props.privacySelector,viewerIsTarget:true});}else if(this.props.target===v.GROUP){var wa=oa._("People who can see posts in the group");ua=ga.createElement(aa,babelHelpers['extends']({className:"_3-90"},ba.propsFor(wa)),ga.createElement(y,{className:"_4q3o",src:z('/images/litestand/audience/group.png')}));}else if(this.props.target===v.PAGE&&this.props.targetInfo.audienceTargets&&this.props.targetInfo.audienceTargets[0]===this.props.targetInfo.userId){va=ga.createElement(j,{audienceXHP:this.props.pagePrivacySelector,viewerIsTarget:false});if(!this._targetingWidgetInstance)this._targetingWidgetInstance=ja.getInstance(this.props.pagePrivacySelector.id);if(this._targetingWidgetInstance){var xa=x.getTargetInfo(this.context.composerID).userId;this._targetingWidgetInstance.setProfileID(xa);}}var ya=this.props.target!==v.OWN&&!this.props.targetInfo.audienceTargets,za=this.props.postButtonLabel;if(za===undefined)if(this.props.target!==v.MESSAGE){za=this.props.posting?oa._("Posting"):oa._("Post");}else za=this.props.posting?oa._("Sending"):oa._("Send");var ab=this.props.shouldHideAllButtons?null:ga.createElement('div',{className:"_4-88"},ga.createElement(la,{use:'default',label:oa._("Cancel"),className:"_2g60",onClick:this.props.onCancel}),ga.createElement(la,{use:'confirm',label:za,className:"_2g61",onClick:this.props.onPost,disabled:ya}));return (ga.createElement(m,null,ta,ua,va,ab));}});f.exports=sa;},null);
__d('ReactShareDialogComposerStatusAttachmentFooterContainer.react',['ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','ComposerNUXType','ComposerXNUX','ReactShareDialogComposerStatusAttachmentFooter.react','ReactShareDialogComposerStore','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=q.PropTypes,s=q.createClass({displayName:'ReactShareDialogComposerStatusAttachmentFooterContainer',mixins:[p,h(j,o)],propTypes:{showActivityNUX:r.bool},statics:{calculateState:function(t,u){var v=j.getTaggerData(t,k.LOCATION),w=v&&v.place&&v.place.getUniqueID();return {placeID:w,target:o.getTarget(t),targetInfo:o.getTargetInfo(t)};}},getInitialState:function(){return {showActivityNUX:this.props.showActivityNUX};},componentWillMount:function(){if(this.props.showActivityNUX)setTimeout(function(){this.setState({showActivityNUX:true});}.bind(this),1000);},render:function(){return (q.createElement(n,babelHelpers['extends']({},this.props,this.state,{posting:this.props.status.type=='posting',onActivityNUXClose:this._onActivityNUXClose,onPost:this.props.onPost,onSelectActivity:this._closeTaggers,onSelectLocation:this._closeTaggers})));},_closeTaggers:function(t){if(t&&t.action&&!t.object)return;i.selectTagger(this.context.composerID,null);},_onActivityNUXClose:function(){this.setState({showActivityNUX:false});m.sendMarkSeenRequest(l.SHARER_MINUTIAE_NUX);}});f.exports=s;},null);
__d('ShareDialogAttribution.react',['React','cx','emptyFunction','fbt','Link.react'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=h.PropTypes,n=h.createClass({displayName:'ShareDialogAttribution',propTypes:{name:m.string,onRemove:m.func},getDefaultProps:function(){return {onRemove:j};},_onRemove:function(){this.props.onRemove();},render:function(){return (h.createElement('div',{className:"_5qio"},h.createElement('span',null,k._("via")),'',this.props.name,' (',h.createElement(l,{onClick:this._onRemove},k._("remove")),')'));}});f.exports=n;},null);
__d('ShareDialogDropdownForSharePostOrLink.react',['ShareNowCounter','ShareNowCounterEvent','React','XUICheckboxInput.react','cx','emptyFunction','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o='post_and_link',p='link_only',q=j.PropTypes;g.framework='React';var r=j.createClass({displayName:'ShareDialogDropdownForSharePostOrLink',propTypes:{onSelectSharePostOrLink:q.func},getDefaultProps:function(){return {onSelectSharePostOrLink:m};},componentDidMount:function(){this.props.onSelectSharePostOrLink(this.state.value===o);},getInitialState:function(){return {value:o};},onChange:function(s){h.logEvent(s?i.DROPDOWN_SELECT_SHARE_LINK:i.DROPDOWN_SELECT_SHARE_POST);this.setState({value:s?p:o});this.props.onSelectSharePostOrLink(!s);},render:function(){return (j.createElement('div',{className:"_3-9a"},j.createElement(k,{name:'share type',checked:this.state.value===o,onChange:this.onChange.bind(this,this.state.value===o)}),n._("Include Original Post")));}});f.exports=r;},null);
__d('ShareDialogWarningNotice.react',['ix','FBToggle.react','Image.react','LeftRight.react','React','cx','fbglyph','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=l.PropTypes,q=l.createClass({displayName:'ShareDialogWarningNotice',propTypes:{warning:p.object.isRequired},render:function(){return (l.createElement(i,{className:"_3ba_"},l.createElement(k,{className:"_3bb0"},l.createElement('span',{className:"_3bb1"},l.createElement(j,{src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/question-solid_16_accent-blue.png")})),l.createElement('span',{className:"_3bb2"},o._("Who can see this?"))),l.createElement('div',{className:"_3bb3"},l.createElement('span',{dangerouslySetInnerHTML:this.props.warning}))));}});f.exports=q;},null);
__d('ReactShareDialogComposerStatusAttachment.react',['ReactComposerContextMixin','ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react','ReactComposerTaggerSummaryContainer.react','ReactComposerTaggerType','ShareDialogAttribution.react','ReactShareDialogAttachmentContainer.react','ShareDialogAudienceTypes','ReactShareDialogComposerStatusAttachmentFooterContainer.react','ReactShareDialogComposerActions','ShareDialogDataSources','ShareDialogDropdownForSharePostOrLink.react','ShareDialogWarningNotice.react','SharerType','React','XUINotice.react','cx','emptyFunction','fbt','getOwnObjectValues'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){if(c.__markCompiled)c.__markCompiled();var aa=u.PropTypes,ba=u.createClass({displayName:'ReactShareDialogComposerStatusAttachment',_inputContainer:i,mixins:[h],propTypes:{activeAudience:n.propType,hideWhichTaggers:aa.arrayOf(aa.oneOf(Object.keys(k))),pagePrivacySelector:aa.instanceOf(HTMLElement),privacySelector:aa.instanceOf(HTMLElement),attachment:aa.object,dataSources:aa.instanceOf(q),taggersData:aa.object,onCancel:aa.func,onPost:aa.func,onRemoveAttribution:aa.func,publicityWarning:aa.object,showDoingNUX:aa.bool,via:aa.object,useCheckinBranding:aa.bool,sharerType:aa.oneOf(z(t)),shouldAlwaysHideAllTaggers:aa.bool.isRequired,shouldHideAllButtons:aa.bool.isRequired,subtleWarning:aa.bool,taggersConfig:aa.object,postButtonLabel:aa.string,postPreview:aa.object},getInitialState:function(){return {showPostPreview:this.props.postPreview!==null};},getDefaultProps:function(){return {hideWhichTaggers:[],taggersData:{},onCancel:x,onPost:x,onRemoveAttribution:x,postPreview:null};},componentDidMount:function(){this._inputContainer.focus();},_getDropdownForSharePostOrLink:function(){return u.createElement(r,{onSelectSharePostOrLink:this._onSelectSharePostOrLink});},_onSelectSharePostOrLink:function(ca){this.setState({showPostPreview:this.props.postPreview?ca:false});p.setTypeOfShare(this.context.composerID,ca);},render:function(){var ca=this.props.dataSources,da=ca&&this.props.activeAudience!==n.MESSAGE?ca.getSource(q.TYPES.MENTIONS):null,ea=y._("Say something about this..."),fa=u.createElement('noscript',null);if(!this._shouldHideAllTaggers())fa=u.createElement(j,null);var ga=this.state.showPostPreview&&this.props.activeAudience!==n.MESSAGE?this.props.postPreview:this.props.attachment,ha=this.props.activeAudience===n.MESSAGE||this.props.postPreview===null?null:this._getDropdownForSharePostOrLink(),ia=this.state.showPostPreview?null:this._getAttribution();return (u.createElement('div',null,u.createElement(i,{mentionsSource:da,placeholder:ea,ref:function(ja){return this._inputContainer=ja;}.bind(this)}),fa,ha,ia,u.createElement(m,{attachment:ga}),this._getWarning(),u.createElement(o,{onCancel:this.props.onCancel,onPost:this.props.onPost,pagePrivacySelector:this.props.pagePrivacySelector,postButtonLabel:this.props.postButtonLabel,privacySelector:this.props.privacySelector,shouldHideAllButtons:this.props.shouldHideAllButtons,showActivityNUX:this.props.showDoingNUX,showWhichTaggers:this._showWhichTaggers(),status:this.props.status,taggersConfig:this.props.taggersConfig,taggersSource:this._getTaggersSource()})));},_shouldHideAllTaggers:function(){return (!this.context.gks.gkOsricTaggers||this.props.activeAudience===n.GROUP&&!this.context.gks.gkGroupTaggers||this.props.activeAudience===n.MESSAGE||this.props.shouldAlwaysHideAllTaggers);},_showWhichTaggers:function(){var ca={};if(this._shouldHideAllTaggers()){ca[k.PEOPLE]=false;ca[k.LOCATION]=false;ca[k.ACTIVITY]=false;return ca;}ca[k.PEOPLE]=true;ca[k.LOCATION]=true;ca[k.ACTIVITY]=true;if(this.props.hideWhichTaggers)for(var da=0,ea=this.props.hideWhichTaggers.length;da<ea;da++)ca[this.props.hideWhichTaggers[da]]=false;return ca;},_getTaggersSource:function(){var ca=this.props.dataSources;if(!ca)return null;var da={};da[k.PEOPLE]=ca.getSource(q.TYPES.PERSON);da[k.LOCATION]=ca.getSource(q.TYPES.PLACE);da[k.ACTIVITY]=ca.getSource(q.TYPES.ACTION);return da;},_getTaggerData:function(ca){return this.props.taggersData?this.props.taggersData[ca]:null;},_getAttribution:function(){var ca=this.props.attribution;if(!ca||!ca.name||this.props.activeAudience===n.MESSAGE)return u.createElement('noscript',null);return (u.createElement(l,{onRemove:this.props.onRemoveAttribution,name:ca.name}));},_getWarning:function(){if(!this.props.publicityWarning)return u.createElement('noscript',null);if(this.props.subtleWarning){return (u.createElement(s,{warning:this.props.publicityWarning}));}else return (u.createElement(v,{className:"_2nt0",size:'small'},u.createElement('span',{dangerouslySetInnerHTML:this.props.publicityWarning})));}});f.exports=ba;},null);
__d('ReactShareDialogComposerStatusAttachmentContainer.react',['ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerStore','ReactComposerTaggerType','React','ReactShareDialogComposerActions','ReactShareDialogComposerStore','ShareDialogAudienceTypes','ReactShareDialogComposerStatusAttachment.react','ShareDialogDataSources','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=k.PropTypes,s=k.createClass({displayName:'ReactShareDialogComposerStatusAttachmentContainer',mixins:[h(i,m)],propTypes:{activeAudience:n.propType,attachment:r.object,dataSources:r.instanceOf(p),onCancel:r.func,onPost:r.func,pagePrivacySelector:r.instanceOf(HTMLElement),privacySelector:r.instanceOf(HTMLElement),publicityWarning:r.object,shouldAlwaysHideAllTaggers:r.bool.isRequired,shouldHideAllButtons:r.bool.isRequired,showDoingNUX:r.bool,useCheckinBranding:r.bool,via:r.object},getDefaultProps:function(){return {onCancel:q,onPost:q};},statics:{beforeCalculateInitialState:function(t,u){var v=u.via;if(v&&v.name)l.setAttribution(t,v);},calculateState:function(t,u){var v=i.getTaggerData(t,j.ACTIVITY);return {taggersData:i.getTaggersData(t),attribution:m.getAttribution(t),actionIconID:v?v.actionIconID:null};}},render:function(){return (k.createElement(o,babelHelpers['extends']({ref:'shareBody'},this.props,this.state,{onRemoveAttribution:this._onRemoveAttribution})));},_onRemoveAttribution:function(){l.setAttribution(this.context.composerID,null);}});f.exports=s;},null);
__d('ReactShareDialogComposerStatusEagerAttachment.react',['ReactComposerAttachmentType','ReactComposerAttachmentBodyMixin','ShareDialogAudienceTypes','ReactShareDialogComposerStatusAttachmentContainer.react','ShareDialogDataSources','React','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=m.PropTypes,p=m.createClass({displayName:'ReactShareDialogComposerStatusEagerAttachment',mixins:[i()],propTypes:{activeAudience:j.propType,attachment:o.object,dataSources:o.instanceOf(l),onCancel:o.func,onPost:o.func,pagePrivacySelector:o.instanceOf(HTMLElement),privacySelector:o.instanceOf(HTMLElement),publicityWarning:o.object,selected:o.bool,shouldAlwaysHideAllTaggers:o.bool.isRequired,shouldHideAllButtons:o.bool.isRequired,showDoingNUX:o.bool,subtleWarning:o.bool,taggersConfig:o.object,useCheckinBranding:o.bool,via:o.object},getDefaultProps:function(){return {selected:true,onCancel:n,onPost:n};},statics:{attachmentID:h.STATUS},renderX:function(){return m.createElement(k,this.props);}});f.exports=p;},null);
__d('ReactShareDialogComposer.react',['ReactComposer.react','ReactComposerBody.react','ReactComposerContextMixin','ReactComposerPrefillActions','ReactComposerPrefillConfig','ShareDialogAudienceTypes','ReactShareDialogComposerStatusEagerAttachment.react','ShareDialogDataSources','SharerType','React','emptyFunction','getOwnObjectValues'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=q.PropTypes,u=q.createClass({displayName:'ReactShareDialogComposer',mixins:[j],propTypes:{activeAudience:m.propType,attachment:t.object,dataSources:t.instanceOf(o),experiments:t.shape({subtleWarning:t.bool}),onCancel:t.func,onPost:t.func,pagePrivacySelector:t.instanceOf(HTMLElement),postButtonLabel:t.string,postId:t.string,prefillConfig:l,privacySelector:t.instanceOf(HTMLElement),publicityWarning:t.object,sharerType:t.oneOf(s(p)),shareType:t.string,shouldAlwaysHideAllTaggers:t.bool,shouldHideAllButtons:t.bool,showDoingNUX:t.bool,taggersConfig:t.object,useCheckinBranding:t.bool,userId:t.string.isRequired,via:t.object},getDefaultProps:function(){return {onCancel:r,onPost:r,sharerType:p.ALL_MODES,shouldAlwaysHideAllTaggers:false,shouldHideAllButtons:false,status:{type:'composing'}};},componentWillMount:function(){if(this.props.prefillConfig)k.setPrefillData(this.props.contextConfig.composerID,this.props.prefillConfig);},_onCancel:function(v){var w=this.props.onCancel;w&&w(v);},_onPost:function(v){var w=this.props.onPost;w&&w(v);},render:function(){return (q.createElement(h,{hideBorders:true,loggingConfig:this.props.loggingConfig},q.createElement(i,null,q.createElement(n,babelHelpers['extends']({},this.props,{activeAudience:this.props.activeAudience,attachment:this.props.attachment,dataSources:this.props.dataSources,onCancel:this._onCancel,onPost:this._onPost,postButtonLabel:this.props.postButtonLabel,privacySelector:this.props.privacySelector,publicityWarning:this.props.publicityWarning,sharerType:this.props.sharerType,showDoingNUX:this.props.showDoingNUX,subtleWarning:this.props.experiments&&this.props.experiments.subtleWarning,taggersConfig:this.props.taggersConfig,useCheckinBranding:this.props.useCheckinBranding,via:this.props.via})))));}});f.exports=u;},null);
__d('ShareDialogAudienceHeader.react',['ShareDialogAudience.react','ShareDialogAudienceSelector.react','ShareDialogDataSources','SharerType','React','cx','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=h.TYPES,p=j.TYPES,q=l.PropTypes,r=l.createClass({displayName:'ShareDialogAudienceHeader',propTypes:{activeAudience:function(s){if(!o.isValid(s.activeAudience))return new Error('The active audience is invalid.');},dataSources:q.instanceOf(j),onAudienceSelect:q.func},getDefaultProps:function(){return {onAudienceSelect:n};},render:function(){var s=this.props.dataSources,t=this.props.activeAudience,u=[];if(this.props.sharerType===k.MESSAGE_ONLY){u.push(o.MESSAGE);}else if(this.props.sharerType===k.PAGE_ONLY){u.push(o.PAGE);}else if(this.props.sharerType===k.PAGE_VIEWER){u.push(o.OWN);}else{u.push(o.OWN);if(s.getSource(p.PERSON_WALL))u.push(o.PERSON);if(s.getSource(p.GROUP))u.push(o.GROUP);if(s.getSource(p.PAGE))u.push(o.PAGE);if(s.getSource(p.MESSAGE))u.push(o.MESSAGE);}var v="__0k"+(this.props.activeAudience===o.OWN?' '+"_47xt":'')+(this.props.activeAudience===o.PERSON?' '+"_47xu":'')+(this.props.activeAudience===o.GROUP?' '+"_47xv":'')+(this.props.activeAudience===o.PAGE?' '+"_47xw":'')+(this.props.activeAudience===o.MESSAGE?' '+"_47xx":'');return (l.createElement('div',{className:v},l.createElement(i,{allowedAudiences:u,activeAudience:t,onAudienceSelect:this.props.onAudienceSelect})));}});f.exports=r;},null);
__d('ReactSharer.react',['ReactShareDialogComposer.react','ShareDialogAudienceHeader.react','ShareDialogAudienceTypes','ShareDialogAudience.react','ShareDialogDataSources','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=m.PropTypes,o=m.createClass({displayName:'ReactSharer',propTypes:{activeAudience:j.propType,dataSources:n.instanceOf(l),privacySelector:n.instanceOf(HTMLElement).isRequired,pagePrivacySelector:n.instanceOf(HTMLElement).isRequired,userId:n.string.isRequired,attachment:n.object,gks:n.shape({showGroupThreads:n.bool,subtleWarning:n.bool}),messageTargets:n.array,onCancel:n.func,onChangeAudienceTargets:n.func,onClearAudienceTargets:n.func,onTargetSelect:n.func,onPost:n.func,postButtonLabel:n.string,taggersConfig:n.object.isRequired},render:function(){return (m.createElement('div',null,m.createElement(i,{key:'title',activeAudience:this.props.activeAudience,dataSources:this.props.dataSources,onAudienceSelect:this.props.onTargetSelect}),m.createElement(k,{key:'audience',userId:this.props.userId,activeAudience:this.props.activeAudience,messageTargets:this.props.messageTargets,dataSources:this.props.dataSources,onChange:this.props.onChangeAudienceTargets,onClear:this.props.onClearAudienceTargets,showGroupThreads:this.props.gks&&this.props.gks.showGroupThreads}),m.createElement(h,this.props)));}});f.exports=o;},null);
__d('ReactSharerContainer.react',['ReactComposerAudienceStore','ReactComposerContextMixin','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusStore','ReactComposerTaggerStore','ReactComposerTaggerType','ReactSharer.react','ReactShareDialogComposerActions','ReactShareDialogComposerStore','ShareDialogAudienceTypes','SharerType','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=t.createClass({displayName:'ReactSharerContainer',mixins:[s,i,j(p)],statics:{beforeCalculateInitialState:function(v,w){var x=q.OWN;if(w.sharerType===r.MESSAGE_ONLY){x=q.MESSAGE;}else if(w.sharerType===r.PAGE_ONLY)x=q.PAGE;o.setTarget(v,x);o.setTargetInfo(v,{userId:w.userId});},calculateState:function(v,w){var x=p.getTargetInfo(v),y=x.audienceTargets,z=x.userId;return {activeAudience:p.getTarget(v),audienceTargets:y,userId:z};}},render:function(){return (t.createElement(n,babelHelpers['extends']({},this.props,this.state,{onCancel:this._onCancel,onChangeAudienceTargets:this._onChangeAudienceTargets,onClearAudienceTargets:this._onClearAudienceTargets,onPost:this._onPost,onTargetSelect:this._onTargetSelect})));},_getStatefulResponse:function(){var v=this.props.contextConfig.composerID,w=l.getTaggersData(v),x=h.getAudience(v),y=k.getMessage(v),z=p.getTarget(v),aa=p.getTargetInfo(v),ba=p.getTargetedPrivacyData(v),ca=p.getAttribution(v),da=aa.audienceTargets?aa.audienceTargets:[],ea=w[m.PEOPLE],fa=w[m.LOCATION],ga=w[m.ACTIVITY],ha=ea.map(function(ma){return ma.getUniqueID();}),ia=null,ja=null;if(ga.object){var ka=ga.object.getUniqueID(),la=ga.object.getTitle();if(!ka||ka===la){ja=la;}else ia=ka;}return {actorId:aa.userId,audienceType:z,audienceTargets:da,appId:this.props.appId,attributionId:ca?ca.id:null,internalExtra:this.props.internalExtra,message:y,messageTags:this.props.messageTags,ownerId:this.props.ownerId,privacy:x,postId:this.props.postId,sharedAdId:this.props.sharedAdId,shareType:this.props.shareType,source:'osbach-sharer',taggedActionId:ga.action?ga.action.getUniqueID():null,taggedActionIconId:ga.actionIconID,taggedObjectId:ia,taggedObjectStr:ja,taggedPeople:ha,taggedPlace:fa&&fa.place?fa.place.getUniqueID():null,targetedPrivacyData:ba};},_onTargetSelect:function(v){o.setTarget(this.context.composerID,v);o.setTargetInfo(this.context.composerID,{audienceTargets:null,userId:this.props.userId});},_onCancel:function(v){this.props.onCancel&&this.props.onCancel(this._getStatefulResponse(),v);},_onChangeAudienceTargets:function(v){if(v.length===0)return;var w=v[0],x=this.state.activeAudience===q.PAGE?{audienceTargets:[w.pageId],userId:w.actorId}:{audienceTargets:v,userId:this.props.userId};o.setTargetInfo(this.context.composerID,x);},_onClearAudienceTargets:function(){o.setTargetInfo(this.context.composerID,{audienceTargets:null,userId:this.props.userId});},_onPost:function(v){this.props.onPost(this._getStatefulResponse(),v);}});f.exports=u;},null);
__d('ReactSharerRoot.react',['ReactComposerContextConfig','ReactComposerContextProviderMixin','ReactSharerContainer.react','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=l.createClass({displayName:'ReactSharerRoot',mixins:[k,i],propTypes:{contextConfig:h.isRequired},render:function(){return l.createElement(j,this.props);}});f.exports=m;},null);
__d('ReactSharerInit',['ReactSharerRoot.react','ShareDialogAudienceTypes','ShareDialogDataSources','ComposerEntryPointRef','DOM','Sharer','React','ReactDOM','uniqueID'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q,r,s={init:function(t,u){t=this.getPropsFromAsyncResponse(t);q=u;o.render(n.createElement('div',null,n.createElement(h,babelHelpers['extends']({contextConfig:{actorID:t.userId,composerID:p(),composerType:k.SHARE_BUTTON_PLUGIN,gks:t.gks,targetID:t.userId},onCancel:this._onCancel,onPost:this._onPost},t)),n.createElement('div',{ref:function(v){return r=v;}})),q);},_onCancel:function(t,u){m.close();u.preventDefault();},_onPost:function(t,u){l.empty(r);if(t.audienceType===i.OWN){l.appendContent(r,l.create('input',{name:'privacyx',type:'hidden',value:t.privacy}));}else if(t.audienceType===i.PERSON){l.appendContent(r,l.create('input',{name:'friendTarget',type:'hidden',value:t.audienceTargets.toString()}));}else if(t.audienceType===i.MESSAGE){l.appendContent(r,l.create('input',{name:'messageTarget',type:'hidden',value:t.audienceTargets.toString()}));}else if(t.audienceType===i.GROUP){l.appendContent(r,l.create('input',{name:'groupTarget',type:'hidden',value:t.audienceTargets.toString()}));}else if(t.audienceType===i.PAGE){l.appendContent(r,[l.create('input',{name:'pageTarget',type:'hidden',value:t.audienceTargets.toString()}),l.create('input',{name:'av',type:'hidden',value:t.actorId})]);if(t.targetedPrivacyData)for(var v in t.targetedPrivacyData)if(t.targetedPrivacyData[v]&&t.targetedPrivacyData[v].constructor===Array){for(var w=0;w<t.targetedPrivacyData[v].length;w++)l.appendContent(r,l.create('input',{name:'targeted_privacy_data['+v+']['+w+']',type:'hidden',value:t.targetedPrivacyData[v][w]}));}else l.appendContent(r,l.create('input',{name:'targeted_privacy_data['+v+']',type:'hidden',value:t.targetedPrivacyData[v]}));}if(t.taggedPeople){var w=0;t.taggedPeople.forEach(function(x){l.appendContent(r,l.create('input',{name:'composertags_with['+w+']',type:'hidden',value:x}));w++;});}l.appendContent(r,[l.create('input',{name:'xhpc_message_text',type:'hidden',value:t.message}),l.create('input',{name:'xhpc_message',type:'hidden',value:t.message}),l.create('input',{name:'composertags_place',type:'hidden',value:t.taggedPlace}),l.create('input',{name:'action_type_id[]',type:'hidden',value:t.taggedActionId}),l.create('input',{name:'icon_id',type:'hidden',value:t.taggedActionIconId}),l.create('input',{name:'object_id[]',type:'hidden',value:t.taggedObjectId}),l.create('input',{name:'object_str[]',type:'hidden',value:t.taggedObjectStr}),l.create('input',{name:'is_react',type:'hidden',value:'true'})]);},getPropsFromAsyncResponse:function(t){var u=t.sources,v=babelHelpers.objectWithoutProperties(t,['sources']),w=u.person,x=u.personTag,y=u.personWall,z=u.group,aa=u.page,ba=u.mentions,ca=u.place,da=u.feeling,ea=u.action,fa=u.object,ga=new j().addSource(j.TYPES.ACTION,ea).addSource(j.TYPES.GROUP,z).addSource(j.TYPES.FEELING,da).addSource(j.TYPES.MENTIONS,ba).addSource(j.TYPES.MESSAGE,w).addSource(j.TYPES.OBJECT,fa).addSource(j.TYPES.PAGE,aa).addSource(j.TYPES.PERSON,x).addSource(j.TYPES.PERSON_WALL,y).addSource(j.TYPES.PLACE,ca);return babelHelpers['extends']({dataSources:ga},v);}};f.exports=s;},null);