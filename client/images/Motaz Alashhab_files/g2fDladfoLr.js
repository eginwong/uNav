/*!CK:3655523709!*//*1456261737,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["9fOPo"]); }

__d("ChatSidebarSections",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MORE_ONLINE_FRIENDS:"more_online_friends",MORE_ONLINE_COWORKERS:"more_online_coworkers",OFFLINE_USERS:"offline_users",ORDERED_LIST:"ordered_list",ORDERED_COWORKERS:"ordered_coworkers",TYPEAHEAD:"typeahead",NOW_PINNED_LIST:"now_pinned_list"};},null);
__d('AsyncLoader',['AsyncRequest','BaseAsyncLoader'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k,l){this._endpoint=k;this._type=l;}Object.assign(j.prototype,i.prototype);j.prototype.send=function(k,l,m,n,o){new h(k).setData({ids:l}).setHandler(n).setErrorHandler(o).setAllowCrossPageTransition(true).setMethod('GET').setReadOnly(true).send();};f.exports=j;},null);
__d('BuddyListNub',['Arbiter','AsyncRequest','AvailableList','BootloadedComponent.react','ChannelConnection','ChannelConstants','ChatOptions','ChatSidebarActions','ChatSidebarStore','ChatSidebarVisibility','ChatVisibility','CSS','Dock','DOM','Event','JSLogger','JSResource','KeyEventController','Keys','NubController','OrderedFriendsList','Parent','PresencePrivacy','PresenceStatus','PresenceUtil','React','ReactDOM','Run','SidebarType','Style','Toggler','csx','cx','emptyFunction','fbt','setTimeoutAcrossTransitions'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa){var ra,sa;if(c.__markCompiled)c.__markCompiled();var ta=40,ua=253,va=w.create('buddylist_nub');ra=babelHelpers.inherits(wa,aa);sa=ra&&ra.prototype;function wa(xa,ya,za,ab){'use strict';sa.constructor.call(this);sa.init.call(this,xa);this.root=xa;this.orderedList=ya;this.typeahead=za;this.button=u.find(xa,'a.fbNubButton');this.unreadCount=u.find(xa,"span._5ayx");this.label=u.find(xa,'span.label');this.body=u.scry(xa,'div.fbNubFlyoutBody')[0];this.container=ca.bySelector(xa,"._56ox");this.typeaheadContainer=u.find(xa,'.fbChatTypeaheadViewContainer');var bb=u.find(xa,'div.fbNubFlyoutTitlebar');la.createInstance(bb).setSticky(false);la.createInstance(xa).setSticky(true);if(ab)ia.onAfterLoad(function(){this.dropdown=ha.render(ga.createElement(k,{bootloadPlaceholder:ga.createElement('span',null),bootloadLoader:x('ChatSidebarDropdown.react'),onToggleSidebar:function(){},sidebarType:ja.BUDDYLIST}),ab);}.bind(this));ya.subscribeOnce('render',this.flyoutContentChanged.bind(this));ia.onAfterLoad(function(){var cb=u.find(bb,"div._4k48");if(cb)ha.render(ga.createElement(k,{bootloadPlaceholder:ga.createElement('span',null),bootloadLoader:x('ChatSidebarComposeLink.react'),className:"_3a-4"}),cb);var db=u.find(this.button,"div._1us9");if(db)ha.render(ga.createElement(k,{bootloadPlaceholder:ga.createElement('span',null),bootloadLoader:x('ChatSidebarComposeLink.react'),className:"_3a-4"}),db);var eb=u.find(this.button,"div._1usa");if(eb)ha.render(ga.createElement(k,{bootloadPlaceholder:ga.createElement('span',null),bootloadLoader:x('ChatSidebarDropdown.react'),onToggleSidebar:function(){},sidebarType:ja.BUDDYLIST_NUB}),eb);}.bind(this));ya.setScrollContainer(this.body);j.subscribe('buddylist/availability-changed',this._updateCount.bind(this));h.subscribe('chat/connect',this._handleConnect.bind(this));h.subscribe('chat/option-changed',function(cb,db){if(db.name=='hide_groups'){this.onResize();}else if(db.name==='hide_buddylist')db.value?this.hide():this.show();}.bind(this));da.subscribe('privacy-user-presence-changed',this._handleVisibilityChange.bind(this));this.message=u.find(xa,"div._4mq1");this.warningMsgText=null;this.warningMsgEventListener=null;this.showWarningTimeout=null;l.subscribe(l.CONNECTED,this._handleChannelConnected.bind(this));l.subscribe(l.SHUTDOWN,this._handleChannelShutdown.bind(this));l.subscribe(l.RECONNECTING,this._handleChannelReconnecting.bind(this));l.subscribe([l.MUTE_WARNING,l.UNMUTE_WARNING],this._updateView.bind(this));this.subscribe('show',this.onShow.bind(this));this.subscribe('hide',this.onHide.bind(this));this.subscribe('resize',this.onResize.bind(this));v.listen(xa,'keydown',this._onKeyDown.bind(this));v.listen(this.button,'click',this.onButtonClick.bind(this));y.registerKey('q',function(event){if(this._isOpen){za.getCore().getElement().focus();}else{this.onButtonClick();this.show();}event.prevent();}.bind(this));za.getCore().subscribe('escape',this.hide.bind(this));za.subscribe(['respond','reset'],function(cb,db){if(this._isOpen){if(db&&db.value&&db.value===za.getCore().getValue()&&za.getView().isVisible()){t.setUseMaxHeight(this.root,false);this._hideBuddyList();}else this._showBuddyList();this.flyoutContentChanged();}}.bind(this));h.subscribe('sidebar/show',this.hide.bind(this));h.subscribe('minisidebar/show',this.hide.bind(this));h.subscribe('sidebar/hide',this._onSidebarHide.bind(this));this._orderedListCount=ba.getList().length;ka.set(this.body,'min-height','285px');za.getCore().subscribe('focus',function(){s.addClass(bb,"_3f5-");});za.getCore().subscribe('blur',function(){s.removeClass(bb,"_3f5-");this._typeaheadActive=false;ka.set(this.body,'max-height','285px');}.bind(this));za.getCore().subscribe('sidebar/typeahead/active',function(cb,db){if(db){this._typeaheadActive=true;ka.set(this.body,'max-height','none');}else{this._typeaheadActive=false;ka.set(this.body,'max-height','285px');}}.bind(this));ka.set(this.body,'max-height','285px');if(p.isEnabled()&&p.getVisibleType()===ja.BUDDYLIST&&!n.getSetting('hide_buddylist')&&!l.disconnected()&&!da.isUserOffline()&&this._orderedListCount>0)this.show();v.listen(bb,'click',function(cb){if(s.hasClass(cb.target,"titlebarTextWrapper"))this._syncHideBuddylist(true);}.bind(this));this._handleVisibilityChange();va.log('buddylist_initialized');}wa.prototype._handleConnect=function(xa){'use strict';this._updateView(true);};wa.prototype._getShutdownReason=function(xa){'use strict';switch(xa){case m.HINT_AUTH:return pa._("Your session has timed out. Please log in.");case m.HINT_CONN:return pa._("Facebook {Chat} is currently unavailable.",[pa.param('Chat',pa._("Chat"))]);case m.HINT_MAINT:return pa._("Facebook {Chat} is currently down for maintenance.",[pa.param('Chat',pa._("Chat"))]);default:return pa._("Facebook {Chat} is currently unavailable.",[pa.param('Chat',pa._("Chat"))]);}};wa.prototype._getReconnectMsg=function(xa){'use strict';var ya;if(xa===null||false===navigator.onLine){ya=pa._("Unable to connect to chat. Check your Internet connection.");}else if(xa>m.WARNING_COUNTDOWN_THRESHOLD_MSEC){var za=u.create('a',{href:'#',className:'fbChatReconnectLink'},pa._("Try again")),ab=u.create('div',null,za);ya=u.create('div',{},pa._("Unable to connect to chat."));u.appendContent(ya,ab);}else if(xa>1000){ya=pa._("Unable to connect to chat. Reconnecting in {seconds}...",[pa.param('seconds',Math.floor(xa/1000))]);}else ya=pa._("Unable to connect to chat. Reconnecting...");return ya;};wa.prototype._resetShowWarningTimeout=function(){'use strict';if(this.showWarningTimeout){clearTimeout(this.showWarningTimeout);this.showWarningTimeout=null;}};wa.prototype._handleChannelConnected=function(xa){'use strict';this._resetShowWarningTimeout();if(this.orderedList.isVisible())r.goOnline();this.warningMsgText=null;this._updateView();};wa.prototype._handleChannelShutdown=function(xa,ya){'use strict';this._resetShowWarningTimeout();this.warningMsgText=this._getShutdownReason(ya);this._updateView();};wa.prototype._handleChannelReconnecting=function(xa,ya){'use strict';this._resetShowWarningTimeout();this.warningMsgText=this._getReconnectMsg(ya);if(ya>1000){if(ya>m.WARNING_COUNTDOWN_THRESHOLD_MSEC){if(this.warningMsgEventListener){this.warningMsgEventListener.remove();this.warningMsgEventListener=null;}this.warningMsgEventListener=v.listen(this.message,'click',function(event){if(s.hasClass(event.getTarget(),'fbChatReconnectLink')){this._tryReconnect();event.kill();}}.bind(this));}this.showWarningTimeout=qa(this._handleChannelReconnecting.bind(this,xa,ya-1000),1000);}this._updateView();};wa.prototype._tryReconnect=function(){'use strict';if(l.disconnected())l.reconnect();};wa.prototype._handleVisibilityChange=function(){'use strict';this._updateView();if(!r.isOnline())this.hide();};wa.prototype._updateView=function(xa){'use strict';var ya=this.container;if(ya){s.conditionClass(ya,'offline',!r.isOnline());s.conditionClass(ya,'error',l.disconnected());}if(l.disconnected())u.setContent(this.message,this.warningMsgText);var za,ab;if(!r.isOnline()){za=pa._("{Chat} (Off)",[pa.param('Chat',pa._("Chat"))]);}else if(l.disconnected()){za=pa._("{Chat} (Disconnected)",[pa.param('Chat',pa._("Chat"))]);}else{var bb=ea.getOnlineCount();if(bb){var cb=u.create('span',{className:'count'},'('+bb+')');za=pa._({"*":"{Chat} {number-available}"},[pa.param('Chat',pa._("Chat")),pa.param('number-available',cb,[0,bb])]);}else{za=pa._("Chat");ab=true;}}this._setUnread();this._setLabel(za,ab);this.buttonContentChanged();};wa.prototype.onButtonClick=function(){'use strict';if(s.shown(this.typeahead.getElement())){var xa=this.subscribe('show',function(){this.typeahead.getCore().getElement().focus();}.bind(this));setTimeout(this.unsubscribe.bind(this,xa),0);}if(!p.isInitialized())return true;var ya=p.isEnabled(),za=q.shouldShowSidebarIgnoreEnabled();if(!ya&&za){o.enable();}else o.show();return !za;};wa.prototype.onHide=function(){'use strict';this._isOpen=false;if(this._buddyListRenderSubscription){this.orderedList.unsubscribe(this._buddyListRenderSubscription);this._buddyListRenderSubscription=null;}this._hideBuddyList();this.typeahead.getCore().reset();h.inform('buddylist/hide');};wa.prototype._onKeyDown=function(event){'use strict';var xa=v.getKeyCode(event);if(xa===z.ESC&&!s.hasClass(this.root,'menuOpened')){this.hide();return false;}else if(xa==z.RETURN)o.enable();};wa.prototype._onSidebarHide=function(event){'use strict';if(p.isEnabled()&&!n.getSetting('hide_buddylist')&&!l.disconnected()&&!da.isUserOffline()){this.show();}else{this.hide();this.button.focus();}};wa.prototype.onResize=function(){'use strict';var xa=!this._typeaheadActive?ua:t.getMaxFlyoutHeight(this.root)-60,ya=Math.max(250,xa),za=Math.floor(ya/ta);this.orderedList.setNumTopFriends(za);var ab=this.typeahead.getData(),bb=Math.max(za-2,1);if(ab.getMaxResults()!==bb)ab.setMaxResults(bb);};wa.prototype._showBuddyList=function(){'use strict';this._buddyListRenderSubscription=this.orderedList.subscribe('render',function(){if(ka.get(this.body,'height')!='285px')ka.set(this.body,'height','285px');}.bind(this));s.hide(this.typeaheadContainer);this.orderedList.show();va.bump('buddylist_show');};wa.prototype._hideBuddyList=function(){'use strict';s.show(this.typeaheadContainer);this.orderedList.hide();va.bump('buddylist_hide');};wa.prototype.onShow=function(){'use strict';this._isOpen=true;if(l.disconnected()){this._tryReconnect();this._showBuddyList();}else r.goOnline(this._showBuddyList.bind(this));this._syncHideBuddylist(false);};wa.prototype._setLabel=function(xa,ya){'use strict';var za=this.label.textContent||this.label.innerText;if(za!==xa){var ab=this.label.cloneNode(true);u.setContent(ab,xa);u.replace(this.label,ab);this.label=ab;}this.throbber&&s.conditionShow(this.throbber,!!ya);};wa.prototype._setUnread=function(xa){'use strict';s.conditionShow(this.unreadCount,!!xa);};wa.prototype._updateCount=function(){'use strict';this._updateView();};wa.prototype._syncHideBuddylist=function(xa){'use strict';n.setSetting('hide_buddylist',xa,'buddylist');new i('/ajax/chat/settings.php').setHandler(oa).setErrorHandler(oa).setData({hide_buddylist:xa,window_id:fa.getSessionID()}).setAllowCrossPageTransition(true).send();};f.exports=wa;},null);
__d('ChatHovercard',['Arbiter','AsyncLoader','Bootloader','JSLogger','debounce'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=5,n=new i('/ajax/chat/hovercard/sidebar.php','hover'),o=k.create('chat_hovercard');h.subscribe('Hovercard/dirty',n.reset.bind(n));function p(t,u){n.get(t,function(v){setTimeout(function(){if(!v){o.error('fetch_failure',{id:t});return;}j.loadModules(["Hovercard"],function(w){var x=w.getDialog(v);if(!x){o.error('no_hovercard',{id:t,endpoint:v});return;}if(t==u.getActiveID())u.showHovercard(t,x);});},0);});}function q(t,u){var v=[];function w(z){if(z>=0&&z<t.length)v.push(t[z]);}var x=t.indexOf(u);if(x>-1){w(x);for(var y=1;y<m;y++){w(x+y);w(x-y);}}return v.filter(function(z){return z;});}function r(t,u){var v=u.getActiveID();if(v){var w=t.getShowingUsers(),x=q(w,v);n.get(x,function(){});}}function s(t){var u=t.getHoverController();u.registerDefault(p);u.subscribe('hover',l(r.bind(null,t,u),100));}f.exports=s;},null);
__d('ChatOrderedListHover',['ArbiterMixin','CSS','ErrorUtils','Event','LayerHideOnBlur','Parent','csx','cx','mixin','setTimeoutAcrossTransitions','shield'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s,t;if(c.__markCompiled)c.__markCompiled();function u(x){i.addClass(x,'fetching');}function v(x){i.removeClass(x,'fetching');}s=babelHelpers.inherits(w,p(h));t=s&&s.prototype;function w(x){'use strict';t.constructor.call(this);this._orderedList=x;this._root=x.getRoot();k.listen(this._root,'mouseover',this._mouseOver.bind(this));k.listen(this._root,'mouseleave',this._mouseLeave.bind(this));x.subscribe('click',r(this._hide,this));}w.prototype._mouseOver=function(event){'use strict';if(this._paused)return;var x=event.getTarget(),y=m.bySelector(x,"._42fz")||m.bySelector(x,"._5a58");y&&this._setActiveItem(y);};w.prototype._mouseLeave=function(event){'use strict';this._setActiveItem(null);};w.prototype._clearTimeouts=function(){'use strict';this._showTimeout&&clearTimeout(this._showTimeout);this._showTimeout=null;this._hideTimeout&&clearTimeout(this._hideTimeout);this._hideTimeout=null;};w.prototype._hide=function(){'use strict';if(this._showingDialog){this._showingDialog.hide();this._showingDialog=null;this._showingID=null;}};w.prototype._show=function(){'use strict';var x=this.getActiveID(),y=false;if(this._defaultHandler){y=true;j.applyWithGuard(this._defaultHandler,{},[x,this]);}if(y&&this._showingID!=this.getActiveID())u(this._activeItem);};w.prototype._setActiveItem=function(x){'use strict';if(x!=this._activeItem){this._clearTimeouts();this._activeItem&&v(this._activeItem);if(x){this._activeItem=x;var y=this._showingDialog?0:600;this._showTimeout=q(function(){return this._show();}.bind(this),y);this.inform('hover');}else{this._activeItem=null;this._hideTimeout=q(function(){return this._hide();}.bind(this),10);this.inform('leave');}}};w.prototype.registerDefault=function(x){'use strict';this._defaultHandler=x;};w.prototype.getActiveID=function(){'use strict';var x=this._activeItem&&this._orderedList.getUserForNode(this._activeItem);return x||null;};w.prototype.showHovercard=function(x,y){'use strict';if(x==this.getActiveID()&&x!=this._showingID){this._clearTimeouts();v(this._activeItem);this._hide();this._showingDialog=y;this._showingID=x;var z=y.subscribe('mouseenter',this._setActiveItem.bind(this,this._activeItem)),aa=y.subscribe('mouseleave',function(){z.unsubscribe();this._setActiveItem(null);}.bind(this)),ba=y.subscribe('hide',function(){this.inform('hovercard_hide');z.unsubscribe();aa.unsubscribe();ba.unsubscribe();}.bind(this));y.enableBehavior(l).setContext(this._activeItem).setPosition('left').show();this.inform('hovercard_show');}};Object.assign(w.prototype,{_root:null,_activeItem:null,_hideTimeout:null,_showTimeout:null,_showingDialog:null,_showingID:null,_defaultHandler:null});f.exports=w;},null);
__d("ChatSidebarConstants",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={LITESTAND_CLASSIC_SIZE:32,IMAGE_SIZE:32};Object.assign(h,{getImageSize:function(i){if(i===false)return h.IMAGE_SIZE;return h.LITESTAND_CLASSIC_SIZE;},getItemHeight:function(){return h.IMAGE_SIZE+8;}});f.exports=h;},null);
__d('ChatSidebarItem.react',['AvailableListConstants','XUIBadge.react','ChatConfig','ChatSidebarConstants','Image.react','Link.react','ReactComponentWithPureRenderMixin','React','SplitImage.react','TextWithEmoticons.react','Timestamp.react','cx','ix','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=o.PropTypes,w=j.get('divebar_rounded_profile',false),x=9,y=o.createClass({displayName:'ChatSidebarItem',mixins:[n],propTypes:{image:v.string,images:v.array,isPlayingGame:v.bool,birthday:v.bool,context:v.string,href:v.string,imageSize:v.number,name:v.string,nameCanHaveEmoji:v.bool,onClick:v.func,status:v.number,statusTime:v.string,unreadCount:v.number,isMessengerOnlyContact:v.bool},render:function(){var z="_55ln"+(this.props.context?' '+"_55lo":'')+(this.props.unreadCount?' '+"_5bom":'')+(w?' '+"_qhr":''),aa="_55lr";return (o.createElement(m,{className:z,href:{url:this.props.href},onClick:this.props.onClick,rel:'ignore'},o.createElement('div',{className:"_55lp"},o.createElement('div',{className:"_56p9"},o.createElement(p,{size:this.props.imageSize||k.IMAGE_SIZE,srcs:this.props.image||this.props.images}),o.createElement('div',{className:"_568w"})),o.createElement('div',{className:"_5bon"},this.renderPlayingGame(),this.renderBirthday(),this.renderUnreadCount(),this.renderStatus()),o.createElement('div',{className:aa},this.renderName()),o.createElement('div',{className:"_55ls"},this.props.context))));},renderName:function(){if(this.props.nameCanHaveEmoji){return (o.createElement(q,{renderEmoticons:true,renderEmoji:true,text:this.props.name}));}else return this.props.name;},renderUnreadCount:function(){var z=this.props.unreadCount;if(!z)return null;return (o.createElement(i,{count:z,maxcount:x,type:'regular'}));},renderStatus:function(){var z=this.getStatusSrc();if(!z&&!this.props.statusTime)return null;var aa=z?o.createElement(l,{className:"_568_",src:z}):null,ba=true,ca=this.props.unreadCount||0;if(ca>0){aa=this.props.statusTime?null:aa;ba=false;}return (o.createElement('div',{className:"_568z"},ba?this.renderLastActiveTime():null,aa));},renderLastActiveTime:function(){return (o.createElement('div',{className:"_568-"},this.props.statusTime));},renderBirthday:function(){if(!this.props.birthday)return null;var z=t('/images/gifts/icons/cake_icon.png');return (o.createElement(l,{className:"_5dv3",src:z}));},renderPlayingGame:function(){if(this.props.statusTime||this.props.birthday||!this.props.isPlayingGame)return null;return (o.createElement('div',{className:"_46b2"},o.createElement(l,{className:"_46b3",src:u({name:'games',size:'small'})})));},getStatusSrc:function(){if(this.props.isMessengerOnlyContact)return t('/images/chat/sidebar/buddylist_nub/phone.png');switch(this.props.status){case h.ACTIVE:return t('/images/chat/sidebar/buddylist_nub/greenDot.png');case h.MOBILE:return t('/images/chat/sidebar/buddylist_nub/phone.png');}return null;}});f.exports=y;},null);
__d('ChatSidebarThread.react',['ChatSidebarItem.react','ChatOpenTab','MercuryParticipantListRenderer','WebMessengerPermalinkConstants','React','Tooltip.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=l.PropTypes,p=10,q=l.createClass({displayName:'ChatSidebarThread',propTypes:{image:o.string,imageSize:o.number,name:o.string,participants:o.array,numOtherParticipants:o.number,referrer:o.string,status:o.number,threadFBID:o.string,unreadCount:o.number},_renderParticipants:function(){var t=[],u=this.props.participants.length,v=this.props.numOtherParticipants,w=Math.min(p,u);if(v-w==1)w--;for(var x=0;x<w;x++){var y=this.props.participants[x];t.push(l.createElement('li',{key:y.id},y.name));}if(w<v)t.push(l.createElement('li',{key:'more-participants'},n._("and {num} more...",[n.param('num',v-w)])));return (l.createElement('ul',null,t));},render:function(){var t=this.props.name,u=r(this.props.threadFBID,this.props.participants,this.props.numOtherParticipants),v=t?u:undefined,w=k.getURIPathForThreadID(this.props.threadFBID),x=s(this.props.image,this.props.participants),y=t?t:u;return (l.createElement(m,{display:'block',position:'above',tooltip:this._renderParticipants()},l.createElement(h,{context:v,href:w,imageSize:this.props.imageSize,image:this.props.image,images:x,name:y,nameCanHaveEmoji:true,onClick:this._openTab,referrer:this.props.referrer,status:this.props.status,unreadCount:this.props.unreadCount})));},_openTab:function(t){t.preventDefault();i.openThread(this.props.threadFBID,this.props.referrer);}});function r(t,u,v){return new j().setIsNewThread(!t).setUseShortName(true).setTotalParticipantCount(v).renderParticipantList(u);}function s(t,u){if(t)return null;return u.map(function(v){return v.image_src;}).filter(function(v){return v;});}f.exports=q;},null);
__d('ChatSidebarGroupThreadsGroup.react',['ChatSidebarThread.react','ChatSidebarSections','ChatSidebarConstants','PresencePrivacy','PresenceStatus','React','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=m.PropTypes,p=m.createClass({displayName:'ChatSidebarGroupThreadsGroup',propTypes:{groups:o.array.isRequired,isDisconnected:o.bool},render:function(){return (m.createElement('ul',null,this.props.groups.map(this._renderGroup)));},_renderGroup:function(q){var r=q.mercury_thread.participants,s=this.props.isDisconnected||k.isUserOffline();return (m.createElement('li',{className:"_42fz"+(s?' '+"_570-":''),'data-id':q.uid,key:q.uid},m.createElement(h,{image:q.mercury_thread.image_src,imageSize:j.getImageSize(),name:q.mercury_thread.name,participants:q.participants_to_render,numOtherParticipants:r.length-1,referrer:i.ORDERED_LIST,status:l.getGroup(r),threadFBID:q.uid})));}});f.exports=p;},null);
__d('ChatSidebarHeader.react',['ReactComponentWithPureRenderMixin','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=i.createClass({displayName:'ReactChatSidebarHeader',mixins:[h],render:function(){return (i.createElement('div',babelHelpers['extends']({},this.props,{className:k(this.props.className,"_55ob")}),i.createElement('div',{className:"_55oc"},this.props.children)));}});f.exports=l;},null);
__d('ChatSidebarUser.react',['ChatOpenTab','ChatSidebarItem.react','WebMessengerPermalinkConstants','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=l.PropTypes,n=l.createClass({displayName:'ChatSidebarUser',mixins:[k],propTypes:{birthday:m.bool,image:m.string,imageSize:m.number,isPlayingGame:m.bool,name:m.string,sectionName:m.string.isRequired,slot:m.number,status:m.number,statusTime:m.string,unreadCount:m.number,userID:m.string.isRequired,isMessengerOnlyContact:m.bool},_openTab:function(event){h.openUserTab(this.props.userID,this.props.sectionName,{global_slot:this.props.slot});return event.preventDefault();},render:function(){var o=j.getURIPathForIDOrVanity(this.props.userID);return (l.createElement(i,{onClick:this._openTab,href:o,imageSize:this.props.imageSize,image:this.props.image,isPlayingGame:this.props.isPlayingGame,name:this.props.name,nameCanHaveEmoji:false,status:this.props.status,birthday:this.props.birthday,statusTime:this.props.statusTime,context:this.props.context,unreadCount:this.props.unreadCount,isMessengerOnlyContact:this.props.isMessengerOnlyContact}));}});f.exports=n;},null);
__d('ChatSidebarUserGroup.react',['Promise','AvailableList','AvailableListConstants','CanvasGKs','ChatSidebarSections','ChatSidebarUser.react','LastActiveTimes','PresencePrivacy','PresenceStatus','React','ShortProfiles','SubscriptionsHandler','createCancelableFunction','cx','requireWeak','shield'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){'use strict';if(c.__markCompiled)c.__markCompiled();var x=q.PropTypes,y=new h(function(ca){v('ChatUnreadCount',function(da){z=da.get();ca(z);});}),z=undefined,aa=Object.keys(l).map(function(ca){return l[ca];}),ba=q.createClass({displayName:'ChatSidebarUserGroup',propTypes:{ids:x.array.isRequired,isDisconnected:x.bool,loadExtras:x.bool,sectionName:x.oneOf(aa).isRequired},getInitialState:function(){return {userData:[]};},componentWillMount:function(){this._subscriptions=new s();this._updateProfiles=t(function(ca,da){var ea=ca.map(function(fa){return da[fa];});this.setState({userData:ea});}.bind(this));this._subscriptions.addSubscriptions(this._updateProfiles);this.componentWillReceiveProps(this.props);},componentDidMount:function(){this._subscriptions.addSubscriptions(i.subscribe(j.ON_AVAILABILITY_CHANGED,this._onAvailabilityChanged));y.done(function(ca){this._subscriptions.addSubscriptions(ca.subscribe('unread-count-changed',w(this.forceUpdate,this)));}.bind(this));},componentWillUnmount:function(){this._subscriptions.release();},componentWillReceiveProps:function(ca){r.getMulti(ca.ids,this._updateProfiles.bind(this,ca.ids));this.setState({userData:ca.ids.map(function(da){return r.getNow(da);}).filter(function(da){return da;})});},render:function(){return (q.createElement('ul',this.props,this.state.userData.map(this._renderProfile)));},_renderProfile:function(ca,da){if(ca.id===0)return null;var ea=p.get(ca.id);if(ea!==j.ACTIVE)ea=null;var fa=null;if(k.pg_chatproxy_canvas_buddy_icon)fa=p.isPlayingCanvasGameUser(ca.id);var ga=ea!==j.ACTIVE?n.getShortDisplay(ca.id):null,ha=this.props.isDisconnected||!o.allows(ca.id);return (q.createElement('li',{className:"_42fz"+(ha?' '+"_570-":''),'data-id':ca.id,key:ca.id},q.createElement(m,{birthday:ca.is_birthday,image:ca.thumbSrc,imageSize:this.props.imageSize,isPlayingGame:fa,name:ca.name,sectionName:this.props.sectionName,slot:da,status:ea,statusTime:ga,userID:ca.id,unreadCount:this._getUnreadCountForUID(ca.id),isMessengerOnlyContact:ca.is_messenger_only})));},_getUnreadCountForUID:function(ca){if(!z)return null;return z.getUnreadCountForUID(ca);},_onAvailabilityChanged:function(ca,da){if(!da||this.props.ids.indexOf(da)!==-1)this.forceUpdate();}});f.exports=ba;},null);
__d('ChatSidebarOrderedList.react',['Animation','ChatConfig','Bootloader','ChatQuietLinks','ChatSidebarConstants','ChatSidebarGroupThreadsGroup.react','ChatSidebarHeader.react','ChatSidebarSections','ChatSidebarUserGroup.react','PresencePrivacy','ReactComponentWithPureRenderMixin','React','ReactDOM','Run','Scroll','SubscriptionsHandler','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){if(c.__markCompiled)c.__markCompiled();var z=s.PropTypes,aa=s.createClass({displayName:'ChatSidebarOrderedList',propTypes:{topUsers:z.array.isRequired,availableUsers:z.array.isRequired,isSidebar:z.bool.isRequired,scrollContainer:z.object,groups:z.array.isRequired},getInitialState:function(){return {renderBelowFold:false,isDisconnected:false};},componentDidMount:function(){k.nukeLinks(t.findDOMNode(this));this._subscriptions=new w();u.onAfterLoad(function(){this.setState({renderBelowFold:true});this._bootloadChannelSubscription();}.bind(this));},componentWillUnmount:function(){this._subscriptions.release();},_scrollToSeparator:function(ba){if(!this.props.scrollContainer)return;var ca=this.props.scrollContainer.scrollHeight,da=this.props.scrollContainer.clientHeight,ea=v.getTop(this.props.scrollContainer),fa=Math.min(ba.offsetTop,ca-da);if(ea!==fa){var ga=Math.abs(fa-ea)/this.props.scrollContainer.clientHeight*500;new h(this.props.scrollContainer).to('scrollTop',fa).ease(h.ease.end).duration(ga).go();}},_renderOfflineSection:function(){var ba=l.getImageSize(this.props.isSidebar),ca=this.props.topUsers.filter(function(ea){return !q.allows(ea);});ca.splice(-2);var da=s.createElement('a',{ajaxify:'/ajax/chat/privacy/settings_dialog.php?ref=whitelist_separator',href:'#',rel:'dialog'},y._("Edit"));return [s.createElement(n,{key:'usersSeparator1'},y._("MORE FRIENDS")),s.createElement(n,{className:"_5j9-",key:'usersSeparator2'},y._("These friends can't see you on chat. {=link}",[y.param('=link',da)])),s.createElement(p,{ids:ca,isDisconnected:this.state.isDisconnected,imageSize:ba,key:o.OFFLINE_USERS,loadExtras:this.state.renderBelowFold,sectionName:o.OFFLINE_USERS})];},_renderOnlineSection:function(){if(this.props.availableUsers.length===0)return null;if(!this.state.renderBelowFold){var ba=l.getItemHeight();return (s.createElement('div',{key:o.MORE_ONLINE_FRIENDS,style:{height:ba*this.props.availableUsers.length}}));}var ca=l.getImageSize(this.props.isSidebar),da=y._("{MORE ONLINE FRIENDS} ({=count})",[y.param('MORE ONLINE FRIENDS',y._("MORE FRIENDS")),y.param('=count',this.props.availableUsers.length)]),ea=s.createElement(p,{ids:this.props.availableUsers,imageSize:ca,key:o.MORE_ONLINE_FRIENDS,loadExtras:this.state.renderBelowFold,sectionName:o.MORE_ONLINE_FRIENDS});return [s.createElement(n,{ref:'usersSeparator',key:'usersSeparator',onClick:function(){return this._scrollToSeparator(t.findDOMNode(this.refs.usersSeparator));}.bind(this)},da),ea];},_renderGroupsSection:function(){if(this.props.groups.length===0)return null;var ba=this.state.isDisconnected||q.isUserOffline();return [s.createElement(n,{ref:'groupSeparator',key:'groupSeparator',className:ba?"_570-":'',onClick:function(){return this._scrollToSeparator(t.findDOMNode(this.refs.groupSeparator));}.bind(this)},y._("GROUP CONVERSATIONS")),s.createElement(m,{groups:this.props.groups,isDisconnected:this.state.isDisconnected,key:'group_threads_section',loadExtras:this.state.renderBelowFold})];},_renderFriendsSection:function(){var ba=l.getImageSize(this.props.isSidebar),ca=this.props.topUsers;if(q.getVisibility()==q.ONLINE)ca=this.props.topUsers.filter(function(da){return q.allows(da);});return [s.createElement(p,{key:o.ORDERED_LIST,ids:ca,imageSize:ba,loadExtras:this.state.renderBelowFold,sectionName:o.ORDERED_LIST})];},render:function(){var ba=q.getOnlinePolicy()==q.ONLINE_TO_WHITELIST&&q.getVisibility()?this._renderOfflineSection():this._renderOnlineSection(),ca=this._renderFriendsSection(),da=this._renderGroupsSection();return (s.createElement('div',null,ca,da,ba));},_bootloadChannelSubscription:function(){j.loadModules(["ChannelConnection"],function(ba){this._subscriptions.addSubscriptions(ba.subscribe([ba.CONNECTED,ba.RECONNECTING,ba.SHUTDOWN,ba.MUTE_WARNING,ba.UNMUTE_WARNING],function(){this.setState({isDisconnected:ba.disconnected()});}.bind(this)));}.bind(this));}});f.exports=aa;},null);
__d('ChatSortUsers',['ShortProfiles','TokenizeUtil'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={};function k(m){if(j[m])return j[m];var n=(h.getNowUnsafe(m)||{}).name;if(n)return j[m]=i.flatten(n);return '~';}var l={sortAlphabetical:function(m,n){var o=k(m),p=k(n);if(o!==p)return o<p?-1:1;return 0;}};f.exports=l;},null);
__d('PresenceOrderedList',['ChatSortUsers','immutable','InitialChatFriendsList','PresencePrivacy','PresenceStatus'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();function m(){'use strict';this.$PresenceOrderedList1=this.$PresenceOrderedList2();}m.prototype.getSorted=function(n){'use strict';var o=[];this.$PresenceOrderedList1.forEach(function(p){var q=p[0],r=p[1];if(o.length>=n)return false;if(k.getFriendVisibility(q)==k.BLACKLISTED)return true;if(r==l.get(q))o.push(q);});return i.OrderedSet(o);};m.prototype.getAvailableSorted=function(n){'use strict';var o=i.Set(l.getOnlineIDs());if(n)o=o.subtract(n);return o.sort(h.sortAlphabetical);};m.prototype.$PresenceOrderedList2=function(){'use strict';var n=j.list||[];return n.map(function(o){var p=o.slice(0,-2),q=Number(o.slice(-1));return [p,q];});};f.exports=new m();},null);
__d('ChatOrderedList',['Arbiter','ArbiterMixin','AvailableList','AvailableListConstants','CSS','ChatConfig','ChatHovercard','ChatOptions','ChatOrderedListHover','ChatSidebarConstants','ChatSidebarInboxConfig','ChatSidebarOrderedList.react','ChatVisibility','DOM','DataStore','Event','InitialChatFriendsList','JSLogger','Parent','PresenceOrderedList','PresencePrivacy','PresenceStatus','React','ReactDOM','createObjectFrom','csx','debounceAcrossTransitions','mixin','shield'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja){var ka,la;if(c.__markCompiled)c.__markCompiled();var ma=null;ka=babelHelpers.inherits(na,ia(i));la=ka&&ka.prototype;function na(oa,pa){'use strict';la.constructor.call(this);this._isSidebar=oa;this._root=pa;this._isVisible=false;this._excludedIds={};this._numTopFriends=5;this._groups=[];this._hoverController=null;this._isHovering=false;this._orderedList=u.find(this._root,'.fbChatOrderedList');w.listen(this._orderedList,'mouseover',function(){this._isHovering=true;}.bind(this));w.listen(this._orderedList,'mouseout',function(){this._isHovering=false;this._render();}.bind(this));this._scrollableOrderedList=z.byClass(this._root,'scrollableOrderedList');this._scrollableArea=z.byClass(this._root,'scrollable');if(this._isSidebar)new n(this);h.subscribe(y.DUMP_EVENT,function(qa,ra){ra.chat_lists=ra.chat_lists||{sorted_list:this.getSortedList(),available_list:aa.getAvailableSorted(),excluded_list:this._excludedIds};}.bind(this));ba.subscribe('privacy-user-presence-changed',ja(this._render,this));j.subscribe(k.ON_AVAILABILITY_CHANGED,ja(this._render,this));}na.prototype.getShowingUsers=function(){'use strict';return u.scry(this._root,"li._42fz,li._5a58").map(this.getUserForNode);};na.prototype.getUserForNode=function(oa){'use strict';return v.get(oa,'id')||v.get(oa,'serverthreadid');};na.prototype.getHoverController=function(){'use strict';if(!this._hoverController)this._hoverController=new p(this);return this._hoverController;};na.prototype.getItemHeight=function(){'use strict';return q.getItemHeight();};na.prototype.getRoot=function(){'use strict';return this._root;};na.prototype.getSortedList=function(){'use strict';return aa.getSorted(this._numTopFriends);};na.prototype.hide=function(){'use strict';if(!this._isVisible)return;this._isVisible=false;l.hide(this._scrollableOrderedList||this._root);this.inform('hide');};na.prototype.setNumTopFriends=function(oa,pa){'use strict';var qa=this._getGroups(),ra=oa-qa.length;if(ra>m.get('min_top_friends'))oa=ra;oa--;if(oa!==this._numTopFriends||qa.length!==this._groups.length){this._groups=qa;this._numTopFriends=oa;if(pa){this._renderOrderedList();}else this._render();}};na.prototype._renderOrderedList=function(){'use strict';if(!this._isVisible||this._isHovering)return;var oa=this.getSortedList(),pa=aa.getAvailableSorted(oa),qa=r.component;if(qa){ea.render(da.createElement(qa,{showCount:r.show_count,showPresence:r.show_presence,threadCount:this._numTopFriends}),this._orderedList);}else ea.render(da.createElement(s,{availableUsers:pa.toArray(),isSidebar:this._isSidebar,scrollContainer:this._scrollContainer,topUsers:oa.toArray(),groups:this._getGroups()}),this._orderedList);this.inform('render');};na.prototype._render=function(){'use strict';this._render=ha(this._renderOrderedList.bind(this),300);this._render();};na.prototype.show=function(){'use strict';if(this._isVisible)return;this._isVisible=true;l.show(this._scrollableOrderedList||this._root);this._render();this.inform('show');};na.prototype.isVisible=function(){'use strict';return this._isVisible;};na.prototype.setScrollContainer=function(oa){'use strict';if(u.contains(oa,this._root))this._scrollContainer=oa;};na.prototype._getGroups=function(){'use strict';if(!o.getSetting('hide_groups')){return x.groups||[];}else return [];};f.exports=na;},null);
__d('ChatSidebarTypeaheadDataSource',['MercuryConfig','MercuryTypeaheadDataSource','Run','ShortProfiles'],function a(b,c,d,e,f,g,h,i,j,k){var l,m;if(c.__markCompiled)c.__markCompiled();l=babelHelpers.inherits(n,i);m=l&&l.prototype;function n(o){'use strict';o=o||{};o.kanaNormalization=true;m.constructor.call(this,o);if(h.LinkedAgents&&h.LinkedAgents.length>0)j.onAfterLoad(function(){return this.bootstrap();}.bind(this));}n.prototype.init=function(){'use strict';m.init.call(this);this.updateBootstrapData();};n.prototype.bootstrap=function(){'use strict';m.bootstrap.call(this);};n.prototype.updateBootstrapData=function(){'use strict';if(this.isBootstrapped())return;m.updateBootstrapData.call(this);};n.prototype.fetchAll=function(){'use strict';k.fetchAll();};n.prototype.refreshData=function(){'use strict';this.fetchAll();};n.prototype.query=function(o,p,q,r){'use strict';this.logQuery({event:'query_dive_bar',query:o});return m.query.call(this,o,p,q,r);};n.prototype.respond=function(o,p,q){'use strict';var r=m.respond.call(this,o,p,q);this.logResponse({event:'query_response_dive_bar',response_query:o,response_uids:p});return r;};f.exports=n;},null);
__d('ChatTypeaheadCore',['Event','Keys','TypeaheadCore','emptyFunction','shield'],function a(b,c,d,e,f,g,h,i,j,k,l){var m,n;if(c.__markCompiled)c.__markCompiled();m=babelHelpers.inherits(o,j);n=m&&m.prototype;o.prototype.init=function(p,q,r){'use strict';n.init.call(this,p,q,r);this.informBeginActive=false;this.informEndActive=false;this.data.subscribe('respond',function(){if(this.informBeginActive){this.informBeginActive=false;this.inform('sidebar/typeahead/active',true);}else if(this.informEndActive){this.informEndActive=false;this.inform('sidebar/typeahead/active',false);}}.bind(this));};o.prototype.keydown=function(event){'use strict';this.data.fetchAll();var p=h.getKeyCode(event);if(p===i.ESC){this.view.clearContent();setTimeout(l(this.reset,this),0);if(!this.getValue()){this.element.blur();this.inform('escape');}return event.kill();}return n.keydown.call(this,event);};o.prototype.checkValue=function(){'use strict';var p=this.getValue(),q=this.value;if(p==q)return;if(q&&!p){this.typeaheadActive=false;this.informEndActive=true;}else if(!q&&p){this.typeaheadActive=true;this.informBeginActive=true;this.inform('sidebar/typeahead/preActive');}n.checkValue.call(this);};function o(){'use strict';m.apply(this,arguments);}Object.assign(o.prototype,{handleTab:k});f.exports=o;},null);
__d('ChatTypeaheadRenderer',['AvailableListConstants','ChatSidebarConstants','ChatSidebarHeader.react','ChatSidebarSections','ChatSidebarThread.react','ChatSidebarUser.react','ChatTypeaheadConstants','DOM','LastActiveTimes','MercuryIDs','PresenceStatus','React','ReactDOM','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v={};function w(ba,ca){if(!(ba in v))v[ba]=o.create('li');t.render(ca,v[ba]);return v[ba];}function x(ba){return w(ba.text,s.createElement(j,null,ba.text));}function y(ba){var ca=ba.mercury_thread.participants.map(function(da){return q.getUserIDFromParticipantID(da);});return w(ba.uid,s.createElement(l,{image:ba.mercury_thread.image_src,imageSize:i.getImageSize(),name:ba.mercury_thread.name,participants:ba.participants_to_render,numOtherParticipants:ca.length-1,referrer:k.TYPEAHEAD,status:r.getGroup(ca),threadFBID:ba.uid}));}function z(ba){var ca=r.get(ba.uid),da=ca===h.MOBILE?p.getShortDisplay(ba.uid):null,ea=ba.subtext;return w(ba.uid,s.createElement(m,{image:ba.photo,imageSize:i.getImageSize(),name:ba.text,sectionName:k.TYPEAHEAD,status:ca,statusTime:da,userID:ba.uid,context:ea}));}function aa(ba,ca){if(ba.type===n.HEADER_TYPE)return x(ba);if(ba.type==n.THREAD_TYPE)return y(ba);return z(ba);}f.exports=aa;},null);
__d('ChatTypeaheadView',['BucketedTypeaheadView','ChatTypeaheadConstants','CurrentUser','DOM','MercuryConfig','React','ReactDOM','ScrollableArea','MercuryThreadSearchUtils','Style','WorkModeConfig','XUISpinner.react','arrayContains','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){var w,x;if(c.__markCompiled)c.__markCompiled();w=babelHelpers.inherits(y,h);x=w&&w.prototype;function y(z,aa){'use strict';x.constructor.call(this,z,aa);this.showingLoadingIndicator=false;this.typeObjects={};this.typeObjectsOrder=[];this.typeObjects[i.NON_FRIEND_TYPE]={uid:i.NON_FRIEND_TYPE,type:i.HEADER_TYPE,text:v._("MORE PEOPLE")};this.typeObjects[i.COMMERCE_PAGE_TYPE]={disabled:true,uid:i.COMMERCE_PAGE_TYPE,type:i.HEADER_TYPE,text:v._("BUSINESSES")};this.typeObjects[i.MEETING_ROOM_PAGE_TYPE]={disabled:true,uid:i.MEETING_ROOM_PAGE_TYPE,type:i.HEADER_TYPE,text:v._("MEETING ROOMS")};this.typeObjects[i.PAGE_TYPE]={disabled:true,uid:i.PAGE_TYPE,type:i.HEADER_TYPE,text:v._("OTHER PAGES")};this.typeObjects[i.THREAD_TYPE]={uid:i.THREAD_TYPE,type:i.HEADER_TYPE,text:v._("GROUP CONVERSATIONS")};this.typeObjects[i.FB4C_TYPE]={uid:i.FB4C_TYPE,type:i.HEADER_TYPE,text:v._("CO-WORKERS")};this.typeObjects[i.FRIEND_TYPE]={disabled:true,uid:i.FRIEND_TYPE,type:i.HEADER_TYPE,text:v._("FRIENDS")};this.$ChatTypeaheadView1();}y.prototype.reset=function(){'use strict';if(this.value==='')this.clearContent();this.index=-1;this.items=[];this.results=[];this.value='';this.inform('reset');return this;};y.prototype.clearContent=function(){'use strict';this.hideLoadingIndicator();k.empty(this.content);};y.prototype.buildBuckets=function(z,aa){'use strict';var ba=aa.filter(function(ca){var da=ca.render_type||ca.type;if(da==='thread'){var ea='fbid:'+j.getID();if(!t(ca.mercury_thread.participants,ea))return false;var fa=ca.participants_to_render.some(function(ha){return p.queryMatchesName(z,ha.name);}),ga=p.queryMatchesName(z,ca.mercury_thread.name);if(!fa&&!ga)return false;}return true;}).reverse();this.$ChatTypeaheadView1(z,ba);return x.buildBuckets.call(this,z,ba);};y.prototype.getDefaultIndex=function(z){'use strict';if(z.length===0)return -1;var aa=z.length-1;while(!this.isHighlightable(z[aa])&&aa>=0)aa--;return aa;};y.prototype.showLoadingIndicator=function(){'use strict';if(!this.showingLoadingIndicator){n.render(m.createElement('div',{className:'spinnerContainer'},m.createElement(s,{className:"_3-8i",background:'light',size:'small',paused:false})),this.content);this.showingLoadingIndicator=true;}};y.prototype.hideLoadingIndicator=function(){'use strict';if(this.showingLoadingIndicator){n.unmountComponentAtNode(this.content);this.showingLoadingIndicator=false;}};y.prototype.showNoResults=function(){'use strict';var z=v._("Friend not found.");if(r.is_work_user)z=v._("Co-worker not found.");this.hideLoadingIndicator();k.setContent(this.content,k.create('div',{className:"noResults _3-9a"},z));};y.prototype.hide=function(){'use strict';this.clearContent();return x.hide.call(this);};y.prototype.next=function(){'use strict';x.next.call(this);};y.prototype.prev=function(){'use strict';x.prev.call(this);};y.prototype.setMaxHeight=function(z){'use strict';q.set(this.$ChatTypeaheadView2.wrap,'max-height',z+'px');};y.prototype.render=function(z,aa,ba){'use strict';if(!aa.length){if(z&&z.length>1)this.showLoadingIndicator();}else this.hideLoadingIndicator();x.render.call(this,z,aa,ba,true);};y.prototype.$ChatTypeaheadView1=function(z,aa){'use strict';var ba=[];if(j.isWorkUser()){ba=[i.MEETING_ROOM_PAGE_TYPE,i.THREAD_TYPE,i.NON_FRIEND_TYPE,i.FB4C_TYPE,i.FRIEND_TYPE];}else if(l.WWWMessengerMoneyPennyGK&&z&&l.HoistAgentsKeywords&&l.HoistAgentsKeywords.indexOf(z.toLowerCase())!==-1){ba=[i.NON_FRIEND_TYPE,i.FB4C_TYPE,i.THREAD_TYPE,i.FRIEND_TYPE,i.MEETING_ROOM_PAGE_TYPE,i.COMMERCE_PAGE_TYPE,i.PAGE_TYPE];}else ba=[i.NON_FRIEND_TYPE,i.MEETING_ROOM_PAGE_TYPE,i.COMMERCE_PAGE_TYPE,i.PAGE_TYPE,i.FB4C_TYPE,i.THREAD_TYPE,i.FRIEND_TYPE];if(!z){this.typeObjectsOrder=[];}else if(aa)this.typeObjectsOrder=aa.reduce(function(ca,da){if(ca.indexOf(da.render_type)===-1&&this.typeObjectsOrder.indexOf(da.render_type)===-1)ca.push(da.render_type);return ca;}.bind(this),[]).sort(function(ca,da){return (ba.indexOf(ca)-ba.indexOf(da));}).concat(this.typeObjectsOrder);};f.exports=y;},null);
__d('NotificationBeeperItemCloseButton.react',['React','XUIAbstractGlyphButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=h.createClass({displayName:'NotificationBeeperItemCloseButton',render:function(){return (h.createElement(i,babelHelpers['extends']({},this.props,{className:"_3soc",title:k._("Close")})));}});f.exports=l;},null);
__d('SyncRequestAcceptedMessage.react',['React','fbt','cx'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'SyncRequestAcceptedMessage',propTypes:{appName:k.string.isRequired,isSender:k.bool.isRequired,receiverName:k.string.isRequired,senderName:k.string.isRequired},render:function(){if(this.props.isSender){return (h.createElement('div',null,i._("{receiver} accepted your invite to play {app name}.",[i.param('receiver',h.createElement('span',{className:"_dg4"},this.props.receiverName)),i.param('app name',h.createElement('span',{className:"_dg5"},this.props.appName))])));}else return (h.createElement('div',null,i._("You accepted an invite from {sender} to play {app name}.",[i.param('sender',h.createElement('span',{className:"_dg4"},this.props.senderName)),i.param('app name',h.createElement('span',{className:"_dg5"},this.props.appName))])));}});f.exports=l;},null);
__d('SyncRequestCanceledMessage.react',['React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'SyncRequestCanceledMessage',propTypes:{appName:k.string.isRequired,isSender:k.bool.isRequired,receiverName:k.string.isRequired,senderName:k.string.isRequired},render:function(){if(this.props.isSender){return (h.createElement('div',null,j._("You canceled an invite to {receiver} to play {app name}.",[j.param('receiver',h.createElement('span',{className:"_dg4"},this.props.receiverName)),j.param('app name',h.createElement('span',{className:"_dg5"},this.props.appName))])));}else return (h.createElement('div',null,j._("{sender} canceled an invitation to play {app name}.",[j.param('sender',h.createElement('span',{className:"_dg4"},this.props.senderName)),j.param('app name',h.createElement('span',{className:"_dg5"},this.props.appName))])));}});f.exports=l;},null);
__d('SyncRequestExpiredMessage.react',['React','fbt','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'SyncRequestExpiredMessage',propTypes:{appName:k.string.isRequired,isSender:k.bool.isRequired,receiverName:k.string.isRequired,senderName:k.string.isRequired},render:function(){if(this.props.isSender){return (h.createElement('div',null,i._("{receiver} missed your invite to play {app name}.",[i.param('receiver',h.createElement('span',{className:"_dg4"},this.props.receiverName)),i.param('app name',h.createElement('span',{className:"_dg5"},this.props.appName))])));}else return (h.createElement('div',null,i._("You missed an invite from {sender} to play {app name}.",[i.param('sender',h.createElement('span',{className:"_dg4"},this.props.senderName)),i.param('app name',h.createElement('span',{className:"_dg5"},this.props.appName))])));}});f.exports=l;},null);
__d('SyncRequestRejectedMessage.react',['AsyncRequest','Link.react','React','URI','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=j.PropTypes,o=j.createClass({displayName:'SyncRequestRejectedMessage',propTypes:{requestId:n.string.isRequired,app:n.object.isRequired,isSender:n.bool.isRequired,receiver:n.object.isRequired,sender:n.object.isRequired},render:function(){if(this.props.isSender){return (j.createElement('div',null,m._("{receiver} declined your invite to play {app_name}.",[m.param('receiver',j.createElement('span',{className:"_dg4"},this.props.receiver.name)),m.param('app_name',j.createElement('span',{className:"_dg5"},this.props.app.name))])));}else return (j.createElement('div',null,m._("You declined an invite from {sender} to play {app_name}.",[m.param('sender',j.createElement('span',{className:"_dg4"},this.props.sender.name)),m.param('app_name',j.createElement('span',{className:"_dg5"},this.props.app.name))]),j.createElement('div',{className:"_13n7"},j.createElement('div',null,j.createElement(i,{onClick:this._submitBlockApp},m._("Block {app}",[m.param('app',this.props.app.name)]))),j.createElement('div',null,j.createElement(i,{onClick:this._submitBlockUser},m._("Block requests from {sender}",[m.param('sender',this.props.sender.name)]))))));},_submitBlockApp:function(){var p=new k('/games/block_app/'),q=new h().setURI(p);q.setData({app_id:this.props.app.id,source:'sync_request'});q.send();},_submitBlockUser:function(){var p=new k('/games/block_user/'),q=new h().setURI(p);q.setData({app_id:this.props.app.id,blockee_uid:this.props.sender.id});q.send();}});f.exports=o;},null);
__d('SyncRequestTimer.react',['React','fbt'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.PropTypes;function k(m){if(m){m=Math.ceil(m);var n=m%60;if(n<10)n='0'+n;var o=Math.floor(m/60);return o+':'+n;}else return "0:00";}var l=h.createClass({displayName:'SyncRequestTimer',propTypes:{timeRemaining:j.number.isRequired,isSender:j.bool.isRequired,receiverName:j.string.isRequired},render:function(){if(this.props.isSender){return (h.createElement('div',null,i._("({time_remaining} remaining)",[i.param('time_remaining',k(this.props.timeRemaining))])));}else return (h.createElement('div',null,i._("You have {time_remaining} to accept.",[i.param('time_remaining',k(this.props.timeRemaining))])));}});f.exports=l;},null);
__d('SyncRequestTitle.react',['React','fbt','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'SyncRequestTitle',propTypes:{appName:k.string.isRequired,isSender:k.bool.isRequired,receiverName:k.string.isRequired,senderName:k.string.isRequired},render:function(){if(this.props.isSender){return (h.createElement('div',null,i._("Waiting for {receiver} to accept your invite to play {app_name}.",[i.param('receiver',h.createElement('span',{className:"_dg4"},this.props.receiverName)),i.param('app_name',h.createElement('span',{className:"_dg5"},this.props.appName))])));}else return (h.createElement('div',null,i._("{sender} wants to play {app_name} with you, right now.",[i.param('sender',h.createElement('span',{className:"_dg4"},this.props.senderName)),i.param('app_name',h.createElement('span',{className:"_dg5"},this.props.appName))])));}});f.exports=l;},null);
__d("XSyncRequestSubmitController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/platform\/games\/sync_requests\/submit\/",{request_id:{type:"Int",required:true},sender:{type:"Int",required:true},action:{type:"Int",required:true}});},null);
__d('SyncRequest.react',['Arbiter','AsyncRequest','ChannelConstants','React','SyncRequestStatusEnum','SyncRequestTitle.react','SyncRequestAcceptedMessage.react','SyncRequestRejectedMessage.react','SyncRequestExpiredMessage.react','SyncRequestCanceledMessage.react','SyncRequestTimer.react','XUIButton.react','XSyncRequestSubmitController','cx','fbt','getObjectValues'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x=k.PropTypes,y=k.createClass({displayName:'SyncRequest',propTypes:{app:x.object.isRequired,creationTime:x.number.isRequired,requestId:x.string.isRequired,receiver:x.object.isRequired,sender:x.object.isRequired,status:x.oneOf(w(l)).isRequired,timeout:x.number.isRequired,timeRemaining:x.number.isRequired,viewerId:x.number.isRequired,onStatusUpdate:x.func},componentWillMount:function(){if(this.props.status===l.PENDING){var z=h.subscribe(j.getArbiterType('sync_request_updated'),function(ca,da){da=da.obj;if(da.id.toString()!==this.props.requestId)return;this.setState({status:da.status});}.bind(this));this.setState({statusEvent:z});}var aa=null;if(this.props.status===l.PENDING){var ba=function(){this.setState({time_remaining:this.state.time_remaining-1});if(this.state.time_remaining<=0){clearInterval(this.state.counter);var ca={counter:null,time_remaining:0};if(this.state.status===l.PENDING)ca.status=l.EXPIRED;this.setState(ca);}};aa=setInterval(ba.bind(this),1000);}this.setState({time_remaining:this.props.timeRemaining,counter:aa});},componentWillUnmount:function(){if(this.state.counter)clearInterval(this.state.counter);h.unsubscribe(this.state.statusEvent);},getInitialState:function(){return {buttonsDisabled:false,time:Date.now(),status:this.props.status,viewerIsSender:this.props.viewerId===this.props.sender.id};},componentDidUpdate:function(z,aa){if(this.props.status!=l.PENDING)this.state.status=this.props.status;if(this.props.onStatusUpdate)this.props.onStatusUpdate(this.state.status,aa.status);},render:function(){var z;switch(this.state.status){case l.PENDING:var aa;if(!this.state.viewerIsSender){aa=[k.createElement(s,{use:'confirm',onClick:this._handleAccept,disabled:this.state.buttonsDisabled,label:v._("Accept")}),k.createElement(s,{use:'default',onClick:this._handleReject,disabled:this.state.buttonsDisabled,label:v._("Decline")})];}else aa=k.createElement(s,{use:'default',onClick:this._handleCancel,disabled:this.state.buttonsDisabled,label:v._("Cancel")});z=k.createElement('div',null,k.createElement('div',{className:"_372m"},k.createElement(m,{appName:this.props.app.name,isSender:this.state.viewerIsSender,receiverName:this.props.receiver.name,senderName:this.props.sender.name})),k.createElement('div',{className:"_372n"},k.createElement(r,{isSender:this.state.viewerIsSender,timeRemaining:this.state.time_remaining,receiverName:this.props.receiver.name})),k.createElement('div',{className:"_372o"},aa));break;case l.ACCEPTED:z=k.createElement('div',{className:"_372p mvs"},k.createElement(n,{appName:this.props.app.name,isSender:this.state.viewerIsSender,receiverName:this.props.receiver.name,senderName:this.props.sender.name}));break;case l.REJECTED:z=k.createElement('div',{className:"_372p mvs"},k.createElement(o,{requestId:this.props.requestId,app:this.props.app,isSender:this.state.viewerIsSender,receiver:this.props.receiver,sender:this.props.sender}));break;case l.EXPIRED:z=k.createElement('div',{className:"_372p mvs"},k.createElement(p,{appName:this.props.app.name,isSender:this.state.viewerIsSender,receiverName:this.props.receiver.name,senderName:this.props.sender.name}));break;case l.CANCELED:z=k.createElement('div',{className:"_372p mvs"},k.createElement(q,{appName:this.props.app.name,isSender:this.state.viewerIsSender,receiverName:this.props.receiver.name,senderName:this.props.sender.name}));break;default:throw new Error('The request status `%s` is unknown.',this.state.status);}return (k.createElement('div',{className:"_372q"},z));},_handleAccept:function(){this._handleStatusUpdate(l.ACCEPTED);var z=window.open(this.props.app.uri);if(z)z.focus();},_handleReject:function(){this._handleStatusUpdate(l.REJECTED);},_handleCancel:function(){this._handleStatusUpdate(l.CANCELED);},_handleStatusUpdate:function(z){this.setState({status:z,buttonsDisabled:true});var aa=t.getURIBuilder().setInt('request_id',this.props.requestId).setInt('sender',this.props.sender.id).setInt('action',z).getURI();new i().setURI(aa).setHandler(function(ba){this.setState({status:z});}.bind(this)).setErrorHandler(function(ba){this.setState({buttonsDisabled:false});}.bind(this)).send();}});f.exports=y;},null);
__d("XQuickPromotionSimpleLoggingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/qp\/action\/log\/",{qp_id:{type:"Int",required:true},qp_action:{type:"Enum",enumType:1},qp_instance_log_data:{type:"StringToStringMap",defaultValue:{}},qp_event:{type:"String"}});},null);
__d('QPRenderer',['$','CSS','XQuickPromotionSimpleLoggingController','AsyncSignal'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=function(q,event,r){var s=j.getURIBuilder().setInt('qp_id',q).setString('qp_event',event).setStringToStringMap('qp_instance_log_data',r).getURI();new k(s,{}).send();},m=function(q,r,s){var t=j.getURIBuilder().setInt('qp_id',q).setEnum('qp_action',r).setStringToStringMap('qp_instance_log_data',s).getURI();new k(t,{}).send();},n=function(q,r,s,t,u,v){p(q,s,h(t),v,function(){if(u)i.hide(r);});},o=function(q,r,s){r.show();l(q,'view',{});r.subscribe('cancel',function(){l(q,'dialog_cancel',{});});for(var t=0;t<s.length;t++){var u=s[t],v=h(u.element_id);p(q,u.action,v,u.instance_log_data,function(){if(u.should_close)r.hide();});if(u.action=='primary')v.focus();}},p=function(q,r,s,t,u){s.addEventListener('click',function(){var v=j.getURIBuilder().setInt('qp_id',q).setEnum('qp_action',r).setStringToStringMap('qp_instance_log_data',t).getURI();new k(v,{}).send();u();});};g.setAction=n;g.setDialogActionsAndShow=o;g.logAction=m;g.logEvent=l;},null);
__d('isSoftNewlineEvent',['Keys'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){return j.which===h.RETURN&&(j.getModifierState('Shift')||j.getModifierState('Alt')||j.getModifierState('Control'));}f.exports=i;},null);
__d('getTextAfterNearestEntity',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=j;while(k>0&&i.getEntityAt(k-1)===null)k--;return i.getText().slice(k,j);}f.exports=h;},null);
__d('applyEmoticonToContentState',['EmoticonsList','applyEmoticonToContentBlock','getTextAfterNearestEntity'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=new RegExp(h.regexp.source,'g');function l(m,n){var o=n.getAnchorKey(),p=n.getAnchorOffset(),q=m.getBlockForKey(o),r=j(q,p),s,t;while(t!==null){t=k.exec(r);if(t!==null)s=t;}if(!s)return m;var u=s[1];if(!u&&p!==r.length)return m;var v=s[2],w=p-r.length,x=w+s.index+s[1].length,y=m.getBlockMap().set(o,i(q,v,x));p-=v.length-1;return m.merge({blockMap:y,selectionBefore:n,selectionAfter:n.merge({anchorOffset:p,focusOffset:p})});}f.exports=l;},null);
__d('handleBeforeInputForEmoticon',['DraftModifier','EditorState','applyEmoticonToContentState'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=new RegExp(/[\s'".,!?]/);function l(m,n){var o=m.getSelection();if(!o.isCollapsed()||!n||!k.test(n))return m;var p=m.getCurrentContent(),q=j(p,o);if(q===p)return m;var r=h.insertText(q,q.getSelectionAfter(),n);return i.push(m,r,'insert-characters');}f.exports=l;},null);
__d('handleSoftNewlineForEmoticon',['DraftModifier','EditorState','applyEmoticonToContentState'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(l){var m=l.getCurrentContent(),n=l.getSelection(),o=j(m,n);if(o===m)return l;var p=h.splitBlock(o,o.getSelectionAfter());return i.push(l,p,'split-block');}f.exports=k;},null);
__d("XGamesGripperNoteUpdaterController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/async\/games\/gripper_note_viewed\/",{});},null);
__d('SidebarAppTickerResizer',['Animation','Arbiter','AsyncRequest','ChatSidebarActions','ChatSidebarStore','CSS','cx','debounce','DOMQuery','Event','SidebarType','SimpleDrag','TickerController','$','queryThenMutateDOM','XGamesGripperNoteUpdaterController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w=1e-07,x=1,y=85,z=173,aa=300,ba=46,ca=90,da=82,ea=150;function fa(ga,ha,ia,ja,ka){'use strict';this.$SidebarAppTickerResizer1=u('pagelet_ticker');this.$SidebarAppTickerResizer2=u('pagelet_canvas_nav_content');this.$SidebarAppTickerResizer3=this.$SidebarAppTickerResizer1.parentNode;this.$SidebarAppTickerResizer4=ka;this.$SidebarAppTickerResizer2.style.height=ia;this.$SidebarAppTickerResizer5(ga,ha);if(ia===null)if(ja!==null){this.$SidebarAppTickerResizer6();this.$SidebarAppTickerResizer7(this.$SidebarAppTickerResizer8());}else i.subscribe('AppsDivebar/show-apps',this.$SidebarAppTickerResizer6.bind(this));if(!ka){this.$SidebarAppTickerResizer9();m.hide(ga);}i.subscribe('ChatSidebarDropdown/closeTicker',this.$SidebarAppTickerResizer9.bind(this));i.subscribe('ChatSidebarDropdown/openTicker',this.$SidebarAppTickerResizer10.bind(this));i.subscribe('sidebar/show',this.$SidebarAppTickerResizer11.bind(this));if(ja){var la=p.scry(document.body,'#pagelet_ticker')[0],ma=la&&la.parentNode,na,oa=function(){ja.hide();if(na)na.unsubscribe();},pa=function(){if(!m.shown(ma))return;var qa=c('XGamesGripperNoteUpdaterController').getURIBuilder().getURI();new j().setURI(qa).send();ja.show();if(na)na.unsubscribe();na=i.subscribe('sidebar/hide',oa);};if(ma&&m.shown(ma)){pa();}else na=i.subscribe('ticker/show',pa);}this.$SidebarAppTickerResizer12=o(this.$SidebarAppTickerResizer6.bind(this),200);q.listen(window,'resize',this.$SidebarAppTickerResizer12);i.inform('Ticker/resized');}fa.prototype.$SidebarAppTickerResizer11=function(){'use strict';t.show(this.$SidebarAppTickerResizer1);};fa.prototype.$SidebarAppTickerResizer6=function(ga){'use strict';v(function(){this.$SidebarAppTickerResizer13();}.bind(this),function(){var ha=Math.round(parseFloat(this.$SidebarAppTickerResizer1.style.height));if(ha>Math.round(this.$SidebarAppTickerResizer14())||this.$SidebarAppTickerResizer15&&this.$SidebarAppTickerResizer15>x){var ia=this.$SidebarAppTickerResizer15/this.$SidebarAppTickerResizer16*100,ja=this.$SidebarAppTickerResizer17(0,this.$SidebarAppTickerResizer14()-ia);if(!(ga&&ga.type==='resize'))this.$SidebarAppTickerResizer18(ja);k.show();}}.bind(this));};fa.prototype.$SidebarAppTickerResizer14=function(){'use strict';if(!this.$SidebarAppTickerResizer4)return 0;if(l.getVisibleType()!==r.SIDEBAR)return ca;return Math.min(ca,(this.$SidebarAppTickerResizer16-this.$SidebarAppTickerResizer19-da)*100/this.$SidebarAppTickerResizer16);};fa.prototype.$SidebarAppTickerResizer5=function(ga,ha){'use strict';var ia=new s(ga);ia.subscribe('start',this.$SidebarAppTickerResizer20.bind(this));ia.subscribe(['update','end'],this.$SidebarAppTickerResizer21.bind(this));var ja=new s(ha);ja.subscribe('start',this.$SidebarAppTickerResizer20.bind(this));ja.subscribe('update',this.$SidebarAppTickerResizer22.bind(this));ja.subscribe('end',this.$SidebarAppTickerResizer23.bind(this));};fa.prototype.$SidebarAppTickerResizer20=function(ga,event){'use strict';this.$SidebarAppTickerResizer24=event.clientY;this.$SidebarAppTickerResizer13();this.$SidebarAppTickerResizer25();};fa.prototype.$SidebarAppTickerResizer13=function(){'use strict';this.$SidebarAppTickerResizer19=this.$SidebarAppTickerResizer2.offsetTop;this.$SidebarAppTickerResizer26=this.$SidebarAppTickerResizer1.offsetHeight;this.$SidebarAppTickerResizer16=this.$SidebarAppTickerResizer3.offsetHeight;this.$SidebarAppTickerResizer15=this.$SidebarAppTickerResizer2.offsetHeight;this.$SidebarAppTickerResizer27=this.$SidebarAppTickerResizer15;};fa.prototype.$SidebarAppTickerResizer25=function(){'use strict';m.addClass(this.$SidebarAppTickerResizer3,"_4vfq");};fa.prototype.$SidebarAppTickerResizer28=function(){'use strict';m.removeClass(this.$SidebarAppTickerResizer3,"_4vfq");};fa.prototype.$SidebarAppTickerResizer21=function(ga,event){'use strict';var ha=this.$SidebarAppTickerResizer15/this.$SidebarAppTickerResizer16*100,ia=this.$SidebarAppTickerResizer17(event.clientY-this.$SidebarAppTickerResizer24,this.$SidebarAppTickerResizer14()-ha);if(ga=='end'){this.$SidebarAppTickerResizer28();this.$SidebarAppTickerResizer18(ia);}k.show();};fa.prototype.$SidebarAppTickerResizer22=function(ga,event){'use strict';var ha=-this.$SidebarAppTickerResizer15,ia=this.$SidebarAppTickerResizer8()-this.$SidebarAppTickerResizer15,ja=this.$SidebarAppTickerResizer29(event.clientY-this.$SidebarAppTickerResizer24,ha,ia);this.$SidebarAppTickerResizer17(-ja,this.$SidebarAppTickerResizer14());this.$SidebarAppTickerResizer27=this.$SidebarAppTickerResizer15+ja;this.$SidebarAppTickerResizer27=Math.max(x,this.$SidebarAppTickerResizer27);this.$SidebarAppTickerResizer2.style.height=this.$SidebarAppTickerResizer27+'px';};fa.prototype.$SidebarAppTickerResizer23=function(ga,event){'use strict';var ha=this.$SidebarAppTickerResizer27,ia=this.$SidebarAppTickerResizer30(this.$SidebarAppTickerResizer27),ja=this.$SidebarAppTickerResizer17(this.$SidebarAppTickerResizer15-ia,this.$SidebarAppTickerResizer14());if(this.$SidebarAppTickerResizer15!=ia){this.$SidebarAppTickerResizer7(ia);this.$SidebarAppTickerResizer18(ja);}new h(this.$SidebarAppTickerResizer2).from('height',ha).to('height',ia).duration(aa).go();};fa.prototype.$SidebarAppTickerResizer17=function(ga,ha){'use strict';var ia=this.$SidebarAppTickerResizer26+ga,ja=ia/this.$SidebarAppTickerResizer16*100;ja=Math.max(w,Math.min(ha,ja));this.$SidebarAppTickerResizer1.style.height=ja+'%';if(ja!=w){m.removeClass(this.$SidebarAppTickerResizer1,'hidden_elem');this.$SidebarAppTickerResizer11();}return ja;};fa.prototype.$SidebarAppTickerResizer30=function(ga){'use strict';var ha=this.$SidebarAppTickerResizer31(),ia=this.$SidebarAppTickerResizer8();return ga<ia-ba?ga<ha-ba?x:ha:ia;};fa.prototype.$SidebarAppTickerResizer31=function(){'use strict';return y;};fa.prototype.$SidebarAppTickerResizer8=function(){'use strict';return z;};fa.prototype.$SidebarAppTickerResizer32=function(ga){'use strict';var ha=this.$SidebarAppTickerResizer8();return ga<0?x:ga>ha?ha:ga;};fa.prototype.$SidebarAppTickerResizer29=function(ga,ha,ia){'use strict';return ga<ha?ha:ga>ia?ia:ga;};fa.prototype.$SidebarAppTickerResizer18=function(ga){'use strict';new j('/ajax/feed/ticker/resize').setData({height:''+ga}).setMethod('POST').send();i.inform('Ticker/resized');};fa.prototype.$SidebarAppTickerResizer7=function(ga){'use strict';new j('/ajax/feed/apps/resize').setData({height:''+ga}).setMethod('POST').send();};fa.prototype.$SidebarAppTickerResizer33=function(ga){'use strict';var ha=this.$SidebarAppTickerResizer26,ia=this.$SidebarAppTickerResizer16*ga/100;new h(this.$SidebarAppTickerResizer1).from('height',ha).to('height',ia).duration(ea).ondone(function(){this.$SidebarAppTickerResizer1.style.height=ga+'%';this.$SidebarAppTickerResizer18(ga===0?'0.0':ga);k.show();}.bind(this)).go();};fa.prototype.$SidebarAppTickerResizer9=function(){'use strict';this.$SidebarAppTickerResizer13();this.$SidebarAppTickerResizer33(0);};fa.prototype.$SidebarAppTickerResizer10=function(){'use strict';this.$SidebarAppTickerResizer1.style.height='40px';t.show(this.$SidebarAppTickerResizer1,function(){this.$SidebarAppTickerResizer13();var ga=(this.$SidebarAppTickerResizer16-this.$SidebarAppTickerResizer19-da-this.$SidebarAppTickerResizer15)*50/this.$SidebarAppTickerResizer16;this.$SidebarAppTickerResizer33(ga);}.bind(this));};f.exports=fa;},null);
__d('JewelQPLogging',['QPRenderer'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=false,j=null,k=false;function l(){if(k)return;if(i&&j){k=true;h.logEvent(j.promotion_id,'view',j.instance_log_data?j.instance_log_data:{});}}var m={onJewelOpened:function(){i=true;l();},updateQPLogData:function(n){j=n;l();}};f.exports=m;},null);
__d('RequestsJewel',['Animation','AccessibilityLogger','Arbiter','AsyncRequest','AsyncSignal','ChannelConstants','CSS','DOM','Event','LinkController','Parent','ScrollableArea','Vector','MarauderLogger','$','debounce','ge','shield','fbt','JewelQPLogging','requireWeak'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){if(c.__markCompiled)c.__markCompiled();var ca=null;ba('FriendBrowserCheckboxController',function(ha){return ca=ha;});var da=530,ea=30,fa=160;Object.assign(ga,{instance:null,getInstance:function(){return ga.instance;},replaceJewelTitle:function(ha,ia){o.setContent(v(ha),ia);},updateFromDOM:function(){if(ga.instance)ga.instance.fromDom();},setInitialHeight:function(){if(ga.instance)ga.instance.setHeight();},maybeLoadJewel:function(){if(ga.instance)ga.instance.maybeLoadJewel();}});function ga(ha,ia,ja){'use strict';var ka=ia;if(typeof ia!=='string'){ka=ia.inbox_folder;ja=ia.do_new_mark_read;}ga.instance=this;this.countNew=0;this.jewel=ha;this.jewelFlyoutCase=ha.getRoot();this.jewelFlyout=x('fbRequestsFlyout');this.newCountSpan=x('newRequestCount');this.folder=ka;this.doNewMarkRead=ja;this.openTimestamp=0;this.$RequestsJewel1={};this.$RequestsJewel2=0;this.shouldClearPredictionAssocOnClick=false;this.$RequestsJewel3=-1;var la=x('requestsMarkReadButton');if(la)p.listen(la,'click',y(this.$RequestsJewel4,this));this.jewel.subscribe('marked-seen',y(this.$RequestsJewel5,this));this.jewel.subscribe('closed',y(this.$RequestsJewel6,this));this.jewel.subscribe('updated',this.$RequestsJewel7.bind(this));this.jewel.subscribe('opened',this.$RequestsJewel8.bind(this));q.registerHandler(this.$RequestsJewel9.bind(this));j.subscribe(m.getArbiterType('jewel_requests_add'),this.$RequestsJewel10.bind(this));j.subscribe(m.getArbiterType('jewel_friending_notifs'),this.$RequestsJewel11.bind(this));j.subscribe(m.getArbiterType('jewel_requests_remove_old'),this.$RequestsJewel12.bind(this));j.subscribe(m.getArbiterType('friend_requests_seen'),this.$RequestsJewel13.bind(this));p.listen(this.jewelFlyout,'submit',function(na){var oa=r.byClass(na.getTarget(),'objectListItem');if(oa){n.removeClass(oa,'jewelItemNew');n.addClass(oa,'jewelItemResponded');}}.bind(this));var ma=o.find(x('fbRequestsJewel'),'a[rel="toggle"]');p.listen(ma,'focus',function(na){i.logFocusIn();}.bind(this));this.setupScroll();p.listen(window,'resize',w(function(){this.$RequestsJewel14();}.bind(this)));j.subscribe('pymk-x-out',this.$RequestsJewel15.bind(this));}ga.prototype.setupScroll=function(){'use strict';var ha=o.scry(this.jewelFlyout,'.uiScrollableAreaWrap')[0];if(ha){this.$RequestsJewel16=ha;this.$RequestsJewel17=0;this.$RequestsJewel18=p.listen(ha,'scroll',this.$RequestsJewel19.bind(this),p.Priority.$RequestsJewel20);this.$RequestsJewel15();}};ga.prototype.fromDom=function(){'use strict';o.scry(this.jewelFlyout,'.jewelItemList li.objectListItem').forEach(function(ha){var ia=ha.getAttribute('id');if(ia){var ja=x(ia+'_status'),ka=this.$RequestsJewel21(ia);if(ka.requester)this.$RequestsJewel1[ka.requester]=ia;++this.$RequestsJewel2;}}.bind(this));this.$RequestsJewel22();};ga.prototype.$RequestsJewel23=function(ha){'use strict';var ia=ha.match(/^(\d+)_(\d+)/);return ia?{requester:ia[1],type:ia[2]}:undefined;};ga.prototype.$RequestsJewel21=function(ha){'use strict';var ia=ha?this.$RequestsJewel23(ha):undefined,ja;if(ia&&ia.requester){ja=parseInt(ia.requester,10);if(isNaN(ja))ja=undefined;}var ka;if(ia&&ia.type){ka=parseInt(ia.type,10);if(isNaN(ka))ka=undefined;}return {requester:ja,type:ka};};ga.prototype.$RequestsJewel24=function(){'use strict';if(this.countNew>0)this.countNew-=1;};ga.prototype.$RequestsJewel9=function(ha,event){'use strict';var ia=r.byClass(ha,'jewelItemNew');if(ia&&r.byClass(ia,'fbRequestList')&&r.byClass(ia,'beeperEnabled')){var ja=this.$RequestsJewel23(ia.id);ja&&this.$RequestsJewel5(ja.requester,ja.type);this.$RequestsJewel24();j.inform('jewel/count-updated',{jewel:'requests',count:this.countNew});n.removeClass(ia,'jewelItemNew');}return true;};ga.prototype.$RequestsJewel25=function(){'use strict';return o.scry(this.jewelFlyout,'.uiScrollableArea')[0];};ga.prototype.$RequestsJewel19=function(){'use strict';var ha=o.scry(this.$RequestsJewel16,'.uiMorePager');if(!ha)return;var ia=ha.pop();if(ia){var ja=t.getElementPosition(ia,'viewport').y;if(ja>0)n.addClass(r.byClass(this.$RequestsJewel16,'uiScrollableArea'),'contentAfter');var ka=o.find(ia,'a');if(!ka)return;var la=t.getElementPosition(ka,'viewport').y;if(la==this.$RequestsJewel17)return;var ma=t.getElementPosition(this.$RequestsJewel16,'viewport').y+t.getElementDimensions(this.$RequestsJewel16).y;if(la-300<ma&&la>0){this.$RequestsJewel17=la;var na=ka.getAttribute('ajaxify');if(na){new k(na).setRelativeTo(ka).setStatusElement(r.byClass(ka,'stat_elem')).send();}else ca&&ca.getInstance('jewel').showMore();}}this.$RequestsJewel15();};ga.prototype.$RequestsJewel11=function(ha,ia){'use strict';if(!ia||this.jewel.isOpen())return;if(ia.obj.notif_type!=='friend_confirmed')return;if(x('fbRequestsJewelLoading')){new k().setURI('/ajax/requests/loader/').send();return;}var ja={};ja.reloadcontent=true;new k().setURI('/ajax/requests/loader/').setData(ja).send();};ga.prototype.$RequestsJewel10=function(ha,ia){'use strict';if(!ia)return;var ja=ia.obj.from,ka=ia.obj.suggester,la=this.$RequestsJewel21(this.$RequestsJewel1[ja]).type,ma=la===19&&!ka;if(!ma&&(la||this.jewel.isOpen()))return;if(x('fbRequestsJewelLoading')){new k().setURI('/ajax/requests/loader/').send();}else{var na={};na.reloadcontent=true;new k().setURI('/ajax/requests/loader/').setData(na).send();}};ga.prototype.$RequestsJewel12=function(ha,ia){'use strict';if(!ia||this.jewel.isOpen()||x('fbRequestsJewelLoading')!==null)return;var ja=this.$RequestsJewel1[ia.obj.from],ka=ja&&x(ja);if(ka){if(n.hasClass(ka,'jewelItemNew')){this.$RequestsJewel24();j.inform('jewel/count-updated',{jewel:'requests',count:this.countNew});}if(!n.hasClass(ka,'jewelItemResponded')){o.remove(ka);delete this.$RequestsJewel1[ia.obj.from];--this.$RequestsJewel2;this.$RequestsJewel22();}}};ga.prototype.$RequestsJewel4=function(){'use strict';this.jewel.markSeen();this.$RequestsJewel26();};ga.prototype.$RequestsJewel5=function(ha,ia){'use strict';var ja=o.scry(this.jewelFlyout,'li');new l('/ajax/gigaboxx/endpoint/UpdateLastSeenTime.php',{folder:this.folder,first_item:ja[0].id}).send();var ka=typeof ha!='undefined'&&typeof ia!='undefined'?{requester:ha,type:ia}:{};this.doNewMarkRead&&new l('/ajax/requests/mark_read/',ka).send();};ga.prototype.$RequestsJewel13=function(ha,ia){'use strict';j.inform('jewel/count-updated',{jewel:'requests',count:0});};ga.prototype.$RequestsJewel26=function(ha,ia){'use strict';o.scry(this.jewel.root,'li.jewelItemNew').forEach(function(ja){n.removeClass(ja,'jewelItemNew');});};ga.prototype.$RequestsJewel7=function(ha,ia){'use strict';this.countNew=ia.count;n.conditionClass(this.jewelFlyout,'beeperUnread',this.countNew>0);n.conditionClass(this.jewelFlyoutCase,'showRequests',this.countNew>0);if(this.newCountSpan){var ja=this.countNew==1?z._("{num} NEW REQUEST",[z.param('num',this.countNew)]):z._({"*":"{num} NEW REQUESTS"},[z.param('num',this.countNew,[0])]);o.setContent(this.newCountSpan,ja);}};ga.prototype.$RequestsJewel22=function(){'use strict';o.scry(this.jewelFlyout,'li.empty').forEach(function(ha){n.conditionShow(ha,this.$RequestsJewel2<=0);}.bind(this));};ga.prototype.$RequestsJewel8=function(){'use strict';j.inform('requestsJewel/opened');var ha=x('fbRequestsJewelLoading'),ia=this.$RequestsJewel25();if(!ha&&!ia){this.unhandledRequest=true;}else if(ha){var ja=Date.now();if(this.openTimestamp+5000<ja){this.openTimestamp=ja;new k().setURI('/ajax/requests/loader/').setData({log_impressions:true}).send();}}else{var ka=Object.keys(this.$RequestsJewel1);if(ka.length>0)new k().setURI('/friends/requests/log_impressions').setData({ids:ka.join(','),ref:'jewel'}).send();}ia&&s.poke(ia);aa.onJewelOpened();};ga.prototype.$RequestsJewel6=function(){'use strict';j.inform('requestsJewel/closed');this.$RequestsJewel26();};ga.prototype.$RequestsJewel27=function(){'use strict';return Math.min(Math.max(t.getViewportDimensions().y-fa,ea),da);};ga.prototype.$RequestsJewel14=function(){'use strict';if(this.$RequestsJewel25())new h(this.$RequestsJewel25()).to('height',this.$RequestsJewel27()+'px').duration(100).go();};ga.prototype.$RequestsJewel15=function(){'use strict';var ha=o.scry(this.jewelFlyout,'li.friendBrowserListUnit'),ia=t.getElementPosition(this.$RequestsJewel16,'viewport').y+t.getElementDimensions(this.$RequestsJewel16).y,ja=ha.length-1;while(ja>this.$RequestsJewel3){var ka=t.getElementPosition(ha[ja],'viewport').y;if(ka>0&&ka+t.getElementDimensions(ha[ja]).y<=ia)break;ja-=1;}var la=ja;while(ja>this.$RequestsJewel3){var ma=o.find(ha[ja],'input.friendBrowserID'),na=parseInt(ma.value,10),oa={pymk_id:na,pymk_location:'pymk_jewel'};u.log('regular_pymk_imp',undefined,oa);ja-=1;}this.$RequestsJewel3=Math.max(this.$RequestsJewel3,la);};ga.prototype.setHeight=function(){'use strict';this.$RequestsJewel25().style.height=this.$RequestsJewel27()+'px';};ga.prototype.maybeLoadJewel=function(){'use strict';if(this.unhandledRequest){this.unhandledRequest=false;this.$RequestsJewel8();}};f.exports=ga;},null);
__d('ChatInput.react',['Bootloader','ChatConfig','ContentState','CompositeDraftDecorator','DraftEditor.react','DraftModifier','EditorState','EmoticonSpan.react','React','ReactDOM','emptyFunction','getDefaultKeyBinding','getEntityMatcher','getVisibleValueForContentState','handleBeforeInputForEmoticon','handleSoftNewlineForEmoticon','insertEmoticonIntoEditorState','isSoftNewlineEvent','setImmediate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){'use strict';if(c.__markCompiled)c.__markCompiled();var aa=p.PropTypes,ba=r.thatReturnsNull,ca=p.createClass({displayName:'ChatInput',propTypes:{blockStyleFn:aa.func,initializeThingsWithInputFn:aa.func,inputKeyDown:aa.func,keyBindingFn:aa.func,onBlur:aa.func,onEscape:aa.func,onFocus:aa.func,onTab:aa.func,resizeFn:aa.func},getDefaultProps:function(){return {blockStyleFn:ba,keyBindingFn:s};},componentDidMount:function(){this._oldHeight=q.findDOMNode(this).getBoundingClientRect().height;this.props.resizeFn(this._oldHeight);this.props.initializeThingsWithInputFn(q.findDOMNode(this.refs.input),this.getValue);this.setState({triggeredWord:this.props.triggeredWord});},componentWillReceiveProps:function(da){if(this.state.triggeredWord!==da.triggeredWord)this.setState({triggeredWord:da.triggeredWord},this._updateDecorator);},componentDidUpdate:function(){z(function(){var da=q.findDOMNode(this).getBoundingClientRect().height;if(this._oldHeight!==da)this.props.resizeFn(da);this._oldHeight=da;}.bind(this));},getInitialState:function(){return {editorState:this._createEmptyEditorState()};},_createEmptyEditorState:function(){return n.createWithContent(j.createFromText(''),this._getDecorator());},resetState:function(){if(this.state.typeaheadReporter){this.state.typeaheadReporter.sessionEnd();this.state.typeaheadReporter.sessionStart();}this.setState({editorState:n.moveFocusToEnd(this._createEmptyEditorState()),triggeredWord:null});},_updateDecorator:function(){var da=this._getDecorator();z(function(){var ea=n.set(this.state.editorState,{decorator:da});this.setState({editorState:ea});}.bind(this));},_getDecorator:function(){return new k([{strategy:t(function(da){return da.getType()==='EMOTICON';}),component:o}]);},onChange:function(da){this.setState({editorState:da});},onReturn:function(event){if(y(event)){var da=w(this.state.editorState);if(da===this.state.editorState)return false;this.setState({editorState:da});return true;}this.props.inputKeyDown(event,this.getValue());return true;},getValueFromEditorState:function(da){var ea=da.getCurrentContent();return u(ea);},getValue:function(){return this.getValueFromEditorState(this.state.editorState);},focus:function(){this.refs.input.focus();},_handleBeforeInput:function(da){var ea=v(this.state.editorState,da);if(ea===this.state.editorState)return false;this.setState({editorState:ea});return true;},_handleFiles:function(da){var ea=/^image\//,fa=da.filter(function(ga){return ea.test(ga.type);});if(fa.length){this.props.uploadPhotoFn(fa[0]);return true;}return false;},_handlePastedFiles:function(da){return this._handleFiles(da);},_handleDroppedFiles:function(da,ea){return this._handleFiles(ea);},insertEmoticon:function(da){var ea=x(da,this.state.editorState);if(ea!==this.state.editorState)this.setState({editorState:ea});},appendText:function(da){var ea=this.state.editorState,fa=ea.getSelection(),ga=ea.getCurrentContent();ga=m.insertText(ga,fa,da);ea=n.push(ea,ga,'insert-characters');this.setState({editorState:ea});},render:function(){return (p.createElement(l,babelHelpers['extends']({ref:'input'},this.props,{editorState:this.state.editorState,onChange:this.onChange,handleBeforeInput:this._handleBeforeInput,handlePastedFiles:this._handlePastedFiles,handleDroppedFiles:this._handleDroppedFiles,handleReturn:this.onReturn,spellCheck:true,stripPastedStyles:true})));}});f.exports=ca;},null);
__d('ChatTabTypeaheadDataSource',['MercuryConfig','MercuryTypeaheadConstants','MercuryTypeaheadDataSource'],function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();k=babelHelpers.inherits(m,j);l=k&&k.prototype;function m(n){'use strict';n=n||{};n.maxResults=i.COMPOSER_CHATTAB_MAX;l.constructor.call(this,n);this.$ChatTabTypeaheadDataSource1=true;}m.prototype.buildData=function(n){'use strict';var o=[],p=[],q=[],r=[],s=[],t=[];n.forEach(function(v){var w=l.getEntry.call(this,v);switch(w.render_type){case i.FRIEND_TYPE:o.push(v);break;case i.THREAD_TYPE:if(this.$ChatTabTypeaheadDataSource1)p.push(v);break;case i.NON_FRIEND_TYPE:q.push(v);break;case i.FB4C_TYPE:r.push(v);break;case i.PAGE_TYPE:if(this.$ChatTabTypeaheadDataSource1)if(h.LinkedAgents&&h.LinkedAgents.indexOf(v.toString())>-1){t.push(v);}else s.push(v);break;default:this.logQuery({event:'chat_tab_render_type_error'});break;}},this);var u=t.concat(o,r,p,s,q);return l.buildData.call(this,u);};m.prototype.query=function(n,o,p,q){'use strict';this.logQuery({event:'query_chat_tab',query:n});return l.query.call(this,n,o,p,q);};m.prototype.respond=function(n,o,p){'use strict';var q=l.respond.call(this,n,o,p);this.logResponse({event:'query_response_chat_tab',response_query:n,response_uids:o});return q;};m.prototype.setShowThreads=function(n){'use strict';this.$ChatTabTypeaheadDataSource1=n;};f.exports=m;},null);
__d('SyncRequestNotificationBeeperItemContents.react',['Animation','Image.react','ImageBlock.react','NotificationBeeperItemCloseButton.react','NotificationUserActions','React','ReactDOM','SyncRequest.react','SyncRequestStatusEnum','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=m.createClass({displayName:'SyncRequestNotificationBeeperItemContents',_markAsRead:function(){l.markNotificationsAsRead([this.props.beep.notificationID]);this.props.onHide();},_onClose:function(){this._markAsRead();this.props.onHide();},_doFlash:function(){new h(n.findDOMNode(this.refs.inner)).from('opacity','0').to('opacity','1').duration(200).go();},componentDidMount:function(){if(this.props.beep.rendererData.status!=p.PENDING)this.props.onReadyToHide(this.props.beep.notificationID);},componentDidUpdate:function(s){if(this.props.beep.rendererData.status!=p.PENDING&&s.beep.rendererData.status==p.PENDING)this.props.onReadyToHide(this.props.beep.notificationID);},onRequestStatusUpdate:function(s,t){if(s!=p.PENDING&&t==p.PENDING)this.props.onReadyToHide(this.props.beep.notificationID);},render:function(){var s=this.props.beep,t=s.rendererData;return (m.createElement('div',{ref:'inner'},m.createElement(k,{onClick:this._onClose}),m.createElement(j,{className:"_3soj"},m.createElement(i,{src:s.actors[0].profile_picture.uri,className:"_3sok"}),m.createElement('div',{className:"_3sol"},m.createElement(o,{app:t.app,creationTime:t.creation_time,requestId:t.id.toString(),receiver:t.receiver,sender:t.sender,status:t.status,timeout:t.timeout,timeRemaining:t.time_remaining,viewerId:t.receiver.id,onStatusUpdate:this.onRequestStatusUpdate})))));}});f.exports=r;},null);
__d('LiveMessageReceiver',['Arbiter','ChannelConstants','emptyFunction','shield'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();function l(m){this.eventName=m;this.subs=null;this.handler=j;this.shutdownHandler=null;this.registered=false;this.appId=1;}Object.assign(l,{getAppMessageType:function(m,n){return 'live_message/'+m+':'+n;},route:function(m){var n=function(o){var p=l.getAppMessageType(m.app_id,m.event_name);h.inform(p,o,h.BEHAVIOR_PERSISTENT);};n(m.response);}});Object.assign(l.prototype,{setAppId:function(m){this.appId=m;return this;},setHandler:function(m){this.handler=m;this._dirty();return this;},setRestartHandler:j,setShutdownHandler:function(m){this.shutdownHandler=k(m);this._dirty();return this;},_dirty:function(){if(this.registered){this.unregister();this.register();}},register:function(){var m=function(o,p){return this.handler(p);}.bind(this),n=l.getAppMessageType(this.appId,this.eventName);this.subs={};this.subs.main=h.subscribe(n,m);if(this.shutdownHandler)this.subs.shut=h.subscribe(i.ON_SHUTDOWN,this.shutdownHandler);this.registered=true;return this;},unregister:function(){if(!this.subs)return this;for(var m in this.subs)if(this.subs[m])this.subs[m].unsubscribe();this.subs=null;this.registered=false;return this;}});f.exports=l;},null);
__d('initLiveMessageReceiver',['Arbiter','ChannelConstants','LiveMessageReceiver'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();h.subscribe(i.getArbiterType('app_msg'),function(k,l){j.route(l.obj);});},null);