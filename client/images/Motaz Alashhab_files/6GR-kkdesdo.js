/*!CK:3821229690!*//*1456261229,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["yAs2T"]); }

__d("ComposerPerfEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CLIENT_BOOTSTRAPPED:"client_bootstrapped",CLIENT_BOOTLOADED:"client_bootloaded",CLIENT_POST_SUCCEEDED:"client_post_succeeded",CLIENT_POST_FAILED:"client_post_failed"};},null);
__d("ModalPhotoEditorTabName",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CROP:"crop",FILTERS:"filters",STICKERS:"stickers",TAG:"tag",TEXT:"text"};},null);
__d("PagesComposerCarouselPostChildAttachmentAttributes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PICTURE:"picture",NAME:"name",DESCRIPTION:"description",LINK:"link",SELECTED:"selected",SCRAPED:"scraped",IMAGE_FBID:"image_fbid",IMAGE_SOURCE:"image_source",ORIGINAL_DIMENSION_HEIGHT:"original_dimensions_height",ORIGINAL_DIMENSION_WIDTH:"original_dimensions_width",CROPPING_START_POINT_X:"cropping_startPoint_x",CROPPING_START_POINT_Y:"cropping_startPoint_y",CROPPING_SOURCE_DIMENSION_HEIGHT:"cropping_source_dimension_height",CROPPING_SOURCE_DIMENSION_WIDTH:"cropping_source_dimension_width"};},null);
__d("PagesComposerCarouselPostLogAttributes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={USE_CAROUSEL_COMPOSER:"use_carousel_composer",CAROUSEL_INCOMPATIBLE:"carousel_incompatible",CAROUSEL_INCOMPATIBLE_TYPE:"carousel_incompatible_type",SCRAPED_IMAGE_NUM_OLD:"scraped_image_num_old",SCRAPED_URL:"scraped_url",SCRAPED_TIME:"scraped_time",COMPOSER_LOCATION:"composer_location",HIDE_END_CARD:"hide_end_card",SOURCE_ATTACHMENT:"source_attachment",PREFILL_SCRAPE_URL:"prefill_scrape_url"};},null);
__d("PagesComposerCarouselPostNuxType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MEDIA_ATTACHEMENT_URL_INPUT_AREA_NUX:"media_attachment_url_input_area_nux"};},null);
__d("PagesComposerExtraAttachmentIcons",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FINCH_COUPONS_ICON:"FINCH_COUPONS_ICON",Q_AND_A_ICON:"Q_AND_A_ICON",CAUSE_ICON:"CAUSE_ICON",COUPONS_ICON:"COUPONS_ICON",FINCH_EVENTS_ICON:"FINCH_EVENTS_ICON",EVENTS_ICON:"EVENTS_ICON"};},null);
__d("PhotoEditorLoggingConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMPOSER_IMAGE_STICKER:"composer_sticker",COMPOSER_IMAGE_TEXT_OVERLAY:"composer_text_overlay",COMPOSER_IMAGE_HAS_CROP:"composer_has_crop",COMPOSER_IMAGE_HAS_FILTER:"composer_has_filter"};},null);
__d("PhotoEditorTargetType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMPOSER:"composer",COMMENT:"comment",PAGE_PRODUCT_COMPOSER:"page_product_composer"};},null);
__d('AdsCommonTargetingBulkApiSpecStore',['AdsAPITargetFields','AdsCommonTargetingActionTypes','ImmutableObject','getObjectValues','mixInEventEmitter','whitelistObjectKeys'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=k(h),o='canonical-id';function p(q){this.$AdsCommonTargetingBulkApiSpecStore1=q;this.$AdsCommonTargetingBulkApiSpecStore2=this.$AdsCommonTargetingBulkApiSpecStore1.register(this.$AdsCommonTargetingBulkApiSpecStore3.bind(this));this.$AdsCommonTargetingBulkApiSpecStore4={};}p.prototype.$AdsCommonTargetingBulkApiSpecStore3=function(q){var r=q.action,s=false;switch(r.actionType){case i.TARGETING_INIT:this.clearState(r.targetingID||o);break;case i.BULK_API_SPEC_SET:this.$AdsCommonTargetingBulkApiSpecStore5(r.targetingID||o,m(r,n));s=true;break;}if(s)this.emit('change',{payloadsource:q.payloadsource,targetingID:r.targetingID||o});};p.prototype.clearAllState=function(){this.$AdsCommonTargetingBulkApiSpecStore4={};};p.prototype.clearState=function(q){this.$AdsCommonTargetingBulkApiSpecStore4[q]={};};p.prototype.getState=function(q){return new j(this.$AdsCommonTargetingBulkApiSpecStore4[q]||{});};p.prototype.getValue=function(q,r){return this.$AdsCommonTargetingBulkApiSpecStore6(q,r||o);};p.prototype.$AdsCommonTargetingBulkApiSpecStore6=function(q,r){return (this.$AdsCommonTargetingBulkApiSpecStore4[r]||{})[q];};p.prototype.$AdsCommonTargetingBulkApiSpecStore5=function(q,r){this.$AdsCommonTargetingBulkApiSpecStore4[q]=Object.assign(this.$AdsCommonTargetingBulkApiSpecStore4[q],r);};l(p,{change:true});f.exports=p;},null);
__d('AdsCommonTargetingBulkApiSpecStoreInstance',['AdsDispatcher','AdsCommonTargetingBulkApiSpecStore'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=new i(h);},null);
__d('AdsCommonTargetingLoggingConstant',['keyMirrorRecursive'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=h({COMPONENT_DID_MOUNT:null,COMPONENT_BOOT_LOADED:null,SESSION_DURATION:null},'AdsCommonTargeting');},null);
__d('AdsTargetingConnectionsLoggingEvents',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={CHANGE_TARGETING_TYPE:'connections_change_targeting_type',CLEAR_TARGETING:'connections_clear_targeting',CLOSED_VIDEO_NUX:'connections_video_nux_closed',CLOSED_CONNECTIONS_UI_NUX:'connections_ui_nux_closed',PE_TARGETING_DIALOG_CANCELLED:'pe_targeting_dialog_cancelled',PE_TARGETING_DIALOG_CONFIRMED:'pe_targeting_dialog_confirmed',PE_TARGETING_DIALOG_OPENED:'pe_targeting_dialog_opened',SELECT_MENU:'connections_select_menu',UPDATE_ENGAGEMENT_SPECS:'connections_update_engagement_specs',UPDATE_EXCLUDED_CONNECTIONS:'connections_update_excluded_connections',UPDATE_EXCLUDED_ENGAGEMENT_SPECS:'connections_update_excluded_engagement_specs',UPDATE_FRIENDS_OF_CONNECTIONS:'connections_update_friends_of_connections',UPDATE_INCLUDED_CONNECTIONS:'connections_update_included_connections',VIDEO_INFOS_LOAD_TIME:'video_infos_load_time',VIDEOS_LOAD_TIME:'videos_load_time',PAGES_LOAD_TIME:'pages_load_time',VIDEO_LOADING_INFO:'video_loading_info',VIDEOS_FETCHING_ERROR:'video_fetching_error'};f.exports=h;},null);
__d('AdsTargetingTExActionTypes',['ImmutableObject','keyMirror'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=new h(i({SHOW_ADDITIONAL_TARGETING:null,HIDE_ADDITIONAL_TARGETING:null}));f.exports=j;},null);
__d('AdsTargetingTExLoggingEvents',['ImmutableObject','keyMirror'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=new h(i({TEX_CLICK_ADDITIONAL_TARGETING_LINK:null}));f.exports=j;},null);
__d('AdsCommonTargetingLoggerStore',['AdInterfacesUiLogger','AdsCommonTargetingLoggingConstant','AdsCommonTargetingViewActionType','AdsDispatcher','AdsTargetingConnectionsLoggingEvents','AdsTargetingTExActionTypes','AdsTargetingTExLoggingEvents','FluxStore','performanceNow'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';var q,r;if(c.__markCompiled)c.__markCompiled();q=babelHelpers.inherits(s,o);r=q&&q.prototype;function s(){r.constructor.call(this,k);this.$AdsCommonTargetingLoggerStoreClass1=0;}s.prototype.__onDispatch=function(t){var u=t.action,v=u.methodName,w=u.type;switch(w){case l.PE_TARGETING_DIALOG_OPENED:this.$AdsCommonTargetingLoggerStoreClass1=p();break;case l.PE_TARGETING_DIALOG_CANCELLED:case l.PE_TARGETING_DIALOG_CONFIRMED:h.log(i.SESSION_DURATION,p()-this.$AdsCommonTargetingLoggerStoreClass1);break;case m.SHOW_ADDITIONAL_TARGETING:case m.HIDE_ADDITIONAL_TARGETING:h.log(n.TEX_CLICK_ADDITIONAL_TARGETING_LINK);break;default:break;}switch(v){case j.changeAndroidDeviceGroup:case j.changeInterestedIn:case j.changeIOSDevices:case j.changeRelationshipStatuses:case j.changeEducationStatuses:case j.changeGenders:case j.changeAgeMin:case j.changeAppInstallState:case j.changeUserAdclusters:case j.changeConjunctiveUserAdclusters:case j.changeAgeMax:case j.changeAgeMaxAndAgeMin:case j.changeMinAndroidVersion:case j.changeMinIOSVersion:case j.changeMinWindowsVersion:case j.changeMobileOperatingSystem:case j.changeWifiOnly:case j.changeGeoLocations:case j.changeLanguages:case j.changeTimezones:case j.changeConnections:case j.changeEngagements:case j.changeEducationStatus:case j.changeEducationMajors:case j.changeEducationSchools:case j.changeMaxGradYear:case j.changeMinGradYear:case j.changeTargetAllGraduationYears:case j.changeWorkEmployers:case j.changeKeywords:case j.changeCustomAudiences:case j.removeAudience:case j.excludeAudience:case j.includeAudience:case j.changeInterests:case j.changeWorkPositions:case j.changeFamilyStatuses:case j.changeIndustries:case j.changeLifeEvents:case j.changePolitics:case j.changeIncome:case j.changeNetWorth:case j.changeHomeType:case j.changeHomeOwnership:case j.changeHomeValue:case j.changeEthnicAffinity:case j.changeGeneration:case j.changeHouseholdComposition:case j.changeMoms:case j.changeOfficeType:case j.changeBehaviors:case j.changeFlexibleSpec:case j.changeCustomLocation:case j.changeCustomLocationCenter:case j.changeLocalGeoRadius:case j.fetchSuggestedRadius:h.log(v);break;default:break;}};f.exports=new s();},null);
__d('AdsCommonTargetingLoggingUtil',['adsGKCheck','AdInterfacesUiLogger'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j='ads_common_targeting_logging_gk',k={log:function(l,m){var n=false;if(n||h(j))i.log(l,m);}};f.exports=k;},null);
__d('AdsSpinner.react',['React','XUISpinner.react'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.PropTypes,k=h.createClass({displayName:'AdsSpinner',contextTypes:{spinnerGroup:j.shape({registerLoadStart:j.func.isRequired,registerLoadEnd:j.func.isRequired})},componentWillMount:function(){if(this.context.spinnerGroup)this.context.spinnerGroup.registerLoadStart();},componentWillUnmount:function(){if(this.context.spinnerGroup)this.context.spinnerGroup.registerLoadEnd();},render:function(){return h.createElement(i,this.props);}});f.exports=k;},null);
__d('AdsCommonTargetingSectionMixin',['AdsCommonTargetingBulkApiSpecStoreInstance','AdsCommonTargetingLoggingConstant','AdsCommonTargetingLoggingUtil','AdsCommonTargetingStore','AdsSpinner.react','React','SubscriptionsHandler','performanceNow'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p={_sectionEditor:null,componentDidMount:function(){this._subscriptions=new n();this._subscriptions.addSubscriptions(k.subscribe('change',function(){var q=k.getChangedTargetingID();if(q===this.props.targetingID)this.forceUpdate();}.bind(this)),h.addListener('change',function(q){if(q.targetingID===this.props.targetingID)this.forceUpdate();}.bind(this)));this.__componentDidMountTime=o();j.log(i.COMPONENT_DID_MOUNT,{componentName:this.constructor.displayName});},componentWillUnmount:function(){this._subscriptions.release();this.__componentDidMountTime=null;},updateSectionEditor:function(q){this._setSectionEditor(q);if(!this.isMounted())return;j.log(i.COMPONENT_BOOT_LOADED,{componentName:this.constructor.displayName,bootloadComponentName:this._sectionEditor&&this._setSectionEditor.displayName,bootloadDuration:o()-this.__componentDidMountTime});this.forceUpdate();},_setSectionEditor:function(q){this._sectionEditor=q;},getSectionEditor:function(){return this._sectionEditor;},getConfigValue:function(q,r,s){if(!q||q[r]===undefined)return s;return q[r];},getDefaultWidth:function(){return this.props.extraData.defaultWidth;},getDefaultTooltip:function(){return (this.props.config?this.getConfigValue(this.props.config.customProperties,'tooltip'):undefined);},renderSpinner:function(){return m.createElement(l,{size:'small'});},render:function(){if(!this._sectionEditor)return this.renderSpinner();return this.renderSectionEditor();}};f.exports=p;},null);
__d('AdsCommonTargetingAdvancedDemographicsDropdownEditor',['AdsCommonTargetingActions','AdsCommonTargetingSectionMixin','AdsCommonTargetingStore','Bootloader','React','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=l.PropTypes,o=l.createClass({displayName:'AdsCommonTargetingAdvancedDemographicsDropdownEditor',mixins:[i],propTypes:{accountID:n.string.isRequired,targetingID:n.string.isRequired,config:n.object,rowRenderer:n.func,extraData:n.object},getDefaultProps:function(){return {extraData:{}};},componentWillMount:function(){k.loadModules(["AdsTargetingAdvancedDemographicsDropdownEditor.react"],this.updateSectionEditor);},renderSectionEditor:function(){var p=this.getSectionEditor();!this.props.extraData.dao?m(0):undefined;var q=this.getConfigValue(this.props.config.customProperties,'showNewAdvancedDemoOptions',true),r=this.getConfigValue(this.props.config.customProperties,'showFlexibleTargetingDemoOptions',false),s=this.props.targetingID,t=function(u){return function(v){u(v,s);};};return (l.createElement(p,{accountID:this.props.accountID,actions:{changeInterestedIn:t(h.changeInterestedIn),changeRelationshipStatuses:t(h.changeRelationshipStatuses),changeEducationStatuses:t(h.changeEducationStatuses),changeEducationSchools:t(h.changeEducationSchools),changeEducationMajors:t(h.changeEducationMajors),changeMaxGradYear:t(h.changeMaxGradYear),changeMinGradYear:t(h.changeMinGradYear),changeTargetAllGraduationYears:t(h.changeTargetAllGraduationYears),changeWorkEmployers:t(h.changeWorkEmployers),changeWorkPositions:t(h.changeWorkPositions),changeFamilyStatuses:t(h.changeFamilyStatuses),changeIndustries:t(h.changeIndustries),changeLifeEvents:t(h.changeLifeEvents),changePolitics:t(h.changePolitics),changeIncome:t(h.changeIncome),changeNetWorth:t(h.changeNetWorth),changeHomeType:t(h.changeHomeType),changeHomeOwnership:t(h.changeHomeOwnership),changeHomeValue:t(h.changeHomeValue),changeGeneration:t(h.changeGeneration),changeHouseholdComposition:t(h.changeHouseholdComposition),changeMoms:t(h.changeMoms),changeOfficeType:t(h.changeOfficeType),changeEthnicAffinity:t(h.changeEthnicAffinity)},dao:this.props.extraData.dao,oneColumn:this.props.extraData.oneColumn,rowRenderer:this.props.rowRenderer,showFlexibleTargetingDemoOptions:r,showNewAdvancedDemoOptions:q,size:this.props.size,targetingData:{geoLocations:j.getValue('geoLocations',s),interestedIn:j.getValue('interestedIn',s),relationshipStatuses:j.getValue('relationshipStatuses',s),educationStatuses:j.getValue('educationStatuses',s),educationSchools:j.getValue('educationSchools',s),educationMajors:j.getValue('educationMajors',s),targetAllGraduationYears:j.getValue('targetAllGraduationYears',s),maxGradYear:j.getValue('maxGradYear',s),minGradYear:j.getValue('minGradYear',s),workEmployers:j.getValue('workEmployers',s),workPositions:j.getValue('workPositions',s),familyStatuses:j.getValue('familyStatuses',s),industries:j.getValue('industries',s),lifeEvents:j.getValue('lifeEvents',s),politics:j.getValue('politics',s),income:j.getValue('income',s),netWorth:j.getValue('netWorth',s),homeType:j.getValue('homeType',s),homeOwnership:j.getValue('homeOwnership',s),homeValue:j.getValue('homeValue',s),ethnicAffinity:j.getValue('ethnicAffinity',s),generation:j.getValue('generation',s),householdComposition:j.getValue('householdComposition',s),moms:j.getValue('moms',s),officeType:j.getValue('officeType',s)},width:this.getDefaultWidth()}));}});f.exports=o;},null);
__d('AdsCommonTargetingAgeEditor',['AdsCommonTargetingActions','AdsCommonTargetingSectionMixin','AdsCommonTargetingStore','AdsCreationConfig','Bootloader','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=m.PropTypes,o=m.createClass({displayName:'AdsCommonTargetingAgeEditor',propTypes:{targetingID:n.string.isRequired,rowRenderer:n.func,extraData:n.object},getDefaultProps:function(){return {extraData:{}};},mixins:[i],componentWillMount:function(){l.loadModules(["AdsTargetingAgeEditor.react"],this.updateSectionEditor);},renderSectionEditor:function(){var p=this.getSectionEditor(),q=this.props.targetingID,r=this.getDefaultTooltip(),s=this.getConfigValue(this.props.config.customProperties,'suggestedAgeRange'),t=j.getValue('ageMin',q),u=t?t:this.getConfigValue(this.props.config.customProperties,'ageMin',k.minAgeDefault),v=this.getConfigValue(this.props.config.customProperties,'errors');return (m.createElement(p,babelHelpers['extends']({},this.props.extraData.tooltip,{ageMax:j.getValue('ageMax',q),ageMin:u,ageMinLimit:j.getValue('ageMinLimit',q)||this.getConfigValue(this.props.config.customProperties,'ageMinLimit',k.minAge),changeAgeMaxAndAgeMin:function(w,x){h.changeAgeMaxAndAgeMin(w,x,q);},errors:v,insightsLink:this.props.extraData.insightsLink,oneColumn:this.props.extraData.oneColumn,rowRenderer:this.props.rowRenderer,size:this.props.extraData.size,suggestedAgeRange:s,tooltip:r,width:this.getDefaultWidth()})));}});f.exports=o;},null);
__d('AdsCommonTargetingAppTargetEditor',['AdsAPITargetAppInstallState','AdsCommonTargetingActions','AdsCommonTargetingSectionMixin','AdsCommonTargetingStore','Bootloader','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=m.PropTypes,o=m.createClass({displayName:'AdsCommonTargetingAppTargetEditor',propTypes:{targetingID:n.string.isRequired,rowRenderer:n.func,extraData:n.object},getDefaultProps:function(){return {extraData:{}};},mixins:[j],componentWillMount:function(){l.loadModules(["AdsTargetingAppTargetEditor.react"],this.updateSectionEditor);},renderSectionEditor:function(){var p=this.getSectionEditor(),q=this.props.targetingID,r=k.getValue('appInstallState',q)||h.NONE;return (m.createElement(p,{changeAppTarget:this._changeAppTarget,checked:r===h.INSTALLED,oneColumn:this.props.extraData.oneColumn,rowRenderer:this.props.rowRenderer,size:this.props.size,width:this.getDefaultWidth()}));},_changeAppTarget:function(p){this.props.extraData.controller.clearMixedStateForComponent(this.props.config);var q=this.props.targetingID,r=p?h.INSTALLED:null;i.changeAppInstallState(r,q);}});f.exports=o;},null);
__d('AdsCommonTargetingAudienceEditor',['AdsCommonTargetingActions','AdsCommonTargetingSectionMixin','AdsCommonTargetingStore','Bootloader','React','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=l.PropTypes,o=l.createClass({displayName:'AdsCommonTargetingAudienceEditor',mixins:[i],propTypes:{targetingID:n.string.isRequired,config:n.object,extraData:n.object,rowRenderer:n.func},getDefaultProps:function(){return {extraData:{}};},componentWillMount:function(){k.loadModules(["AdsTargetingAudienceEditor.react"],this.updateSectionEditor);},renderSectionEditor:function(){!this.props.extraData.dao?m(0):undefined;!this.props.extraData.accountID?m(0):undefined;var p=this.getSectionEditor(),q=this.getConfigValue(this.props.config.customProperties,'defaultMobileApp',null),r=this.getConfigValue(this.props.config.customProperties,'disableWCA',false),s=this.getConfigValue(this.props.config.customProperties,'directSales',false),t=this.props.targetingID;return (l.createElement(p,{accountID:this.props.extraData.accountID,actions:{includeAudience:function(u){h.includeAudience(u,t);},excludeAudience:function(u){h.excludeAudience(u,t);},removeAudience:function(u){h.removeAudience(u,t);},changeCustomAudiences:function(u){h.changeCustomAudiences(u,t);}},alwaysVisible:this.props.extraData.alwaysShowAudienceEditor,customAudiences:j.getValue('customAudiences',t)||[],dao:this.props.extraData.dao,defaultMobileApp:q,directSales:s,disableWCA:r,excludedCustomAudiences:j.getValue('excludedCustomAudiences',t)||[],oneColumn:this.props.extraData.oneColumn,rowRenderer:this.props.rowRenderer,size:this.props.size,tosAccepted:this.props.extraData.tosAccepted||{},width:this.getDefaultWidth()}));}});f.exports=o;},null);
__d('AdsCommonTargetingBehaviorsEditor',['AdsCommonTargetingActions','AdsCommonTargetingSectionMixin','AdsCommonTargetingStore','Bootloader','React','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=l.PropTypes,o=l.createClass({displayName:'AdsCommonTargetingBehaviorsEditor',mixins:[i],propTypes:{accountID:n.string.isRequired,targetingID:n.string.isRequired,config:n.object,extraData:n.object,rowRenderer:n.func},getDefaultProps:function(){return {extraData:{}};},componentWillMount:function(){k.loadModules(["AdsTargetingBehaviorsEditor.react"],this.updateSectionEditor);},renderSectionEditor:function(){!this.props.extraData.dao?m(0):undefined;var p=this.getSectionEditor(),q=this.props.targetingID,r=this.getConfigValue(this.props.config.customProperties,'filterPartnerData',false),s=this.getConfigValue(this.props.config.customProperties,'showWhiteBox',true);return (l.createElement(p,{accountID:this.props.accountID,actions:{changeBehaviors:function(t){h.changeBehaviors(t,q);}},dao:this.props.extraData.dao,deltaObjectID:this.props.targetingID,filterPartnerData:r,oneColumn:this.props.extraData.oneColumn,rowRenderer:this.props.rowRenderer,showWhiteBox:s,size:this.props.size,targetingData:{behaviors:j.getValue('behaviors',q)}}));}});f.exports=o;},null);
__d('AdsCommonTargetingCategoriesEditor',['AdsCommonTargetingActions','AdsCommonTargetingSectionMixin','AdsCommonTargetingStore','Bootloader','React','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=l.PropTypes,o=l.createClass({displayName:'AdsCommonTargetingCategoriesEditor',mixins:[i],propTypes:{targetingID:n.string.isRequired,config:n.object,extraData:n.object,rowRenderer:n.func},getDefaultProps:function(){return {extraData:{}};},componentWillMount:function(){k.loadModules(["AdsTargetingCategoriesEditor.react"],this.updateSectionEditor);},renderSectionEditor:function(){var p=this.getSectionEditor(),q=this.getConfigValue(this.props.config.customProperties,'showWhiteBox',true);!this.props.extraData.dao?m(0):undefined;!this.props.extraData.accountID?m(0):undefined;var r=this.props.targetingID;return (l.createElement(p,{accountID:this.props.extraData.accountID,actions:{changeUserAdclusters:function(s){h.changeUserAdclusters(s,r);}},dao:this.props.extraData.dao,deltaObjectID:this.props.targetingID,hideMigratedPC:this.getConfigValue(this.props.config.customProperties,'hideMigratedPC',true),oneColumn:this.props.extraData.oneColumn,privatePCOnly:this.getConfigValue(this.props.config.customProperties,'showPrivatePCOnly',true),rowRenderer:this.props.rowRenderer,showWhiteBox:q,size:this.props.size,targetingData:{userAdclusters:j.getValue('userAdclusters',r)},width:this.getDefaultWidth()}));}});f.exports=o;},null);
__d('AdsPromotableObjectListStore',['AdsBaseConnectionObjectListStore'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,h);j=i&&i.prototype;k.prototype.__filterConnectionObject=function(m){return true;};function k(){i.apply(this,arguments);}var l=new k();f.exports=l;},null);
__d('AdsConnectionObjectDataManager',['AdsAPIAdAccountFields','AdsBaseDataManager','AdsConnectionObjectActions','AdsGraphAPI','GraphAPIPaging','Map'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';var n,o;if(c.__markCompiled)c.__markCompiled();n=babelHelpers.inherits(p,i);o=n&&n.prototype;p.prototype.loadAllFor=function(q,r){if(r.length===0)return;k.get().adaccount(q).edge(h.CONNECTIONOBJECTS).get({extra_fbids:r.join(','),extra_only:true}).then(l.eachPage(function(s){return this.$AdsConnectionObjectDataManager1(s.data);}.bind(this))).done(function(s){return this.__processResponse(s,r,function(t){return t.id;},function(t){return this.__getObjectError(t,null);}.bind(this),true);}.bind(this),function(s){return r.forEach(function(t){return this.__handleError(['load'],t,null,s);}.bind(this));}.bind(this));};p.prototype.loadFor=function(q,r){this.loadAllFor(q,[r]);};p.prototype.$AdsConnectionObjectDataManager1=function(q){var r=new m();q.forEach(function(s){return r.set(s.id,s);});j.connectionObjectBatchLoaded(r);};p.prototype.__onBatchLoaded=function(q){j.connectionObjectBatchLoaded(q);};p.prototype.__onBatchLoadError=function(q){j.connectionObjectBatchLoadError(q);};function p(){n.apply(this,arguments);}f.exports=new p();},null);
__d('AdsBaseConnectionObjectStore',['AdsBaseDataStore','AdsLoadState','AdsActionTypes','AdsConnectionObjectDataManager','Map','abstractMethod','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';var o,p;if(c.__markCompiled)c.__markCompiled();o=babelHelpers.inherits(q,h);p=o&&o.prototype;q.prototype.getDataManager=function(){return k;};q.prototype.get=function(r){n(0);};q.prototype.getAll=function(r){n(0);};q.prototype.getFor=function(r,s){return this.getAllFor(r,[s]).get(s);};q.prototype.getAllFor=function(r,s){return this.__getAllConnectionObjectsFor(r,s);};q.prototype.__getAllConnectionObjectsFor=function(r,s){var t=this.__updateLoading(s);if(t.length>0)k.loadAllFor(r,t);return this.getAllCached(s);};q.prototype.__onDispatch=function(r){var s=r.action;switch(s.type){case j.CONNECTION_OBJECT.BATCH_LOADED:this.__handleLoadedData(s.connectionObjects);break;case j.CONNECTION_OBJECT.BATCH_LOAD_ERROR:this.__handleData(s.errors,i.ERROR);break;}};q.prototype.__computeStorageKey=function(r,s){return r+'_'+s;};q.prototype.__handleLoadedData=function(r){var s=new l(),t=new l();r.forEach(function(u,v){if(this.__filterConnectionObject(u)){s.set(v,u);}else t.set(v,u);}.bind(this));this.__handleData(s,i.LOADED);this.__handleData(t,i.ERROR);};q.prototype.__filterConnectionObject=function(r){return m('AdsBaseConnectionObjectStore','__filterConnectionObject');};function q(){o.apply(this,arguments);}f.exports=q;},null);
__d('AdsTargetingConnectionsLabels',['fbt'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports={addConnection:h._("Add a connection type"),advancedCombinations:h._("Advanced Combinations"),apps:h._("Apps"),connectedToApp:h._("People who used your app"),friendsConnectedToApp:h._("Friends of people who used your app"),excludeConnectedToApp:h._("Exclude people who used your app"),events:h._("Events"),connectedToEvent:h._("People who responded to your event"),friendsConnectedToEvent:h._("Friends of people who responded to your event"),excludeConnectedToEvent:h._("Exclude people who already responded to your event"),pages:h._("Facebook Pages"),connectedToPage:h._("People who like your Page"),friendsConnectedToPage:h._("Friends of people who like your Page"),excludeConnectedToPage:h._("Exclude people who like your Page"),videos:h._("Videos"),viewedThreeSeconds:h._("People who viewed at least 3 seconds of your video"),viewedNintyFivePercent:h._("People who viewed at least 95\u0025 of your video"),excludeViewedThreeSeconds:h._("Exclude people who viewed at least 3 seconds of your video"),excludeViewedNintyFivePercent:h._("Exclude people who viewed at least 95\u0025 of your video"),ads:h._("Ads"),impressionedAd:h._("People who had an impression of your ad at least once"),dwelledOnAd:h._("People who have dwelled on your ad"),clickedOnAd:h._("People who have clicked on your ad"),excludeImpressionedAd:h._("Exclude people who had at least one impression of your ad"),excludeDwelledOnAd:h._("Exclude people who have dwelled on your ad"),excludeClickedOnAd:h._("Exclude people who have clicked your ad"),pageEventViewers:h._("People who viewed any event of your page"),pageEventAttendees:h._("People who responded to any event of your page"),connections:h._("Connections"),connectionsHelplink:h._("Reach people who have a specific kind of connection to your Page, app or event. This will narrow your audience to include only people with that specific connection who also meet the other targeting categories you've selected."),addApp:h._("Add an app"),addEvent:h._("Add an event"),addPage:h._("Add a Page"),addAnotherApp:h._("Add another app"),addAnotherEvent:h._("Add another event"),addAnotherPage:h._("Add another Page"),addAppOrEventOrPage:h._("Add a Page, app, or event"),addAppOrPageOrEventOrEventID:h._("Add a Page, app, event or event ID"),peopleConnectedTo:h._("People who are connected to"),peopleConnectedToHelpLink:h._("Leave this field blank unless you want to narrow down your audience to only the people connected to your Page, app or event."),excludePeopleConnectedTo:h._("Exclude people who are connected to"),excludePeopleConnectedToHelpLink:h._("Leave this field blank unless you want to narrow down your audience to only the people NOT connected to your Page, app or event."),friendsOfPeopleConnectedTo:h._("Friends of people who are connected to"),friendsOfPeopleConnectedToHelpLink:h._("Leave this field blank unless you want to narrow down your audience to only the people whose friends are connected to your Page, app or event."),connectionsSectionNUX:h._("Now you can reach people who view your videos in addition to interacting with your Pages, apps or events."),connectionsSectionWithoutVideoNUX:h._("Now it's easier to reach people who like your Page, joined your event or used your app. You can also exclude connections or show ads to their friends.")};},null);
__d('AdsTargetingConnectionsMenuOptions',['AdsTargetingConnectionsLabels'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i='connectedToApp',j='connectedToEvent',k='connectedToPage',l='excludeConnectedToApp',m='excludeConnectedToEvent',n='excludeConnectedToPage',o='friendsConnectedToApp',p='friendsConnectedToEvent',q='friendsConnectedToPage',r='viewedThreeSeconds',s='viewedNintyFivePercent',t='excludeViewedThreeSeconds',u='excludeViewedNintyFivePercent',v='impressionedAd',w='dwelledOnAd',x='clickedOnAd',y='excludeImpressionedAd',z='excludeDwelledOnAd',aa='excludeClickedOnAd',ba='menu_separator',ca='pageEventViewers',da='pageEventAttendees',ea={ADVANCED:'advanced',ALL:'all',APPS:'apps',EVENTS:'events',EVENTS_ENGAGEMENT:'events_engagement',NONE:'none',PAGES:'pages',VIDEOS:'videos',ADS:'ads'},fa={name:h.advancedCombinations,toggleName:'advancedCombinations'},ga={name:h.apps,toggleName:'apps',children:[{name:h.connectedToApp,toggleName:i},{name:h.friendsConnectedToApp,toggleName:o},{name:h.excludeConnectedToApp,toggleName:l}]},ha={name:h.events,toggleName:'events',children:[{name:h.connectedToEvent,toggleName:j},{name:h.friendsConnectedToEvent,toggleName:p},{name:h.excludeConnectedToEvent,toggleName:m}]},ia={name:h.events,toggleName:'events_with_engagement',children:[{name:h.connectedToEvent,toggleName:j},{name:h.friendsConnectedToEvent,toggleName:p},{name:h.excludeConnectedToEvent,toggleName:m},{name:ba},{name:h.pageEventViewers,toggleName:ca},{name:h.pageEventAttendees,toggleName:da}]},ja={name:h.pages,toggleName:'events_engagement',children:[{name:h.pageEventViewers,toggleName:ca},{name:h.pageEventAttendees,toggleName:da}]},ka={name:h.pages,toggleName:'pages',children:[{name:h.connectedToPage,toggleName:k},{name:h.friendsConnectedToPage,toggleName:q},{name:h.excludeConnectedToPage,toggleName:n}]},la={name:h.videos,toggleName:'videos',children:[{name:h.viewedThreeSeconds,toggleName:r},{name:h.viewedNintyFivePercent,toggleName:s},{name:ba},{name:h.excludeViewedThreeSeconds,toggleName:t},{name:h.excludeViewedNintyFivePercent,toggleName:u}]},ma={name:h.ads,toggleName:'ads',children:[{name:h.impressionedAd,toggleName:v},{name:h.dwelledOnAd,toggleName:w},{name:h.clickedOnAd,toggleName:x},{name:ba},{name:h.excludeImpressionedAd,toggleName:y},{name:h.excludeDwelledOnAd,toggleName:z},{name:h.excludeClickedOnAd,toggleName:aa}]},na=[ka,ga,ja,ha,la,ma,{name:ba},fa],oa={VIDEO_VIEW_ACTION:'video_view',VIDEO_COMPLETED_ACTION:'video_completed',FBEVENT_VIEW_ACTION:'fbevent_view',FBEVENT_RESPONSE_ACTION:'fbevent_response',AD_IMPRESSION_ACTION:'ad_impression',AD_DWELL_ACTION:'ad_dwell_time',AD_CLICK_ACTION:'ad_click'};f.exports={connectionStatuses:ea,menuOptions:{advancedOptions:fa,appOptions:ga,eventOptions:ha,eventWithEngagementOptions:ia,eventEngagementOptions:ja,pageOptions:ka,videoOptions:la,adsOptions:ma,allOptions:na},optionName:{connectedToApp:i,connectedToEvent:j,connectedToPage:k,excludeConnectedToApp:l,excludeConnectedToEvent:m,excludeConnectedToPage:n,friendsConnectedToApp:o,friendsConnectedToEvent:p,friendsConnectedToPage:q,menuSeparator:ba,viewedThreeSeconds:r,viewedNintyFivePercent:s,excludeViewedThreeSeconds:t,excludeViewedNintyFivePercent:u,impressionedAd:v,dwelledOnAd:w,clickedOnAd:x,excludeImpressionedAd:y,excludeDwelledOnAd:z,excludeClickedOnAd:aa,pageEventViewers:ca,pageEventAttendees:da},connectionsType:{excludedConnection:'excludedConnections',includedConnection:'includedConnections',friendsOfConnection:'friendsOfConnections'},engagementActions:oa};},null);
__d('AdsEngagementSpecsUIUtils',['AdsTargetingConnectionsMenuOptions'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=h.connectionStatuses,j=h.engagementActions,k=h.optionName,l={ENGAGEMENT_SPECS:'ENGAGEMENT_SPECS',EXCLUDED_ENGAGEMENT_SPECS:'EXCLUDED_ENGAGEMENT_SPECS'};function m(aa,ba){return aa.map(function(ca){if(ca&&ca['action.type']&&ca['action.type']===ba)return ca.page_id;});}function n(aa,ba){switch(aa){case l.ENGAGEMENT_SPECS:switch(ba){case j.VIDEO_VIEW_ACTION:return k.viewedThreeSeconds;case j.VIDEO_COMPLETED_ACTION:return k.viewedNintyFivePercent;case j.AD_IMPRESSION_ACTION:return k.impressionedAd;case j.AD_DWELL_ACTION:return k.dwelledOnAd;case j.AD_CLICK_ACTION:return k.clickedOnAd;}break;case l.EXCLUDED_ENGAGEMENT_SPECS:switch(ba){case j.VIDEO_VIEW_ACTION:return k.excludeViewedThreeSeconds;case j.VIDEO_COMPLETED_ACTION:return k.excludeViewedNintyFivePercent;case j.AD_IMPRESSION_ACTION:return k.excludeImpressionedAd;case j.AD_DWELL_ACTION:return k.excludeDwelledOnAd;case j.AD_CLICK_ACTION:return k.excludeClickedOnAd;}break;}return null;}function o(aa,ba){var ca=[],da=[];if(!aa.length)return {engagementSpecs:ca,excludedEngagementSpecs:da};switch(ba){case k.pageEventViewers:ca=aa.map(function(ea){return {'action.type':j.FBEVENT_VIEW_ACTION,page_id:ea.id};});break;case k.pageEventAttendees:ca=aa.map(function(ea){return {'action.type':j.FBEVENT_RESPONSE_ACTION,page_id:ea.id};});break;case k.viewedThreeSeconds:ca=p(aa);break;case k.viewedNintyFivePercent:ca=q(aa);break;case k.impressionedAd:ca=r(aa);break;case k.dwelledOnAd:ca=s(aa);break;case k.clickedOnAd:ca=t(aa);break;case k.excludeViewedThreeSeconds:da=p(aa);break;case k.excludeViewedNintyFivePercent:da=q(aa);break;case k.excludeImpressionedAd:da=r(aa);break;case k.excludeDwelledOnAd:da=s(aa);break;case k.excludeClickedOnAd:da=t(aa);break;}return {engagementSpecs:ca,excludedEngagementSpecs:da};}function p(aa){return aa.map(function(ba){return {'action.type':j.VIDEO_VIEW_ACTION,post:ba.id};});}function q(aa){return aa.map(function(ba){return {'action.type':j.VIDEO_COMPLETED_ACTION,post:ba.id};});}function r(aa){return aa.map(function(ba){return babelHelpers['extends']({},ba,{'action.type':j.AD_IMPRESSION_ACTION,impression_count:1,retention_seconds:2592000});});}function s(aa){return aa.map(function(ba){return babelHelpers['extends']({},ba,{'action.type':j.AD_DWELL_ACTION,dwell_time:3,retention_seconds:2592000});});}function t(aa){return aa.map(function(ba){return babelHelpers['extends']({},ba,{'action.type':j.AD_CLICK_ACTION,retention_seconds:2592000});});}function u(aa,ba){if(!aa||aa.length<=0||!ba)return -1;return aa.findIndex(function(ca){return (ca['action.type']===ba['action.type']&&ca.post===ba.post&&ca.page_id===ba.page_id&&ca.campaign_group_id===ba.campaign_group_id&&ca.campaign_id===ba.campaign_id&&ca.ad_group_id===ba.ad_group_id&&ca.impression_count===ba.impression_count&&ca.retention_seconds===ba.retention_seconds);});}function v(aa){if(!aa)return '';switch(aa['action.type']){case j.FBEVENT_VIEW_ACTION:return k.pageEventViewers;case j.FBEVENT_RESPONSE_ACTION:return k.pageEventAttendees;}return '';}function w(aa,ba){var ca=u(aa,ba);if(ca!==-1)aa.splice(ca,1);}function x(aa){switch(aa){case k.viewedThreeSeconds:case k.viewedNintyFivePercent:case k.excludeViewedThreeSeconds:case k.excludeViewedNintyFivePercent:return i.VIDEOS;case k.impressionedAd:case k.dwelledOnAd:case k.clickedOnAd:case k.excludeImpressionedAd:case k.excludeDwelledOnAd:case k.excludeClickedOnAd:return i.ADS;}return null;}function y(aa){switch(aa){case k.viewedThreeSeconds:case k.viewedNintyFivePercent:case k.impressionedAd:case k.dwelledOnAd:case k.clickedOnAd:return l.ENGAGEMENT_SPECS;case k.excludeViewedThreeSeconds:case k.excludeViewedNintyFivePercent:case k.excludeImpressionedAd:case k.excludeDwelledOnAd:case k.excludeClickedOnAd:return l.EXCLUDED_ENGAGEMENT_SPECS;default:return null;}}function z(aa){var ba=Object.keys(aa),ca=null;ba.findIndex(function(da,ea){ca=da;return (aa[ca]&&aa[ca].menuItems&&aa[ca].menuItems.length>0);});return ca;}f.exports={adsEngagementSpecsTypesMap:l,engagementDetailsToEngagementSpecs:o,getCurrentEngagementKey:z,getEngagementType:v,getNewEngagementType:y,getNewSpecIndex:u,getPageIDsOfActionTypeFromEngagementSpecs:m,getSelectedMode:x,getTargetingLabel:n,spliceAnEntry:w};},null);
__d('AdsPromotableObjectStore',['AdsBaseConnectionObjectStore','AdsEngagementSpecsUIUtils','AdsLoadStateUtils','AdsTargetingConnectionsMenuOptions','SearchableEntry'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';var m,n;if(c.__markCompiled)c.__markCompiled();var o=k.engagementActions,p=k.optionName;m=babelHelpers.inherits(q,h);n=m&&m.prototype;q.prototype.__filterConnectionObject=function(s){return true;};q.prototype.engagementSpecToEventUIMenuItems=function(s,t,u){var v=null;switch(u){case p.pageEventViewers:v=o.FBEVENT_VIEW_ACTION;break;case p.pageEventAttendees:v=o.FBEVENT_RESPONSE_ACTION;break;}if(!v||!t)return [];var w=i.getPageIDsOfActionTypeFromEngagementSpecs(t,v);if(w.length===0)return [];var x=r.getAllFor(s,w),y=j.getLoadedValues(x)||[];return y.map(function(z){return new l({uniqueID:z.id,title:z.name,type:z.type});});};q.prototype.getAllFor=function(s,t){return n.__getAllConnectionObjectsFor.call(this,s,t);};function q(){m.apply(this,arguments);}var r=new q();f.exports=r;},null);
__d('AdsStaticSearchSource',['AbstractSearchSource','AdsCreateFlowQueryLimits','FbtResult','SearchableEntry','TokenizeUtil'],function a(b,c,d,e,f,g,h,i,j,k,l){var m,n;if(c.__markCompiled)c.__markCompiled();function o(q,r){var s=q.score,t=r.score;if(s===t)return q.getTitle()>r.getTitle()?1:-1;return s<t?1:-1;}m=babelHelpers.inherits(p,h);n=m&&m.prototype;function p(q,r){'use strict';n.constructor.call(this);r=r||{};this.$AdsStaticSearchSource1=r;this.$AdsStaticSearchSource2=q;this.$AdsStaticSearchSource3=r.limit;this.$AdsStaticSearchSource4=r.getAllForEmptyQuery;this.$AdsStaticSearchSource5=r.getSubtitle;}p.prototype.searchImpl=function(q,r,s){'use strict';if(!q){if(this.$AdsStaticSearchSource4){r(this.getEntries(this.$AdsStaticSearchSource2,'',s),q);}else r([],q);return;}var t=this.getEntries(this.$AdsStaticSearchSource2,q,s);r(t,q);};p.prototype.getEntries=function(q,r,s){'use strict';var t=r.toLowerCase(),u=[];s=s||{};var v=this.$AdsStaticSearchSource3||i.TYPEAHEAD_LIMIT;for(var w=0,x;x=q[w];++w){if(s.shouldFilter&&s.filterEntry&&!s.filterEntry(x,s))continue;var y=x.key||x.id||x.name,z=x.name;if(z instanceof j)z=z.toString();var aa;if(!r&&this.$AdsStaticSearchSource4){aa=1;}else if(s&&s.searchByID&&r===y){aa=5;}else if(t===z.toLowerCase()){aa=4;}else if(z.indexOf(r)===0){aa=3;}else if(z.toLowerCase().indexOf(t)===0){aa=2;}else if(l.isQueryMatch(r,z)){aa=1;}else continue;var ba=new k({uniqueID:y,title:z,auxiliaryData:x.auxiliaryData,subtitle:this.$AdsStaticSearchSource5?this.$AdsStaticSearchSource5(x):'',type:x.type});ba.score=aa;u.push(ba);}var ca=this.$AdsStaticSearchSource1.sortEntries||o;u.sort(ca);u=u.slice(0,v);return u;};f.exports=p;},null);
__d('ads-destinationType',['AdsDestinationTypes','fbt'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={};j[h.EXTERNAL_WEBPAGE]=i._("URL");j[h.PAGE]=i._("Page");j[h.APP]=i._("Application");j[h.EVENT]=i._("Event");j[h.GROUP]=i._("Group");j[h.REVIEW]=i._("Review");j[h.PLACE]=i._("Place");j[h.DOMAIN]=i._("Domain");j[h.SEARCH]=i._("Search");j[h.ENTER_URL]=i._("Search by URL");j[h.SEARCH_BY_ID]=i._("Search by Destination ID");var k={};k[h.EXTERNAL_WEBPAGE]=i._("URL");k[h.PAGE]=i._("Pages");k[h.APP]=i._("Applications");k[h.EVENT]=i._("Events");k[h.GROUP]=i._("Groups");k[h.REVIEW]=i._("Reviews");k[h.PLACE]=i._("Places");k[h.DOMAIN]=i._("Domains");k[h.PAGE_AND_PLACE]=i._("Pages and Places");k[h.SEARCH]=i._("Search");k[h.ENTER_URL]=i._("Search by URL");k[h.SEARCH_BY_ID]=i._("Search by Destination ID");f.exports={DEST_TYPE_TO_NAME:j,DEST_TYPE_TO_NAME_PLURAL:k};},null);
__d('AdsConnectionObjectSearchSource',['AdsConnectionObjectUtils','AdsLoadStateUtils','AdsPageSelectorStore','AdsPromotableObjectListStore','AdsPromotableObjectStore','AdsStaticSearchSource','AdsStoreUtils','CurrentUser','Map','Set','ads-destinationType','arrayContains','isNumberLike'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';var u,v;if(c.__markCompiled)c.__markCompiled();var w=new p();u=babelHelpers.inherits(x,m);v=u&&u.prototype;x.getInstance=function(y,z){var aa=x.getInstanceID(y,z);if(!w.has(aa))w.set(aa,new x(y,z));return w.get(aa);};x.getInstanceID=function(y,z){var aa=String(y);if(z&&z.canQueryEvents)aa+='_canQueryEvents';return aa;};function x(y,z){var aa={getSubtitle:function(ca){return (r.DEST_TYPE_TO_NAME[ca.type]);}};v.constructor.call(this,y,aa);var ba=x.getInstanceID(y,z);if(w.has(ba))return w.get(ba);if(z)this.$AdsConnectionObjectSearchSource2=z.canQueryEvents;this.$AdsConnectionObjectSearchSource1=y;}x.prototype.searchImpl=function(y,z,aa){if(!y){z([],y);return;}var ba=new q();n.promiseAsyncGetForSyncStore(k,function(){return k.getFor(this.$AdsConnectionObjectSearchSource1);}.bind(this)).then(function(ca){ba=new q(ca.list);var da=ca.list.concat(j.getUnownedPageIDs());if((o.isEmployee()||this.$AdsConnectionObjectSearchSource2)&&t(y)&&!s(da,y))da.push(y);return n.promiseAsyncGetForSyncStore(l,function(){return l.getAllFor(this.$AdsConnectionObjectSearchSource1,da);}.bind(this));}.bind(this)).then(function(ca){var da=i.getLoadedValues(ca),ea=da.filter(function(ga){return (this.$AdsConnectionObjectSearchSource3(ba,ga));}.bind(this));aa=Object.assign({searchByID:true},aa);var fa=this.getEntries(ea||[],y,aa);z(fa,y);}.bind(this))['catch'](function(ca){z([],y);});};x.prototype.$AdsConnectionObjectSearchSource3=function(y,z){return (y.has(z.id)||o.isEmployee()&&h.isPage(z)||this.$AdsConnectionObjectSearchSource4(z));};x.prototype.$AdsConnectionObjectSearchSource4=function(y){return (this.$AdsConnectionObjectSearchSource2&&h.isViewerEventAdmin(y));};f.exports=x;},null);
__d('AdsConnectionsUIExperimentUtils',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(j,k){if(!k||!k.canSeeConnectionsEditorV2||k.isMobileAppEngagementObjective)return false;if(k.canSeeVideoOptions)return true;if(k.canSeeAdsOptions)return true;return k.canSeeConnectionsEditorV2;}var i={shouldShowV2:h};f.exports=i;},null);
__d('AdsCommonTargetingConnectionsEditor',['AdsCommonTargetingActions','AdsCommonTargetingSectionMixin','AdsCommonTargetingStore','AdsConnectionObjectSearchSource','AdsConnectionsUIExperimentUtils','Bootloader','React','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=n.PropTypes,q=n.createClass({displayName:'AdsCommonTargetingConnectionsEditor',mixins:[i],propTypes:{targetingID:p.string.isRequired,config:p.object,extraData:p.object.isRequired,rowRenderer:p.func},getDefaultProps:function(){return {extraData:{}};},componentWillMount:function(){var r=l.shouldShowV2(this.props.extraData.accountID,this.props.config.customProperties);if(r){m.loadModules(["AdsTargetingConnectionsEditorV2.react"],this.updateSectionEditor);}else m.loadModules(["AdsTargetingConnectionsEditor.react"],this.updateSectionEditor);},renderSectionEditor:function(){var r=this.getSectionEditor();!this.props.extraData.accountID?o(0):undefined;!this.props.extraData.dao?o(0):undefined;!this.props.extraData.destinationData?o(0):undefined;!this.props.extraData.objectiveData?o(0):undefined;var s=this.props.targetingID,t=this.props.config.customProperties&&this.props.config.customProperties.canSeeVideoOptions,u=this.props.config.customProperties&&this.props.config.customProperties.canSeeAdsOptions;return (n.createElement(r,{accountID:this.props.extraData.accountID,canQueryEvents:this.getConfigValue(this.props.config.customProperties,'canQueryEvents',false),canSeeAdsOptions:u,canSeeEventEngagementOptions:this.getConfigValue(this.props.config.customProperties,'canSeeEventEngagementOptions',false),canSeeVideoOptions:t,changeConnections:function(v){h.changeConnections(v,s);},changeEngagements:function(v,w){h.changeEngagements(v,w,s);},dao:this.props.extraData.dao,destinationData:this.props.extraData.destinationData,objectiveData:this.props.extraData.objectiveData,oneColumn:this.props.extraData.oneColumn,rowRenderer:this.props.rowRenderer,searchSource:k.getInstance(this.props.extraData.accountID,{canQueryEvents:this.getConfigValue(this.props.config.customProperties,'canQueryEvents',false)}),shouldHideExcludedConnections:this.getConfigValue(this.props.config.customProperties,'shouldHideExcludedConnections',false),shouldHideFriendsOfConnections:this.getConfigValue(this.props.config.customProperties,'shouldHideFriendsOfConnections',false),size:this.props.size,targetingData:{includedConnections:j.getValue('connections',s)||[],excludedConnections:j.getValue('excludedConnections',s)||[],friendsOfConnections:j.getValue('friendsOfConnections',s)||[],engagementSpecs:j.getValue('engagementSpecs',s)||[],excludedEngagementSpecs:j.getValue('excludedEngagementSpecs',s)||[]},width:this.getDefaultWidth()}));}});f.exports=q;},null);
__d('AdsCommonTargetingDemographicsEditor',['AdsCommonTargetingActions','AdsCommonTargetingSectionMixin','AdsCommonTargetingStore','Bootloader','React'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=l.PropTypes,n=l.createClass({displayName:'AdsCommonTargetingDemographicsEditor',propTypes:{targetingID:m.string.isRequired},mixins:[i],componentWillMount:function(){k.loadModules(["AdsTargetingDemographicsEditor.react"],this.updateSectionEditor);},renderSectionEditor:function(){var o=this.getSectionEditor(),p=this.props.targetingID,q=j.getValue('genders',p)||[];return (l.createElement(o,{ageMax:j.getValue('ageMax',p),ageMin:j.getValue('ageMin',p),ageMinLimit:j.getValue('ageMinLimit',p),changeAgeMaxAndAgeMin:function(r,s){h.changeAgeMaxAndAgeMin(r,s,p);},changeGender:function(r){return h.changeGenders(r,p);},gender:q[0],insightsLink:this.props.extraData.insightsLink,oneColumn:this.props.oneColumn,rowRenderer:this.props.rowRenderer,suggestions:this.props.extraData.demographicSuggestions,tooltip:this.getDefaultTooltip(),width:this.getDefaultWidth()}));}});f.exports=n;},null);
__d('AdsCommonTargetingDynamicLocalLocationEditor',['AdsCommonTargetingActions','AdsCommonTargetingSectionMixin','AdsCommonTargetingStore','LocationConstants','Bootloader','React','Set','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p={},q=m.PropTypes,r=m.createClass({displayName:'AdsCommonTargetingDynamicLocalLocationEditor',mixins:[i],propTypes:{accountID:q.string.isRequired,targetingID:q.string.isRequired,config:q.object.isRequired,extraData:q.object.isRequired},componentWillMount:function(){l.loadModules(["AdsTargetingDynamicLocalLocationEditor"],this.updateSectionEditor);},renderSectionEditor:function(){!this.props.extraData.dao?o(0):undefined;var s=this.getSectionEditor(),t=this.getConfigValue(this.props.config.customProperties,'allowedCountryList',[]),u=this.getConfigValue(this.props.config.customProperties,'disallowedCountryList',[]),v={disallowAddress:k.CUSTOM_LOCATIONS,disallowCountries:k.COUNTRIES,disallowDMA:k.GEO_MARKETS,disallowPlaces:k.PLACES,disallowZips:k.ZIPS},w=new n();Object.keys(v).forEach(function(fa){if(this.getConfigValue(this.props.config.customProperties,fa,false))w.add(v[fa]);}.bind(this));var x=this.getConfigValue(this.props.config.customProperties,'showLocationTypeSelector',true),y=this.getConfigValue(this.props.config.customProperties,'defaultLocationTypes',k.DEFAULT_LOCATION_TYPES),z=this.getConfigValue(this.props.config.customProperties,'radiusType',null),aa=this.getConfigValue(this.props.config.customProperties,'shouldGetSuggestedRadius',false),ba=this.getConfigValue(this.props.config.customProperties,'onlyInclusion',false),ca=this.getConfigValue(this.props.config.customProperties,'pageID',null);k.setDefaultLocationTypes(y);var da=this.props.targetingID,ea=this.getDefaultTooltip();return (m.createElement(s,{allowedCountryList:t,dao:this.props.extraData.dao,disallowedCountryList:u,disallowedLocationTypes:w,excludedGeoLocations:j.getValue('excludedGeoLocations',da)||p,geoLocations:j.getValue('geoLocations',da)||p,oneColumn:this.props.extraData.oneColumn,onlyInclusion:ba,pageID:ca,radiusType:z,rowRenderer:this.props.rowRenderer,shouldGetSuggestedRadius:aa,showLocationTypeSelector:x,tooltip:ea,onLocationTypesChange:this._onLocationTypesChange,onLocationsChange:this._onLocationsChange}));},_onLocationTypesChange:function(s){h.changeGeoLocations({location_types:s},null,this.props.targetingID);},_onLocationsChange:function(s,t){h.changeGeoLocations(s,t,this.props.targetingID);}});f.exports=r;},null);
__d('AdsCommonTargetingEstimatedReach',['AdsCommonTargetingApiTransformer','AdsCommonTargetingSectionMixin','Bootloader','React','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=k.PropTypes,n=k.createClass({displayName:'AdsCommonTargetingEstimatedReach',mixins:[i],propTypes:{targetingID:m.string.isRequired,config:m.object,extraData:m.object},componentWillMount:function(){j.loadModules(["AdsTargetingEstimatedReach.react"],this.updateSectionEditor);},renderSectionEditor:function(){var o=this.getSectionEditor();!this.props.extraData.accountID?l(0):undefined;return (k.createElement(o,{accountID:this.props.extraData.accountID,targetingApiSpec:h.toApi(this.props.targetingID),width:this.getDefaultWidth()}));}});f.exports=n;},null);
__d('AdsCommonTargetingFlexibleTargetingEditor',['AdsCommonTargetingActions','AdsCommonTargetingSectionMixin','AdsCommonTargetingStore','AdsFlexibleTargetingConstants','Bootloader','React','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=m.PropTypes,p=m.createClass({displayName:'AdsCommonTargetingFlexibleTargetingEditor',mixins:[i],propTypes:{targetingID:o.string.isRequired,config:o.object,extraData:o.object,rowRenderer:o.func},getDefaultProps:function(){return {extraData:{}};},componentWillMount:function(){l.loadModules(["AdsTargetingFlexibleTargetingEditor.react"],this.updateSectionEditor);},renderSectionEditor:function(){var q=this.getSectionEditor();!this.props.extraData.dao?n(0):undefined;!this.props.extraData.accountID?n(0):undefined;var r=this._getTargetingData();return (m.createElement(q,{accountID:this.props.extraData.accountID,dao:this.props.extraData.dao,oneColumn:this.props.extraData.oneColumn,rowRenderer:this.props.rowRenderer,targetingData:r,targetingID:this.props.targetingID,width:this.getDefaultWidth(),onTargetingChange:this._handleTargetingChanged}));},_handleTargetingChanged:function(q){h.changeFlexibleSpec(q,this.props.targetingID);},_getTargetingData:function(){var q=j.getValue('flexibleSpec',this.props.targetingID);if(!q||q.length===0)q=this._getDefaultSpec();return {flexibleSpec:q};},_getDefaultSpec:function(){return [{type:k.ITEM_TYPE.INCLUDE_ANY}];}});f.exports=p;},null);
__d('AdsCommonTargetingGenderEditor',['AdsCommonTargetingActions','AdsCommonTargetingSectionMixin','AdsCommonTargetingStore','AdsTargetingConstants','Bootloader','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=m.PropTypes,o=m.createClass({displayName:'AdsCommonTargetingGenderEditor',propTypes:{targetingID:n.string.isRequired,rowRenderer:n.func,extraData:n.object},getDefaultProps:function(){return {extraData:{}};},mixins:[i],componentWillMount:function(){l.loadModules(["AdsTargetingGenderEditor.react"],this.updateSectionEditor);},_changeGender:function(p){h.changeGenders(p,this.props.targetingID);},renderSectionEditor:function(){var p=this.getSectionEditor(),q=this.getDefaultTooltip(),r=j.getValue('genders',this.props.targetingID)||[],s=this.getConfigValue(this.props.config.customProperties,'suggestedGender'),t=r&&r.length===1?r[0]:k.GENDERS.ALL;return (m.createElement(p,babelHelpers['extends']({},this.props.extraData.tooltip,{changeGender:this._changeGender,gender:t,insightsLink:this.props.extraData.insightsLink,oneColumn:this.props.extraData.oneColumn,rowRenderer:this.props.rowRenderer,selectedDepressed:this.props.extraData.selectedDepressed,selectedUse:this.props.extraData.selectedUse,size:this.props.extraData.size,suggestedGender:s,tooltip:q,width:this.getDefaultWidth()})));}});f.exports=o;},null);
__d('AudienceInterestsConnectionSearchSource',['AbstractSearchSource','AdsCreateFlowQueryLimits','GraphAPI','SearchableEntry'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m;if(c.__markCompiled)c.__markCompiled();var n;l=babelHelpers.inherits(o,h);m=l&&l.prototype;o.getInstance=function(){if(!n)n=new o();return n;};function o(){m.constructor.call(this);if(n){return n;}else return this;}o.prototype.processResult=function(p,q,r){var s=[],t=p.data||p;for(var u=t,v=Array.isArray(u),w=0,u=v?u:u[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var x;if(v){if(w>=u.length)break;x=u[w++];}else{w=u.next();if(w.done)break;x=w.value;}var y=x,z=y.id,aa=y.name,ba=new k({uniqueID:z,title:aa});s.push(ba);if(s.length>i.TYPEAHEAD_LIMIT)break;}r(s,q);};o.prototype.searchImpl=function(p,q){if(!p){q([],p);return;}var r=j('2.4').search('page').get({q:p});r.done(function(s){return this.processResult(s.data,p,q);}.bind(this),function(s){q([],p);});};f.exports=o;},null);
__d('AdsCommonTargetingInterestsConnectionEditor.react',['AdsCommonTargetingActions','AdsCommonTargetingSectionMixin','AdsCommonTargetingStore','AudienceInterestsConnectionSearchSource','Bootloader','React','dotAccess'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=m.PropTypes,p=m.createClass({displayName:'AdsCommonTargetingInterestsConnectionEditor',mixins:[i],propTypes:{targetingID:o.string.isRequired,config:o.object,extraData:o.object,rowRenderer:o.func},getDefaultProps:function(){return {extraData:{}};},componentWillMount:function(){l.loadModules(["AdsTargetingInterestsConnectionEditor.react"],this.updateSectionEditor);},renderSectionEditor:function(){var q=this.getSectionEditor(),r=this.props.targetingID;return (m.createElement(q,{accountID:n(this.props.extraData,'accountID'),changeConnections:function(s){h.changeConnections(s,r);},oneColumn:n(this.props.extraData,'oneColumn'),rowRenderer:this.props.rowRenderer,searchSource:k.getInstance(),targetingData:{includedConnections:j.getValue('connections',r)||[]},width:this.getDefaultWidth()}));}});f.exports=p;},null);
__d('AdsInfoTable.react',['React','cx'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.PropTypes,k=h.createClass({displayName:'AdsInfoTable',propTypes:{oneColumn:j.bool},render:function(){var l="_19b9"+(' '+"_34l3")+(this.props.oneColumn?' '+"_19ba":'')+(!this.props.oneColumn?' '+"_19bb":'');return (h.createElement('div',{className:l},this.props.children));}});f.exports=k;},null);
__d('AdsInfoTableRow.react',['React','cx','joinClasses','uniqueID'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=h.createClass({displayName:'AdsInfoTableRow',propTypes:{annotation:l.string,helpLink:l.object,label:l.string,vertical:l.bool,noUIContextualLayerParent:l.bool},getInitialState:function(){return {labelId:k()};},render:function(){var n=j("_2ekq _2ekr",this.props.noUIContextualLayerParent!==true?"uiContextualLayerParent":''),o="_4jci _4209",p=this.state.labelId,q=h.createElement('div',{className:n,id:p},h.createElement('div',{className:o},this.props.label,this.props.annotation,this.props.helpLink)),r="_4jcj _420a",s=h.createElement('div',{'aria-labelledby':p,className:r},this.props.children),t=j(this.props.className,"_4jch"+(' '+"_420b")+(!!this.props.vertical?' '+"_1djm":'')),u=h.createElement('div',{className:t},q,s);if(this.props.rowRenderer)u=this.props.rowRenderer(u,q,s);return u;}});f.exports=m;},null);
__d('InfoTableSeparator.react',['React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.PropTypes,l=h.createClass({displayName:'InfoTableSeparator',propTypes:{columns:k.oneOf([2,3])},getDefaultProps:function(){return {columns:2};},render:function(){return (h.createElement('tr',babelHelpers['extends']({},this.props,{className:j(this.props.className,"_3sto")}),h.createElement('td',{colSpan:this.props.columns},h.createElement('hr',null))));}});f.exports=l;},null);
__d('InfoTableSection.react',['InfoTableSeparator.react','React','ReactChildren'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=i.PropTypes,l=i.createClass({displayName:'InfoTableSection',propTypes:{border:k.bool,columns:k.oneOf([2,3])},getDefaultProps:function(){return {columns:2};},render:function(){var m=j.map(this.props.children,function(o){if(o)return i.cloneElement(o,{columns:this.props.columns});return o;},this),n=null;if(this.props.border)n=i.createElement(h,{columns:this.props.columns});return (i.createElement('tbody',this.props,m,n));}});f.exports=l;},null);
__d('AdsInfoTableSection.react',['InfoTableSection.react','React','ReactChildren','cx'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=i.createClass({displayName:'AdsInfoTableSection',render:function(){return (i.createElement('div',{className:"_2d0v"},this.props.children));}});f.exports=l;},null);
__d('AdsCommonTargetingInterestsEditor',['AdsCFHelpLink.react','AdsCommonTargetingActions','AdsCommonTargetingSectionMixin','AdsCommonTargetingStore','AdsTargetingSectionsLabels','Bootloader','AdsInfoTable.react','AdsInfoTableRow.react','AdsInfoTableSection.react','React','cx','fbt','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=16,v=q.PropTypes,w=q.createClass({displayName:'AdsCommonTargetingInterestsEditor',mixins:[j],propTypes:{accountID:v.string,targetingID:v.string.isRequired,config:v.object,extraData:v.object,rowRenderer:v.func},getDefaultProps:function(){return {extraData:{}};},componentWillMount:function(){m.loadModules(["AdsSearchBrowseInterests.react"],this.updateSectionEditor);},_getObjective:function(){return this.getConfigValue(this.getConfigValue(this.props.extraData,'objectiveData',{}),'objective','');},_getDestinationID:function(){return this.getConfigValue(this.getConfigValue(this.props.extraData,'destinationData',{}),'destinationID','');},renderSectionEditor:function(){!this.props.extraData.dao?t(0):undefined;var x=this.getSectionEditor(),y=this.props.targetingID,z=this.props.interestData||k.getValue('interests',y)||[],aa=this.getDefaultTooltip()||[s._("Facebook can help you reach specific audiences by looking at their interests, activities, the Pages they have liked and closely related topics."),s._("Combine interests to expand your ad's reach.")],ba=this.getConfigValue(this.props.config.customProperties,'showReach',true),ca=this.getConfigValue(this.props.config.customProperties,'showWhiteBox',true),da=this.getConfigValue(this.props.config.customProperties,'showSuggestionWhiteBox',true),ea=this.getConfigValue(this.props.config.customProperties,'retrievePrefillSuggestions',false),fa=ea?this._getDestinationID():'',ga=ea?this._getObjective():null,ha=this.getConfigValue(this.props.config.customProperties,'useAudienceInterests',false),ia=ha,ja=ia?u:null;return (q.createElement('div',{style:{width:this.getDefaultWidth()}},q.createElement(n,{oneColumn:this.props.extraData.oneColumn,sectionborders:false},q.createElement(p,{className:"_5w17"},q.createElement(o,{helpLink:q.createElement(h,this.props.extraData.tooltip,aa),label:l.interests,rowRenderer:this.props.rowRenderer,useColon:false},q.createElement(x,{accountID:this.props.accountID,dao:this.props.extraData.dao,deltaObjectID:y,destinationID:fa,enableExceedMaxInterestsWarning:ia,interests:z,maxInterestsCount:ja,objective:ga,ref:'unifiedInterestsTargetingComponent',retrievePrefillSuggestions:ea,showReach:ba,showSuggestionWhiteBox:da,showWhiteBox:ca,size:this.props.size,useAudienceInterests:ha,onUpdateInterests:function(ka){i.changeInterests(ka,y);}}))))));}});f.exports=w;},null);
__d('AdsCommonTargetingLanguagesEditor',['AdsCommonTargetingActions','AdsCommonTargetingSectionMixin','AdsCommonTargetingStore','Bootloader','React','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=l.PropTypes,o=l.createClass({displayName:'AdsCommonTargetingLanguagesEditor',mixins:[i],propTypes:{targetingID:n.string.isRequired,config:n.object,extraData:n.object,rowRenderer:n.func},getDefaultProps:function(){return {extraData:{}};},componentWillMount:function(){k.loadModules(["AdsTargetingLanguagesEditor.react"],this.updateSectionEditor);},renderSectionEditor:function(){!this.props.extraData.dao?m(0):undefined;var p=this.getSectionEditor(),q=this.props.targetingID,r=this.getConfigValue(this.props.config.customProperties,'languageSort');return (l.createElement(p,{changeLanguages:function(s){return h.changeLanguages(s,q);},dao:this.props.extraData.dao,insightsLink:this.props.extraData.insightsLink,languageError:this.props.extraData.languageError,languageSort:r,locales:j.getValue('locales',q)||[],oneColumn:this.props.extraData.oneColumn,rowRenderer:this.props.rowRenderer,size:this.props.size,width:this.getDefaultWidth()}));}});f.exports=o;},null);
__d('AdsCommonTargetingLoadSpec',['AdsCommonTargetingActions','AdsCommonTargetingApiTransformer','AdsCommonTargetingSectionMixin','Bootloader','React','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=l.PropTypes,o=l.createClass({displayName:'AdsCommonTargetingLoadSpec',mixins:[j],propTypes:{targetingID:n.string.isRequired,config:n.object,extraData:n.object,rowRenderer:n.func},getDefaultProps:function(){return {extraData:{}};},componentWillMount:function(){k.loadModules(["AdsTargetingLoadSpec"],this.updateSectionEditor);},_loadApiSpec:function(p){var q=i.fromApi(p,this.props.extraData.apiTranformerBehaviors);h.updateStoreFromUI(q,this.props.targetingID);},_subscribeApiChange:function(p){return this.props.extraData.controller.subscribeApiChange(p);},renderSectionEditor:function(){var p=this.getSectionEditor();!this.props.extraData.dao?m(0):undefined;return (l.createElement(p,{accountID:this.props.extraData.accountID,dao:this.props.extraData.dao,loadApiSpec:this._loadApiSpec,oneColumn:this.props.extraData.oneColumn,rowRenderer:this.props.rowRenderer,subscribeApiChange:this._subscribeApiChange,width:this.getDefaultWidth()}));}});f.exports=o;},null);
__d('AdsCommonTargetingLocationEditorV2',['AdsCommonTargetingActions','AdsCommonTargetingSectionMixin','AdsCommonTargetingStore','LocationConstants','Bootloader','React','Set','adsGKCheck','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=m.PropTypes,r=m.createClass({displayName:'AdsCommonTargetingLocationEditorV2',mixins:[i],propTypes:{accountID:q.string,config:q.object.isRequired,extraData:q.object.isRequired,locationTypeSelectorSize:q.string,targetingID:q.string.isRequired},componentWillMount:function(){l.loadModules(["AdsTargetingLocationSectionEditor"],this.updateSectionEditor);},renderSectionEditor:function(){!this.props.extraData.dao?p(0):undefined;var s=this.getSectionEditor(),t=this.getConfigValue(this.props.config.customProperties,'allowedCountryList',[]),u=this.getConfigValue(this.props.config.customProperties,'disallowedCountryList',[]),v=this.getConfigValue(this.props.config.customProperties,'disableAddBulkLocations',false),w={disallowCountries:k.COUNTRIES,disallowRegions:k.REGIONS,disallowDMA:k.GEO_MARKETS,disallowCities:k.CITIES,disallowElectoralDistricts:k.ELECTORAL_DISTRICTS,disallowZips:k.ZIPS,disallowPlaces:k.PLACES,disallowAddress:k.CUSTOM_LOCATIONS},x=new n();Object.keys(w).forEach(function(ia){if(this.getConfigValue(this.props.config.customProperties,ia,false))x.add(w[ia]);}.bind(this));if(!o('gk_ads_geo_electoral_district'))x.add(k.ELECTORAL_DISTRICTS);var y=this.getConfigValue(this.props.config.customProperties,'showLocationTypeSelector',true),z=this.getConfigValue(this.props.config.customProperties,'defaultLocationTypes',k.DEFAULT_LOCATION_TYPES),aa=this.getConfigValue(this.props.config.customProperties,'radiusType',null),ba=this.getConfigValue(this.props.config.customProperties,'shouldGetSuggestedRadius',false),ca=this.getConfigValue(this.props.config.customProperties,'enableMap'),da=this.getConfigValue(this.props.config.customProperties,'onlyInclusion',false),ea=this.getConfigValue(this.props.config.customProperties,'page',null),fa=this.getConfigValue(this.props.config.customProperties,'shouldShowPageLocationSuggestion',false);k.setDefaultLocationTypes(z);var ga=this.props.targetingID,ha=this.getDefaultTooltip();return (m.createElement(s,babelHelpers['extends']({},this.props.extraData.tooltip,{allowedCountryList:t,dao:this.props.extraData.dao,disableAddBulkLocations:v,disallowedCountryList:u,disallowedLocationTypes:x,enableMap:ca,excludedGeoLocations:j.getValue('excludedGeoLocations',ga)||{},geoLocations:j.getValue('geoLocations',ga)||{},locationTypeSelectorSize:this.props.locationTypeSelectorSize,oneColumn:this.props.extraData.oneColumn,onlyInclusion:da,page:ea,radiusType:aa,rowRenderer:this.props.rowRenderer,shouldGetSuggestedRadius:ba,shouldShowPageLocationSuggestion:fa,showLocationTypeSelector:y,tooltip:ha,onLocationTypesChange:function(ia){h.changeGeoLocations({location_types:ia},null,ga);},onLocationsChange:function(ia,ja){h.changeGeoLocations(ia,ja,ga);}})));}});f.exports=r;},null);
__d("AdsStrings",["fbt"],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={MixedFormatEditWarning:h._("Your selection has multiple objectives, ad formats, or options that can't be edited together. As a result, not all options are available to edit for this selection."),MixedValuePlaceholder:h._("Mixed Values"),MixedVisibilityFieldWarning:h._("This field is not applicable for some of the selected ads. Change your selection to edit this field."),UntitledAdPlaceholder:h._("[Untitled]"),UntitledCampaignPlaceholder:h._("[Untitled]")};f.exports=i;},null);
__d('AdsCommonTargetingLocationUnavailableEditor',['AdsInfoTable.react','AdsInfoTableRow.react','AdsInfoTableSection.react','AdsStrings','React','XUINotice.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';var p,q;if(c.__markCompiled)c.__markCompiled();var r=l.Component,s=l.PropTypes;p=babelHelpers.inherits(t,r);q=p&&p.prototype;t.prototype.render=function(){var u="_3lmq uiContextualLayerParent";return (l.createElement(h,{oneColumn:this.props.extraData.oneColumn,sectionborders:false},l.createElement(j,{className:"_5w17"},l.createElement(i,{className:"_2x2o",label:o._("Locations"),noUIContextualLayerParent:true,rowRenderer:this.props.rowRenderer,useColon:false},l.createElement('div',{className:u},l.createElement(m,{size:'small'},k.MixedFormatEditWarning))))));};function t(){p.apply(this,arguments);}t.propTypes={extraData:s.object,rowRenderer:s.func};f.exports=t;},null);
__d('AdsCommonTargetingMapLocationEditor',['AdsCommonTargetingActions','AdsCommonTargetingSectionMixin','AdsCommonTargetingStore','AdsCommonTargetingUtils','Bootloader','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=m.PropTypes,o=m.createClass({displayName:'AdsCommonTargetingMapLocationEditor',mixins:[i],propTypes:{size:n.string,targetingID:n.string.isRequired,rowRenderer:n.func,extraData:n.object},getDefaultProps:function(){return {size:'large',extraData:{}};},componentWillMount:function(){l.loadModules(["AdsTargetingMapLocationEditor"],this.updateSectionEditor);},renderSectionEditor:function(){var p=this.getSectionEditor(),q=this.props.targetingID,r=j.getCustomLocationOrDefaultStateForUI(q);if(k.isLatLonString(r.address_string)||r.address_string==='(null, null)'){r=babelHelpers['extends']({},r);delete r.address_string;}var s=this.getConfigValue(this.props.config.customProperties,'mapHeight'),t=this.getConfigValue(this.props.config.customProperties,'mapWidth');s=s?s-2:s;t=t?t-2:t;return (m.createElement(p,{address:r,defaultCountry:this.props.extraData.defaultCountry,height:s,oneColumn:this.props.extraData.oneColumn,rowRenderer:this.props.rowRenderer,size:this.props.size,targetingID:q,width:t,onAddressChanged:this._onAddressChanged,onRadiusChanged:this._onRadiusChanged,onTargetingAreaCenterChange:this._onTargetingAreaCenterChange}));},_onAddressChanged:function(p){h.changeCustomLocation(p,this.props.targetingID);},_onRadiusChanged:function(p){h.changeLocalGeoRadius(p,this.props.targetingID);},_onTargetingAreaCenterChange:function(p){h.changeCustomLocationCenter(p,this.props.targetingID);}});f.exports=o;},null);
__d('AdsCommonTargetingMobilePlatformEditor',['AdsCommonTargetingActions','AdsCommonTargetingSectionMixin','AdsCommonTargetingStore','AdsTargetingMobilePlatformEditorConfig','Bootloader','React','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=m.PropTypes,p=m.createClass({displayName:'AdsCommonTargetingMobilePlatformEditor',mixins:[i],propTypes:{targetingID:o.string.isRequired,config:o.object,extraData:o.object,rowRenderer:o.func},getDefaultProps:function(){return {extraData:{}};},componentWillMount:function(){l.loadModules(["AdsTargetingMobilePlatformEditor.react"],this.updateSectionEditor);},renderSectionEditor:function(){!this.props.extraData.objectiveData?n(0):undefined;var q=this.getConfigValue(this.props.config.customProperties,'shouldHideMinOsOption',false),r=k.AllowMaxOSVersionTargeting,s=this.getSectionEditor(),t=this.props.targetingID;return (m.createElement(s,{actions:{changeWifiOnly:function(u){h.changeWifiOnly(u,t);},changeIOSDevices:function(u){h.changeIOSDevices(u,t);},changeMinIOSVersion:function(u){h.changeMinIOSVersion(u,t);},changeMaxIOSVersion:function(u){h.changeMaxIOSVersion(u,t);},changeMinAndroidVersion:function(u){h.changeMinAndroidVersion(u,t);},changeMaxAndroidVersion:function(u){h.changeMaxAndroidVersion(u,t);},changeMinWindowsVersion:function(u){h.changeMinWindowsVersion(u,t);},changeMaxWindowsVersion:function(u){h.changeMaxWindowsVersion(u,t);},changeAndroidDeviceGroup:function(u){h.changeAndroidDeviceGroup(u,t);}},objectiveData:this.props.extraData.objectiveData,oneColumn:this.props.extraData.oneColumn,rowRenderer:this.props.rowRenderer,shouldHideMinOsOption:q,shouldShowMaxOsOption:r,targetingData:{mobileDevices:j.getValue('mobileDevices',t),minAndroidVersion:j.getValue('minAndroidVersion',t),maxAndroidVersion:j.getValue('maxAndroidVersion',t),minIosVersion:j.getValue('minIosVersion',t),maxIosVersion:j.getValue('maxIosVersion',t),minWindowsVersion:j.getValue('minWindowsVersion',t),maxWindowsVersion:j.getValue('maxWindowsVersion',t),mobileOperatingSystem:j.getValue('mobileOperatingSystem',t),wifiOnly:j.getValue('wifiOnly',t)},width:this.getDefaultWidth()}));}});f.exports=p;},null);
__d('AdsCommonTargetingSaveSpec',['AdsCommonTargetingApiTransformer','AdsCommonTargetingSectionMixin','Bootloader','React','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=k.PropTypes,n=k.createClass({displayName:'AdsCommonTargetingSaveSpec',mixins:[i],propTypes:{targetingID:m.string.isRequired,config:m.object,extraData:m.object,rowRenderer:m.func},getDefaultProps:function(){return {extraData:{}};},componentWillMount:function(){j.loadModules(["AdsTargetingSaveSpec"],this.updateSectionEditor);},renderSectionEditor:function(){var o=this.getSectionEditor();!this.props.extraData.dao?l(0):undefined;var p=h.toApi(this.props.targetingID);return (k.createElement(o,{dao:this.props.extraData.dao,oneColumn:this.props.extraData.oneColumn,rowRenderer:this.props.rowRenderer,targetingApiSpec:p,width:this.getDefaultWidth()}));}});f.exports=n;},null);
__d('AdsCommonTargetingSentences',['AdsCommonTargetingApiTransformer','AdsCommonTargetingSectionMixin','Bootloader','React','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=k.PropTypes,n=k.createClass({displayName:'AdsCommonTargetingSentences',mixins:[i],propTypes:{targetingID:m.string.isRequired,config:m.object,extraData:m.object},componentWillMount:function(){j.loadModules(["TargetingSentences.react"],this.updateSectionEditor);},renderSectionEditor:function(){var o=this.getSectionEditor();!this.props.extraData.dao?l(0):undefined;!this.props.extraData.accountID?l(0):undefined;return (k.createElement(o,{accountID:this.props.extraData.accountID,dao:this.props.extraData.dao,targetingApiSpec:h.toApi(this.props.targetingID)}));}});f.exports=n;},null);
__d('AdsCommonTargetingSimpleDemographicsDropdownEditor.react',['AdsCommonTargetingActions','AdsCommonTargetingSectionMixin','AdsCommonTargetingStore','Bootloader','React','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=l.PropTypes,o=l.createClass({displayName:'AdsCommonTargetingSimpleDemographicsDropdownEditor',mixins:[i],propTypes:{accountID:n.string.isRequired,targetingID:n.string.isRequired,config:n.object,rowRenderer:n.func,extraData:n.object},getDefaultProps:function(){return {extraData:{},config:{}};},componentWillMount:function(){k.loadModules(["AdsTargetingSimpleDemographicsDropdownEditor.react"],this.updateSectionEditor);},renderSectionEditor:function(){var p=this.getSectionEditor();!(this.props.extraData&&this.props.extraData.dao)?m(0):undefined;var q=this.getConfigValue(this.props.config&&this.props.config.customProperties,'filterPartnerData',false),r=this.props.targetingID,s=function(y){return function(z){return y(z,r);};},t=this.props.extraData&&this.props.extraData.dao?this.props.extraData.dao:{},u=this.props.extraData&&this.props.extraData.oneColumn?this.props.extraData.oneColumn:false,v=this.getConfigValue(this.props.config&&this.props.config.customProperties,'showWhiteBox',true),w=this.getConfigValue(this.props.config&&this.props.config.customProperties,'canSeeCompleteList',false),x=this.getConfigValue(this.props.config&&this.props.config.customProperties,'useTargetingAsFilter',false);return (l.createElement(p,{accountID:this.props.accountID,actions:{changeRelationshipStatuses:s(h.changeRelationshipStatuses),changeEducationStatuses:s(h.changeEducationStatuses),changeEducationSchools:s(h.changeEducationSchools),changeEducationMajors:s(h.changeEducationMajors),changeMaxGradYear:s(h.changeMaxGradYear),changeMinGradYear:s(h.changeMinGradYear),changeTargetAllGraduationYears:s(h.changeTargetAllGraduationYears),changeWorkEmployers:s(h.changeWorkEmployers),changeWorkPositions:s(h.changeWorkPositions),changeIndustries:s(h.changeIndustries),changeFamilyStatuses:s(h.changeFamilyStatuses),changeLifeEvents:s(h.changeLifeEvents),changeGeneration:s(h.changeGeneration),changeEthnicAffinity:s(h.changeEthnicAffinity),changePolitics:s(h.changePolitics)},canSeeCompleteList:w,dao:t,filterPartnerData:q,oneColumn:u,rowRenderer:this.props.rowRenderer,showWhiteBox:v,size:this.props.size,targetingData:{relationshipStatuses:j.getValue('relationshipStatuses',r),educationStatuses:j.getValue('educationStatuses',r),educationSchools:j.getValue('educationSchools',r),educationMajors:j.getValue('educationMajors',r),targetAllGraduationYears:j.getValue('targetAllGraduationYears',r),maxGradYear:j.getValue('maxGradYear',r),minGradYear:j.getValue('minGradYear',r),workEmployers:j.getValue('workEmployers',r),workPositions:j.getValue('workPositions',r),industries:j.getValue('industries',r),familyStatuses:j.getValue('familyStatuses',r),lifeEvents:j.getValue('lifeEvents',r),ethnicAffinity:j.getValue('ethnicAffinity',r),generation:j.getValue('generation',r),politics:j.getValue('politics',r)},useTargetingAsFilter:x,width:this.getDefaultWidth()}));}});f.exports=o;},null);
__d('AdsUnifiedFlexibleTargetingEditor',['AdsCommonTargetingActions','AdsCommonTargetingSectionMixin','AdsCommonTargetingStore','AdsFlexibleTargetingConstants','Bootloader','React','dotAccess'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=m.PropTypes,p=m.createClass({displayName:'AdsUnifiedFlexibleTargetingEditor',mixins:[i],propTypes:{config:o.object,extraData:o.shape({accountID:o.string.isRequired,campaignIDs:o.array,dao:o.object.isRequired,destinationData:o.shape({destinationID:o.string}),objectiveData:o.shape({objective:o.string}),promotedObject:o.object}).isRequired,isMixedState:o.bool.isRequired,rowRenderer:o.func,targetingID:o.string.isRequired},getDefaultProps:function(){return {extraData:{}};},componentWillMount:function(){l.loadModules(["AdsTargetingFlexibleTargetingEditorNew.react"],this.updateSectionEditor);},renderSectionEditor:function(){var q=this.getSectionEditor(),r=this._getTargetingData();return (m.createElement(q,{accountID:this.props.extraData.accountID,campaignIDs:this.props.extraData.campaignIDs,dao:this.props.extraData.dao,destinationID:this._getDestination(),objective:this._getObjective(),oneColumn:this.props.extraData.oneColumn,promotedObject:this.props.extraData.promotedObject,rowRenderer:this.props.rowRenderer,shouldPrefetchInterests:this._shouldPrefetchInterests(),targetingData:r,targetingID:this.props.targetingID,width:this.getDefaultWidth(),onTargetingChange:this._handleTargetingChanged}));},_getDestination:function(){return n(this.props.extraData,'destinationData.destinationID');},_getObjective:function(){return n(this.props.extraData,'objectiveData.objective');},_shouldPrefetchInterests:function(){return !!n(this.props.config,'customProperties.retrievePrefillSuggestions');},_handleTargetingChanged:function(q){h.changeFlexibleSpec(q,this.props.targetingID);},_getTargetingData:function(){if(this.props.isMixedState)return {flexibleSpec:[]};var q=j.getValue('flexibleSpec',this.props.targetingID);if(!q||q.length===0)q=this._getDefaultSpec();return {flexibleSpec:q};},_getDefaultSpec:function(){return [{type:k.ITEM_TYPE.INCLUDE_ANY}];}});f.exports=p;},null);
__d('FeedCommonTargetingTimezonesEditor',['AdsCommonTargetingActions','AdsCommonTargetingSectionMixin','AdsCommonTargetingStore','Bootloader','React','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=l.PropTypes,o=l.createClass({displayName:'FeedCommonTargetingTimezonesEditor',mixins:[i],propTypes:{targetingID:n.string.isRequired,config:n.object,extraData:n.object,rowRenderer:n.func},getDefaultProps:function(){return {extraData:{}};},componentWillMount:function(){k.loadModules(["FeedTargetingTimezonesEditor.react"],this.updateSectionEditor);},renderSectionEditor:function(){!this.props.extraData?m(0):undefined;var p=this.props.extraData&&this.props.extraData.oneColumn?this.props.extraData.oneColumn:false,q=this.getSectionEditor(),r=this.props.targetingID;return (l.createElement(q,{changeTimezones:function(s){return h.changeTimezones(s,r);},oneColumn:p,rowRenderer:this.props.rowRenderer,size:this.props.size,timezones:j.getValue('timezones',r)||[],timezoneSort:this.props.config&&this.props.config.timezoneSort,width:this.getDefaultWidth()}));}});f.exports=o;},null);
__d('MAdsCommonTargetingExampleView',['AdsCommonTargetingActions','AdsCommonTargetingStore','React','SubscriptionsHandler'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=j.PropTypes,m=j.createClass({displayName:'MAdsCommonTargetingExampleView',propTypes:{targetingID:l.string.isRequired},componentDidMount:function(){this._subscriptions=new k();this._subscriptions.addSubscriptions(i.subscribe('change',function(){var n=i.getChangedTargetingID();if(n===this.props.targetingID)this.forceUpdate();}.bind(this)));},componentWillUnmount:function(){this._subscriptions.release();},render:function(){var n=i.getValue('ageMin',this.props.targetingID)||'unknown';return (j.createElement('div',null,j.createElement('p',null,j.createElement('b',null,' Render a mobile view here. ')),j.createElement('p',null,'The minimal age is ',n,'.'),j.createElement('p',null,j.createElement('a',{href:'#',onClick:this._onClick},'This is a link, click to change the min age'))));},_onClick:function(){h.changeAgeMin(25,this.props.targetingID);}});f.exports=m;},null);
__d('AdsTargetingTExActions',['AdsDispatcher','AdsTargetingTExActionTypes'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={showAdditionalTargeting:function(){h.handleUpdateFromViewAction({type:i.SHOW_ADDITIONAL_TARGETING});},hideAdditionalTargeting:function(){h.handleUpdateFromViewAction({type:i.HIDE_ADDITIONAL_TARGETING});}};f.exports=j;},null);
__d('FBMoreLink.react',['Image.react','Link.react','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=j.PropTypes,o=j.createClass({displayName:'FBMoreLink',propTypes:{allowToggle:n.bool,moreLabel:n.node,lessLabel:n.node,isInitiallyCollapsed:n.bool,isCollapsed:n.bool,onClick:n.func.isRequired},getDefaultProps:function(){var p=l._("More"),q=l._("Less");return {allowToggle:false,moreLabel:p,lessLabel:q};},getInitialState:function(){return {isCollapsed:this.props.isInitiallyCollapsed!=null?this.props.isInitiallyCollapsed:true};},onClick:function(){var p=this._isCollapsed();this.setState({isCollapsed:!p});this.props.onClick(!p);},render:function(){var p=this._isCollapsed();if(!this.props.allowToggle&&!p)return j.createElement('div',null);var q=this.props.moreLabel,r=m('/images/ui/xhp/link/more/down_caret.gif');if(!p){q=this.props.lessLabel;r=m('/images/ui/xhp/link/more/up_caret.gif');}return (j.createElement(i,babelHelpers['extends']({},this.props,{onClick:this.onClick}),j.createElement('span',{className:"_554b"},q),j.createElement(h,{className:"_554d",src:r})));},_isCollapsed:function(){return this.props.isCollapsed!=null?this.props.isCollapsed:this.state.isCollapsed;}});f.exports=o;},null);
__d('AdsTargetingExpandableLink.react',['AdsInfoTable.react','AdsInfoTableRow.react','AdsInfoTableSection.react','AdsTargetingTExActions','FBMoreLink.react','React','XUIGrayText.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';var q,r;if(c.__markCompiled)c.__markCompiled();var s=m.Component,t=m.PropTypes;q=babelHelpers.inherits(u,s);r=q&&q.prototype;function u(v){r.constructor.call(this,v);this.onClick=this.onClick.bind(this);}u.propTypes={expand:t.bool.isRequired,oneColumn:t.bool,rowRenderer:t.func,width:t.number};u.prototype.render=function(){var v=p._("Keep refining your audience");return (m.createElement('div',{style:{width:this.props.width}},m.createElement(h,{oneColumn:this.props.oneColumn,sectionborders:true},m.createElement(j,null,m.createElement(i,{rowRenderer:this.props.rowRenderer,useColon:false},m.createElement(l,{allowToggle:true,className:"_3k2d",isCollapsed:!this.props.expand,isInitiallyCollapsed:true,lessLabel:v,moreLabel:v,onClick:this.onClick}),this.$AdsTargetingExpandableLink1())))));};u.prototype.$AdsTargetingExpandableLink1=function(){return (this.props.expand?null:m.createElement(n,{display:'block'},p._("If your audience is too broad, try limiting the scope with additional targeting options.")));};u.prototype.onClick=function(){if(this.props.expand){k.hideAdditionalTargeting();}else k.showAdditionalTargeting();};f.exports=u;},null);
__d('AdsTargetingTExViewStateStore',['AdsDispatcher','FluxReduceStore','immutable','AdsTargetingTExActionTypes'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m;if(c.__markCompiled)c.__markCompiled();var n=j.Record,o=n({showAdditionalTargeting:false});l=babelHelpers.inherits(p,i);m=l&&l.prototype;p.prototype.getInitialState=function(){return new o();};p.prototype.reduce=function(q,r){var s=r.action;switch(s.type){case k.SHOW_ADDITIONAL_TARGETING:return q.set('showAdditionalTargeting',true);case k.HIDE_ADDITIONAL_TARGETING:return q.set('showAdditionalTargeting',false);default:return q;}};p.prototype.getShowAdditionalTargeting=function(){return this.getState().showAdditionalTargeting;};function p(){l.apply(this,arguments);}f.exports=new p(h);},null);
__d('AdsTargetingExpandableLinkContainer.react',['AdsTargetingExpandableLink.react','AdsTargetingTExViewStateStore','FluxContainer','React'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m;if(c.__markCompiled)c.__markCompiled();var n=k.Component;l=babelHelpers.inherits(o,n);m=l&&l.prototype;o.getStores=function(){return [i];};o.calculateState=function(){return {expand:i.getShowAdditionalTargeting()};};o.prototype.render=function(){return k.createElement(h,babelHelpers['extends']({},this.props,this.state));};function o(){l.apply(this,arguments);}f.exports=j.create(o);},null);
__d('AdsTargetingHideableContainer.react',['AdsTargetingTExViewStateStore','FluxContainer','React','cx','dotAccess'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';var m,n;if(c.__markCompiled)c.__markCompiled();var o=j.Component,p=j.PropTypes;m=babelHelpers.inherits(q,o);n=m&&m.prototype;q.propTypes={config:p.object.isRequired};q.getStores=function(){return [h];};q.calculateState=function(){return {show:h.getShowAdditionalTargeting()};};q.prototype.render=function(){var r=l(this.props.config,'customProperties.component'),s=(this.state.show?"_3ps1":'')+(!this.state.show?' '+"_3ps2":'');return (j.createElement('div',{className:s},j.createElement(r,this.props)));};function q(){m.apply(this,arguments);}f.exports=i.create(q);},null);
__d('AdsCommonTargetingViewConfigValidator',['invariant','AdsCommonTargetingViewConfig'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=i.VALID_COMPONENTS,k={validate:function(l){!(l&&l.length>0)?h(0):undefined;l.forEach(function(m){var n=m.component;!j[n]?h(0):undefined;});}};f.exports=k;},null);
__d('AdsInfoTableTextRow.react',['React','cx','joinClasses','uniqueID'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=h.createClass({displayName:'AdsInfoTableTextRow',propTypes:{annotation:l.string,helpLink:l.object,vertical:l.bool,text:l.string},getInitialState:function(){return {labelId:k()};},render:function(){var n="_44sc",o="_44sd",p=this.state.uniqueId,q=h.createElement('div',{className:n,id:p},h.createElement('div',{className:o},this.props.text,this.props.helpLink)),r="_4jcj _420a",s=h.createElement('div',{'aria-labelledby':p,className:r},this.props.children),t=j(this.props.className,"_4jch"+(' '+"_420b")+(!!this.props.vertical?' '+"_1djm":'')),u=h.createElement('div',{className:t},q,s);if(this.props.rowRenderer)u=this.props.rowRenderer(u,q,s);return u;}});f.exports=m;},null);
__d('AdsNotes.react',['React','cx'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.PropTypes,k=h.createClass({displayName:'AdsNotes',propTypes:{notes:j.string},render:function(){var l="_44sf";return (h.createElement('div',{className:l},this.props.notes));}});f.exports=k;},null);
__d('AdsSpinnerGroup.react',['CenteredContainer.react','React','XUISpinner.react','cx'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=i.createClass({displayName:'AdsSpinnerGroup',childContextTypes:{spinnerGroup:l.shape({registerLoadStart:l.func.isRequired,registerLoadEnd:l.func.isRequired}).isRequired},getChildContext:function(){return {spinnerGroup:{registerLoadStart:this._registerLoadStart,registerLoadEnd:this._registerLoadEnd}};},getInitialState:function(){return {pending:0};},_registerLoadStart:function(){this.setState(function(n){return {pending:n.pending+1};});},_registerLoadEnd:function(){this.setState(function(n){return {pending:n.pending-1};});},render:function(){var n=this.state.pending>0,o=null;if(n)o=i.createElement(h,{className:"_27oa",fullHeight:true,horizontal:true,vertical:true},i.createElement(j,{size:'large'}));return (i.createElement('div',{className:n?"_27o9":''},o,i.createElement('div',{className:n?"_27oc":''},this.props.children)));}});f.exports=m;},null);
__d('AdsCommonTargetingViewRenderer',['AdInterfacesUiLogger','AdsCommonTargetingAdvancedDemographicsDropdownEditor','AdsCommonTargetingAgeEditor','AdsCommonTargetingAppTargetEditor','AdsCommonTargetingAudienceEditor','AdsCommonTargetingBehaviorsEditor','AdsCommonTargetingCategoriesEditor','AdsCommonTargetingConnectionsEditor','AdsCommonTargetingDemographicsEditor','AdsCommonTargetingDynamicLocalLocationEditor','AdsCommonTargetingEstimatedReach','AdsCommonTargetingFlexibleTargetingEditor','AdsCommonTargetingGenderEditor','AdsCommonTargetingInterestsConnectionEditor.react','AdsCommonTargetingInterestsEditor','AdsCommonTargetingLanguagesEditor','AdsCommonTargetingLoadSpec','AdsCommonTargetingLocationEditorV2','AdsCommonTargetingLocationUnavailableEditor','AdsCommonTargetingMapLocationEditor','AdsCommonTargetingMobilePlatformEditor','AdsCommonTargetingSaveSpec','AdsCommonTargetingSentences','AdsCommonTargetingSimpleDemographicsDropdownEditor.react','AdsInfoTableTextRow.react','AdsNotes.react','AdsSpinnerGroup.react','AdsTargetingExpandableLinkContainer.react','AdsTargetingHideableContainer.react','AdsUnifiedFlexibleTargetingEditor','FeedCommonTargetingTimezonesEditor','MAdsCommonTargetingExampleView','React','XUIButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa){if(c.__markCompiled)c.__markCompiled();var ra=na.PropTypes,sa='Modular Targeting Component',ta=na.createClass({displayName:'AdsCommonTargetingViewRenderer',propTypes:{config:ra.array.isRequired,targetingID:ra.string.isRequired,extraData:ra.object},getDefaultProps:function(){return {extraData:{}};},componentDidMount:function(){if(!h.getAppName()){var ua=this.props.extraData.appName||sa;h.setAppName(ua);}h.setAccountID(this.props.extraData.accountID||'0');},render:function(){var ua=this.props.config.map(function(va,wa){var xa=va.component,ya=this.getComponent(xa,va);if(va.renderWrapper)ya=va.renderWrapper(ya);return (na.createElement('div',{className:"_26on",key:xa+wa},ya));},this);return na.createElement(ha,null,ua);},getComponent:function(ua,va){return this['_get'+ua](va);},rowRenderer:function(ua,va,wa,xa){if(this.isComponentMixedState(ua))xa=na.cloneElement(xa,{children:this._renderMixedState(ua)});return (na.createElement('div',va.props,wa,xa));},isComponentMixedState:function(ua){var va=ua.component,wa=this.props.extraData.mixedStateComponents||{};return va in wa;},_renderMixedState:function(ua){return (na.createElement('div',null,na.createElement('span',{className:"_4zk9"},qa._("Mixed State")),na.createElement(oa,{label:qa._("Reset"),size:'large',use:'confirm',onClick:this._resetMixedState.bind(this,ua)})));},_resetMixedState:function(ua){this.props.extraData.controller.clearMixedStateForComponent(ua);},_getAudienceEditor:function(ua){return (na.createElement(l,{config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));},_getDemographicsEditor:function(ua){return (na.createElement(p,{config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));},_getAgeEditor:function(ua){return (na.createElement(j,{config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));},_getGenderEditor:function(ua){return (na.createElement(t,{config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));},_getInterestsEditor:function(ua){return (na.createElement(v,{accountID:this.props.extraData.accountID||'0',config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));},_getInterestsConnectionEditor:function(ua){return (na.createElement(u,{accountID:this.props.extraData.accountID||'0',config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));},_getLanguagesEditor:function(ua){return (na.createElement(w,{config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));},_getTimezonesEditor:function(ua){return (na.createElement(la,{config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));},_getLocationEditor:function(ua){return (na.createElement(y,{accountID:this.props.extraData.accountID||'0',config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));},_getDynamicLocalLocationEditor:function(ua){return (na.createElement(q,{accountID:this.props.extraData.accountID||'0',config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));},_getLocationUnavailableEditor:function(ua){return (na.createElement(z,{extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua)}));},_getMapLocationEditor:function(ua){return (na.createElement(aa,{config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));},_getBehaviorsEditor:function(ua){return (na.createElement(m,{accountID:this.props.extraData.accountID||'0',config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));},_getCategoriesEditor:function(ua){return (na.createElement(n,{config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));},_getConnectionsEditor:function(ua){return (na.createElement(o,{config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));},_getAppTargetEditor:function(ua){return (na.createElement(k,{config:ua,extraData:this.props.extraData,targetingID:this.props.targetingID}));},_getAdvancedDemographicsDropdownEditor:function(ua){return (na.createElement(i,{accountID:this.props.extraData.accountID||'0',config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));},_getSimpleDemographicsDropdownEditor:function(ua){return (na.createElement(ea,{accountID:this.props.extraData.accountID||'0',config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));},_getInfoTableTextRow:function(ua){return (na.createElement(fa,{helpLink:this.props.extraData.helpLink,text:this.props.extraData.text}));},_getNotes:function(ua){return (na.createElement(ga,{notes:this.props.extraData.notes}));},_getMobilePlatformEditor:function(ua){return (na.createElement(ba,{config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));},_getSaveSpecComponent:function(ua){return (na.createElement(ca,{config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));},_getLoadSpecComponent:function(ua){return (na.createElement(x,{config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));},_getTargetingSentences:function(ua){return (na.createElement(da,{config:ua,extraData:this.props.extraData,targetingID:this.props.targetingID}));},_getEstimatedReach:function(ua){return (na.createElement(r,{config:ua,extraData:this.props.extraData,targetingID:this.props.targetingID}));},_getMsiteExample:function(ua){return (na.createElement(ma,{config:ua,extraData:this.props.extraData,targetingID:this.props.targetingID}));},_getSectionDivider:function(ua){return na.createElement('hr',{className:"_26or"});},_getInvisibleSectionDivider:function(ua){return na.createElement('div',{style:{height:5}});},_getFlexibleEditor:function(ua){return (na.createElement(s,{config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));},_getUnifiedFlexibleEditor:function(ua){return (na.createElement(ka,{config:ua,extraData:this.props.extraData,isMixedState:this.isComponentMixedState(ua),rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));},_getExpanableLink:function(ua){return (na.createElement(ia,{config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua)}));},_getHideableContainer:function(ua){return (na.createElement(ja,{config:ua,extraData:this.props.extraData,rowRenderer:this.rowRenderer.bind(this,ua),targetingID:this.props.targetingID}));}});f.exports=ta;},null);
__d('AdsCommonTargetingViewController.react',['AdInterfacesUiLogger','AdsCommonTargetingActions','AdsCommonTargetingApiTransformer','AdsCommonTargetingBulkApiSpecStoreInstance','AdsCommonTargetingLoggingConstant','AdsCommonTargetingStore','AdsCommonTargetingUtils','AdsCommonTargetingViewConfig','AdsCommonTargetingViewConfigValidator','AdsCommonTargetingViewRenderer','AdsEmptyValue','AdsTargetingConnectConfig','AdsUniformValue','Arbiter','React','SubscriptionsHandler','WebApiApplication','areEqual','performanceNow','AdsCommonTargetingLoggerStore','AdsCreationConfig','AdsCreationExperimentStore','CurrencyConfig','AdsDaoConfig','BonsaiConfig','CustomAudienceHashIdSchemaTypesJS','CustomAudienceSessionTypesJS','CustomAudienceSimpleIdSchemaTypesJS','DateFormatConfig','InsightsCountryNames','InsightsCurrencyNames','InsightsLocaleNames','NumberFormatConfig','adsGKCheck','AdsDaoGraph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){if(c.__markCompiled)c.__markCompiled();var aa='____common_targeting_api_spec_change',ba='____common_targeting_validation_complete',ca='____targeting_controller_change';c('AdsCommonTargetingLoggerStore');c('AdsCreationConfig');c('AdsCreationExperimentStore');c('CurrencyConfig');c('AdsDaoConfig');c('BonsaiConfig');c('CustomAudienceHashIdSchemaTypesJS');c('CustomAudienceSessionTypesJS');c('CustomAudienceSimpleIdSchemaTypesJS');c('DateFormatConfig');c('InsightsCountryNames');c('InsightsCurrencyNames');c('InsightsLocaleNames');c('NumberFormatConfig');c('adsGKCheck');var da=v.PropTypes;function ea(ga,ha){'use strict';this.$AdsCommonTargetingViewController1=null;this.$AdsCommonTargetingViewController2={};this.$AdsCommonTargetingViewController3=new w();this.$AdsCommonTargetingViewController4=ga||m.canonicalID;k.clearState(this.$AdsCommonTargetingViewController4);i.initTargetingForID(this.$AdsCommonTargetingViewController4);if(!x.getAccessToken())x.init(s.access_token,s.client_id);this.$AdsCommonTargetingViewController5={dao:ha||c('AdsDaoGraph'),controller:this};this.$AdsCommonTargetingViewController3.addSubscriptions(m.subscribe('change',function(){var ia=m.getChangedTargetingID();if(ia===this.$AdsCommonTargetingViewController4){u.inform(aa,{targetingID:this.$AdsCommonTargetingViewController4});this.validate();}}.bind(this)),k.addListener('change',function(ia){if(ia.targetingID===this.$AdsCommonTargetingViewController4)u.inform(aa,{targetingID:this.$AdsCommonTargetingViewController4});}.bind(this)));}ea.prototype.destroy=function(){'use strict';this.$AdsCommonTargetingViewController3.release();};ea.prototype.clearAllState=function(){'use strict';i.clearAllState();k.clearAllState();};ea.prototype.setApiSpec=function(ga){'use strict';if(y(ga,this.getApiSpec()))return;var ha=j.fromApi(ga,this.$AdsCommonTargetingViewController5.apiTranformerBehaviors);i.initTargetingForID(this.$AdsCommonTargetingViewController4);k.clearState(this.$AdsCommonTargetingViewController4);i.updateStoreFromExternal(ha,this.$AdsCommonTargetingViewController4);};ea.prototype.setBulkApiSpec=function(ga){'use strict';var ha=n.getMixedStateComponents(ga,this.$AdsCommonTargetingViewController1),ia=ha.newSpec,ja=ha.mixedStateComponents,ka=ha.remainingBulkSpec;this.setExtraData({mixedStateComponents:ja});var la=j.fromApi(ia,this.$AdsCommonTargetingViewController5.apiTranformerBehaviors);i.initTargetingForID(this.$AdsCommonTargetingViewController4);k.clearState(this.$AdsCommonTargetingViewController4);i.updateStoreFromExternal(la,this.$AdsCommonTargetingViewController4);i.updateBulkSpec(ka,this.$AdsCommonTargetingViewController4);};ea.prototype.getApiSpec=function(){'use strict';return j.toApi(this.$AdsCommonTargetingViewController4,this.$AdsCommonTargetingViewController5.apiTranformerBehaviors);};ea.prototype.getBulkApiSpec=function(){'use strict';var ga=j.toApi(this.$AdsCommonTargetingViewController4,this.$AdsCommonTargetingViewController5.apiTranformerBehaviors),ha={},ia=k.getState(this.$AdsCommonTargetingViewController4);Object.keys(ga).forEach(function(ja){ha[ja]=new t(ga[ja]);});Object.assign(ha,ia);return ha;};ea.prototype.clearMixedStateForComponent=function(ga){'use strict';var ha=ga.component,ia=this.$AdsCommonTargetingViewController5.mixedStateComponents||{};delete ia[ha];var ja=o.getFieldsForComponent(ha),ka=this.getBulkApiSpec();ja.forEach(function(la){var ma=ka[la];if(ma)ka[la]=r.instance();});this.setBulkApiSpec(ka);};ea.prototype.addValidators=function(ga){'use strict';ga.forEach(function(ha){this.$AdsCommonTargetingViewController2[ha.getValidationKey()]=ha;}.bind(this));};ea.prototype.setValidators=function(ga){'use strict';this.$AdsCommonTargetingViewController2={};this.addValidators(ga);};ea.prototype.subscribeValidationComplete=function(ga,ha){'use strict';var ia=u.subscribe(ba,function(ja,ka){if(ka.targetingID===this.$AdsCommonTargetingViewController4&&ga==ka.validationKey)ha(ka.result);}.bind(this));this.$AdsCommonTargetingViewController3.addSubscriptions(ia);return ia;};ea.prototype.validate=function(){'use strict';var ga=this.getApiSpec();Object.keys(this.$AdsCommonTargetingViewController2).forEach(function(ha){var ia=this.$AdsCommonTargetingViewController2[ha];ia.validate(ga).done(function(ja){return u.inform(ba,{validationKey:ia.getValidationKey(),result:ja,targetingID:this.$AdsCommonTargetingViewController4});}.bind(this));}.bind(this));};ea.prototype.subscribeApiChange=function(ga){'use strict';var ha=u.subscribe(aa,function(ia,ja){if(ja.targetingID===this.$AdsCommonTargetingViewController4)ga(this.getApiSpec());}.bind(this));this.$AdsCommonTargetingViewController3.addSubscriptions(ha);return ha;};ea.prototype.subscribeBulkApiChange=function(ga){'use strict';var ha=u.subscribe(aa,function(ia,ja){if(ja.targetingID===this.$AdsCommonTargetingViewController4)ga(this.getBulkApiSpec());}.bind(this));this.$AdsCommonTargetingViewController3.addSubscriptions(ha);return ha;};ea.prototype.setConfiguration=function(ga){'use strict';p.validate(ga);this.$AdsCommonTargetingViewController1=ga;u.inform(ca,{targetingID:this.$AdsCommonTargetingViewController4});};ea.prototype.getConfiguration=function(){'use strict';return this.$AdsCommonTargetingViewController1;};ea.prototype.setExtraData=function(ga){'use strict';Object.assign(this.$AdsCommonTargetingViewController5,ga);if(ga.ageMinLimit)i.updateStoreFromExternal({ageMinLimit:ga.ageMinLimit},this.$AdsCommonTargetingViewController4);u.inform(ca,{targetingID:this.$AdsCommonTargetingViewController4});};ea.prototype.getExtraData=function(){'use strict';return this.$AdsCommonTargetingViewController5;};ea.prototype.getTargetingID=function(){'use strict';return this.$AdsCommonTargetingViewController4;};ea.prototype.render=function(){'use strict';return v.createElement(fa,{controller:this});};var fa=v.createClass({displayName:'AdsCommonTargetingControllerWrapper',propTypes:{controller:da.instanceOf(ea).isRequired},componentWillMount:function(){this._subscriptions=new w();this._subscriptions.addSubscriptions(u.subscribe(ca,function(ga,ha){if(ha.targetingID===this.props.controller.getTargetingID())this.forceUpdate();}.bind(this)));this._startLoading=z();},componentWillUnmount:function(){this._subscriptions.release();h.log(l.SESSION_DURATION,z()-this._startLoading);},render:function(){return (v.createElement(q,{config:this.props.controller.getConfiguration(),extraData:this.props.controller.getExtraData(),targetingID:this.props.controller.getTargetingID()}));}});f.exports=ea;},null);
__d('CountryCodeMap',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={US:'United States',CA:'Canada',GB:'United Kingdom',AR:'Argentina',AU:'Australia',AT:'Austria',BE:'Belgium',BR:'Brazil',CL:'Chile',CN:'China',CO:'Colombia',HR:'Croatia',DK:'Denmark',DO:'Dominican Republic',EG:'Egypt',FI:'Finland',FR:'France',DE:'Germany',GR:'Greece',HK:'Hong Kong',IN:'India',ID:'Indonesia',IE:'Ireland',IL:'Israel',IT:'Italy',JP:'Japan',JO:'Jordan',KW:'Kuwait',LB:'Lebanon',MY:'Malaysia',MX:'Mexico',NL:'Netherlands',NZ:'New Zealand',NG:'Nigeria',NO:'Norway',PK:'Pakistan',PA:'Panama',PE:'Peru',PH:'Philippines',PL:'Poland',RU:'Russia',SA:'Saudi Arabia',RS:'Serbia',SG:'Singapore',ZA:'South Africa',KR:'South Korea',ES:'Spain',SE:'Sweden',CH:'Switzerland',TW:'Taiwan',TH:'Thailand',TR:'Turkey',AE:'United Arab Emirates',VE:'Venezuela',PT:'Portugal',LU:'Luxembourg',BG:'Bulgaria',CZ:'Czech Republic',SI:'Slovenia',IS:'Iceland',SK:'Slovakia',LT:'Lithuania',TT:'Trinidad and Tobago',BD:'Bangladesh',LK:'Sri Lanka',KE:'Kenya',HU:'Hungary',MA:'Morocco',CY:'Cyprus',JM:'Jamaica',EC:'Ecuador',RO:'Romania',BO:'Bolivia',GT:'Guatemala',CR:'Costa Rica',QA:'Qatar',SV:'El Salvador',HN:'Honduras',NI:'Nicaragua',PY:'Paraguay',UY:'Uruguay',PR:'Puerto Rico',BA:'Bosnia and Herzegovina',PS:'Palestine',TN:'Tunisia',BH:'Bahrain',VN:'Vietnam',GH:'Ghana',MU:'Mauritius',UA:'Ukraine',MT:'Malta',BS:'The Bahamas',MV:'Maldives',OM:'Oman',MK:'Macedonia',LV:'Latvia',EE:'Estonia',IQ:'Iraq',DZ:'Algeria',AL:'Albania',NP:'Nepal',MO:'Macau',ME:'Montenegro',SN:'Senegal',GE:'Georgia',BN:'Brunei',UG:'Uganda',GP:'Guadeloupe',BB:'Barbados',AZ:'Azerbaijan',TZ:'Tanzania',LY:'Libya',MQ:'Martinique',CM:'Cameroon',BW:'Botswana',ET:'Ethiopia',KZ:'Kazakhstan',NA:'Namibia',MG:'Madagascar',NC:'New Caledonia',MD:'Moldova',FJ:'Fiji',BY:'Belarus',JE:'Jersey',GU:'Guam',YE:'Yemen',ZM:'Zambia',IM:'Isle Of Man',HT:'Haiti',KH:'Cambodia',AW:'Aruba',PF:'French Polynesia',AF:'Afghanistan',BM:'Bermuda',GY:'Guyana',AM:'Armenia',MW:'Malawi',AG:'Antigua',RW:'Rwanda',GG:'Guernsey',GM:'The Gambia',FO:'Faroe Islands',LC:'St. Lucia',KY:'Cayman Islands',BJ:'Benin',AD:'Andorra',GD:'Grenada',VI:'US Virgin Islands',BZ:'Belize',VC:'Saint Vincent and the Grenadines',MN:'Mongolia',MZ:'Mozambique',ML:'Mali',AO:'Angola',GF:'French Guiana',UZ:'Uzbekistan',DJ:'Djibouti',BF:'Burkina Faso',MC:'Monaco',TG:'Togo',GL:'Greenland',GA:'Gabon',GI:'Gibraltar',CD:'Democratic Republic of the Congo',KG:'Kyrgyzstan',PG:'Papua New Guinea',BT:'Bhutan',KN:'Saint Kitts and Nevis',SZ:'Swaziland',LS:'Lesotho',LA:'Laos',LI:'Liechtenstein',MP:'Northern Mariana Islands',SR:'Suriname',SC:'Seychelles',VG:'British Virgin Islands',TC:'Turks and Caicos Islands',DM:'Dominica',MR:'Mauritania',AX:'Aland Islands',SM:'San Marino',SL:'Sierra Leone',NE:'Niger',CG:'Republic of the Congo',AI:'Anguilla',YT:'Mayotte',CV:'Cape Verde',GN:'Guinea',TM:'Turkmenistan',BI:'Burundi',TJ:'Tajikistan',VU:'Vanuatu',SB:'Solomon Islands',ER:'Eritrea',WS:'Samoa',AS:'American Samoa',FK:'Falkland Islands',GQ:'Equatorial Guinea',TO:'Tonga',KM:'Comoros',PW:'Palau',FM:'Federated States of Micronesia',CF:'Central African Republic',SO:'Somalia',MH:'Marshall Islands',VA:'Vatican City',TD:'Chad',KI:'Kiribati',ST:'Sao Tome and Principe',TV:'Tuvalu',NR:'Nauru',RE:'R\u00e9union',LR:'Liberia',ZW:'Zimbabwe',CI:'C\u00f4te d\'Ivoire',MM:'Myanmar'};f.exports=h;},null);
__d('TokenizerExampleSearchSource',['AbstractSearchSource','CountryCodeMap','SearchableEntry','filterObject','forEachObject'],function a(b,c,d,e,f,g,h,i,j,k,l){var m,n;if(c.__markCompiled)c.__markCompiled();m=babelHelpers.inherits(o,h);n=m&&m.prototype;o.prototype.searchImpl=function(p,q,r){'use strict';var s=[];r=r||{};if(p){var t=p.toLowerCase(),u=k(i,function(w){return w.toLowerCase().startsWith(t);}),v=0;l(u,function(w,x){return s.push(new j({order:v++,photo:'/images/mobile/glyph/book_blue_s.png',subtitle:w,title:w,uniqueID:x}));});}q(s,p);};function o(){'use strict';m.apply(this,arguments);}f.exports=o;},null);
__d('ReactComposerBoostedPostLazyButton.react',['Bootloader','React','ReactDOM'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=i.createClass({displayName:'ReactComposerBoostedPostLazyButton',componentDidMount:function(){h.loadModules(["BoostedPostDialogButton.react"],function(l){j.render(i.createElement(l,this.props),j.findDOMNode(this.refs.boostButtonContainer));}.bind(this));},render:function(){return (i.createElement('span',{ref:'boostButtonContainer'}));}});f.exports=k;},null);
__d('ReactComposerPagesBootloader',['Bootloader'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={statusAttachment:function(j){h.loadModules(["ReactComposerStatusAttachmentContainer.react","PagesComposerPostButton.react"],j);},mediaAttachment:function(j){h.loadModules(["ReactComposerMediaAttachmentContainer.react","PagesComposerPostButton.react"],j);},qandaAttachment:function(j){h.loadModules(["ReactComposerQAndAAttachmentContainer.react","PagesComposerPostButton.react"],j);},questionAttachment:function(j){h.loadModules(["ReactComposerQuestionAttachmentContainer.react","PagesComposerPostButton.react"],j);},extraAttachment:function(j){h.loadModules(["PagesComposerExtraAttachmentContainer.react","PagesComposerPostButton.react"],j);}};f.exports=i;},null);
__d('ReactComposerAsyncRequest',['ReactComposerActions','ReactComposerPostUtilsCore','AsyncRequest'],function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();k=babelHelpers.inherits(m,j);l=k&&k.prototype;function m(n,o){'use strict';l.constructor.call(this,o);this.$ReactComposerAsyncRequest1=n;l.setHandler.call(this,this.$ReactComposerAsyncRequest4.bind(this));l.setErrorHandler.call(this,this.$ReactComposerAsyncRequest5.bind(this));l.setFinallyHandler.call(this,this.$ReactComposerAsyncRequest6.bind(this));}m.prototype.setHandler=function(n){'use strict';this.$ReactComposerAsyncRequest2=n;return this;};m.prototype.setErrorHandler=function(n){'use strict';this.$ReactComposerAsyncRequest3=n;return this;};m.prototype.$ReactComposerAsyncRequest4=function(n){'use strict';setTimeout(function(){i.handlePostSucceeded(this.$ReactComposerAsyncRequest1);this.$ReactComposerAsyncRequest2&&this.$ReactComposerAsyncRequest2(n);}.bind(this),0);};m.prototype.$ReactComposerAsyncRequest5=function(n){'use strict';setTimeout(function(){h.postError(this.$ReactComposerAsyncRequest1,n);this.$ReactComposerAsyncRequest3&&this.$ReactComposerAsyncRequest3(n);}.bind(this),0);};m.prototype.$ReactComposerAsyncRequest6=function(n){'use strict';setTimeout(function(){return h.postFinally(this.$ReactComposerAsyncRequest1,n);}.bind(this),0);};f.exports=m;},null);
__d('ReactComposerAutosSellActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({REGISTER_AUTOS_COMPOSER:null,SAVE_YEAR:null,SAVE_ODOMETER:null,SAVE_MAKE:null,SAVE_MODEL:null,SAVE_VIN:null,SELECT_TYPEAHEAD:null,SAVE_ODOMETER_UNIT:null});},null);
__d('ReactComposerAutosSellStore.react',['Assert','ReactComposerAutosSellActionType','ReactComposerStoreBase','ReactComposerSellStore'],function a(b,c,d,e,f,g,h,i,j,k){var l,m;if(c.__markCompiled)c.__markCompiled();var n=['807311116002614','1558493264400524'],o=4,p=8,q=255,r=255,s=17;l=babelHelpers.inherits(t,j);m=l&&l.prototype;function t(){'use strict';var u;m.constructor.call(this,function(){return {showAutosForSellOptions:false,year:'',odometer:'',odometerUnits:'kilometers',make:'',model:'',vin:''};},function(v){switch(v.type){case i.SAVE_YEAR:u&&u.$ReactComposerAutosSellStore1(v);break;case i.SAVE_ODOMETER:u&&u.$ReactComposerAutosSellStore2(v);break;case i.SAVE_ODOMETER_UNIT:u&&u.$ReactComposerAutosSellStore3(v);break;case i.SAVE_MAKE:u&&u.$ReactComposerAutosSellStore4(v);break;case i.SAVE_MODEL:u&&u.$ReactComposerAutosSellStore5(v);break;case i.SAVE_VIN:u&&u.$ReactComposerAutosSellStore6(v);break;}});u=this;}t.prototype.getMaxCharactersForYear=function(u){'use strict';return o;};t.prototype.getMaxCharactersForOdometer=function(u){'use strict';return p;};t.prototype.getMaxCharactersForMake=function(u){'use strict';return q;};t.prototype.getMaxCharactersForModel=function(u){'use strict';return r;};t.prototype.getNumCharactersForVIN=function(u){'use strict';return s;};t.prototype.getYear=function(u){'use strict';return this.getComposerData(u).year;};t.prototype.getOdometerValue=function(u){'use strict';return this.getComposerData(u).odometer;};t.prototype.getMake=function(u){'use strict';return this.getComposerData(u).make;};t.prototype.getModel=function(u){'use strict';return this.getComposerData(u).model;};t.prototype.getVIN=function(u){'use strict';return this.getComposerData(u).vin;};t.prototype.getCategoryInfo=function(u){'use strict';h.isTruthy(n.length>0,'Constant has an unexpected value');var v=n[0],w=k.getCategoryTextForID(u,v);if(w&&w.length>0)return [v,w];return null;};t.prototype.getOdometerUnits=function(u){'use strict';return this.getComposerData(u).odometerUnits;};t.prototype.isUnitSelected=function(u){'use strict';return !!this.getComposerData(u).saveOdometerUnit;};t.prototype.isYearSelected=function(u){'use strict';return !!this.getComposerData(u).saveYear;};t.prototype.showAutosSpecificFields=function(u){'use strict';var v=k.getCategoryID(u);return v!==null&&n.indexOf(v)!==-1&&k.showAutosForSellOptions(u);};t.prototype.$ReactComposerAutosSellStore2=function(u){'use strict';var v=this.validateAction(u,['composerID','odometer']),w=v[0],x=v[1];if(/^\d*$/.test(x)&&x.length<=p){var y=this.getComposerData(w),z=parseInt(x.substring(0,p),10);y.odometer=z>0?z+'':'';this.emitChange(w);}};t.prototype.$ReactComposerAutosSellStore1=function(u){'use strict';var v=this.validateAction(u,['composerID','year']),w=v[0],x=v[1];if(x===''||/^[1-2][0-9]{0,3}$/.test(x)){var y=this.getComposerData(w);y.year=x;this.emitChange(w);}};t.prototype.$ReactComposerAutosSellStore4=function(u){'use strict';var v=this.validateAction(u,['composerID','make']),w=v[0],x=v[1],y=this.getComposerData(w);y.make=x.substring(0,q);this.emitChange(w);};t.prototype.$ReactComposerAutosSellStore5=function(u){'use strict';var v=this.validateAction(u,['composerID','model']),w=v[0],x=v[1],y=this.getComposerData(w);y.model=x.substring(0,r);this.emitChange(w);};t.prototype.$ReactComposerAutosSellStore6=function(u){'use strict';var v=this.validateAction(u,['composerID','vin']),w=v[0],x=v[1];if(/^[0-9a-zA-Z]*$/.test(x)&&x.length<=s){var y=this.getComposerData(w);y.vin=x.toUpperCase();this.emitChange(w);}};t.prototype.$ReactComposerAutosSellStore3=function(u){'use strict';var v=this.validateAction(u,['composerID','odometerUnit']),w=v[0],x=v[1],y=this.getComposerData(w);y.odometerUnit=x;this.emitChange(w);};f.exports=new t();},null);
__d('ReactComposerFileActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({RESET:null,SAVE_DROPBOX_FILE:null,SAVE_FILE:null,SET_FILE_CONFIG:null});},null);
__d('ReactComposerFileStore',['ReactComposerFileActionType','ReactComposerStoreBase','fbt'],function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();k=babelHelpers.inherits(m,i);l=k&&k.prototype;function m(){'use strict';var n;l.constructor.call(this,function(){return {dialogAppURL:null,dropboxActionEndpoint:null,dropboxAppID:null,dropboxEnabled:null,dropboxFileID:null,file:null,maxFileUploadString:null,selectedDropboxFileName:n&&n.$ReactComposerFileStore1(),selectedFileName:n&&n.$ReactComposerFileStore1()};},function(o){switch(o.type){case h.RESET:n&&n.$ReactComposerFileStore2(o);break;case h.SAVE_DROPBOX_FILE:n&&n.$ReactComposerFileStore3(o);break;case h.SAVE_FILE:n&&n.$ReactComposerFileStore4(o);break;case h.SET_FILE_CONFIG:n&&n.$ReactComposerFileStore5(o);break;}});n=this;}m.prototype.getDialogAppURL=function(n){'use strict';return this.getComposerData(n).dialogAppURL;};m.prototype.getDropboxActionEndpoint=function(n){'use strict';return this.getComposerData(n).dropboxActionEndpoint;};m.prototype.getDropboxAppID=function(n){'use strict';return this.getComposerData(n).dropboxAppID;};m.prototype.getDropboxEnabled=function(n){'use strict';return this.getComposerData(n).dropboxEnabled;};m.prototype.getDropboxFileID=function(n){'use strict';return this.getComposerData(n).dropboxFileID;};m.prototype.getFile=function(n){'use strict';return this.getComposerData(n).file;};m.prototype.getMaxFileUploadSize=function(n){'use strict';return this.getComposerData(n).maxFileUploadSize;};m.prototype.getMaxFileUploadString=function(n){'use strict';return this.getComposerData(n).maxFileUploadString;};m.prototype.getSelectedDropboxFileName=function(n){'use strict';return this.getComposerData(n).selectedDropboxFileName;};m.prototype.getSelectedFileName=function(n){'use strict';return this.getComposerData(n).selectedFileName;};m.prototype.getURI=function(n){'use strict';return this.hasFile(n)?'/ajax/groups/files/upload':'/ajax/groups/files/dropbox_publish';};m.prototype.hasDropboxFile=function(n){'use strict';return !!this.getComposerData(n).dropboxFileID;};m.prototype.hasFile=function(n){'use strict';return !!this.getComposerData(n).file;};m.prototype.isFileSelected=function(n){'use strict';var o=this.getComposerData(n);return !!o.file||!!o.dropboxFileID;};m.prototype.$ReactComposerFileStore1=function(){'use strict';return j._("No file chosen");};m.prototype.$ReactComposerFileStore2=function(n){'use strict';var o=this.validateAction(n,'composerID'),p=this.getComposerData(o);p.file=p.dropboxFileID=null;p.selectedFileName=p.selectedDropboxFileName=this.$ReactComposerFileStore1();this.emitChange(n.composerID);};m.prototype.$ReactComposerFileStore3=function(n){'use strict';var o=this.validateAction(n,['composerID','id','name']),p=o[0],q=o[1],r=o[2],s=this.getComposerData(p);s.dropboxFileID=q;s.selectedDropboxFileName=r;this.emitChange(p);};m.prototype.$ReactComposerFileStore4=function(n){'use strict';var o=this.validateAction(n,['composerID','file','name']),p=o[0],q=o[1],r=o[2],s=this.getComposerData(p);s.file=q;s.selectedFileName=r;this.emitChange(n.composerID);};m.prototype.$ReactComposerFileStore5=function(n){'use strict';var o=this.validateAction(n,['composerID','config']),p=o[0],q=o[1],r=this.getComposerData(p);r.dialogAppURL=q.dialogAppURL;r.dropboxActionEndpoint=q.dropboxActionEndpoint;r.dropboxAppID=q.dropboxAppID;r.dropboxEnabled=q.dropboxEnabled;r.maxFileUploadSize=q.maxFileUploadSize;r.maxFileUploadString=q.maxFileUploadString;this.emitChange(n.composerID);};f.exports=new m();},null);
__d('PhotoEditorSaveStates',['requireWeak','Map'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j;h('PhotoEditorGraphic',function(n){j=n.Sticker;});var k=new i(),l=new i(),m={setState:function(n,o){k.set(n,o);},getState:function(n){return k.get(n);},setLoggingData:function(n,o){l.set(n,o);},getLoggingData:function(n){return l.get(n);},getTotalNumOfStickersOnPhoto:function(n){if(k.get(n))return k.get(n).graphics.filter(function(o){return j&&o.type===j;}).length;return 0;}};f.exports=m;},null);
__d('ReactComposerPhotoUpload',['immutable'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h.Record({id:null,error:{},filename:null,fileUpload:null,photoID:null,originalPhotoID:null,progress:null,state:null,xyTags:[]});},null);
__d('ReactComposerPhotoUploadState',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={PHOTO_UPLOAD_ENQUEUED:'PHOTO_UPLOAD_ENQUEUED',PHOTO_UPLOAD_RESIZE_STARTED:'PHOTO_UPLOAD_RESIZE_STARTED',PHOTO_UPLOAD_RESIZE_DONE:'PHOTO_UPLOAD_RESIZE_DONE',PHOTO_UPLOAD_RESIZE_FAILED:'PHOTO_UPLOAD_RESIZE_FAILED',PHOTO_UPLOAD_UPLOADING:'PHOTO_UPLOAD_UPLOADING',PHOTO_UPLOAD_DONE:'PHOTO_UPLOAD_DONE',PHOTO_UPLOAD_FAILED:'PHOTO_UPLOAD_FAILED'};},null);
__d('ReactComposerPhotoUploadStore',['ReactComposerPhotoActionType','ReactComposerPhotoUploadActionType','ReactComposerDispatcher','ReactComposerPhotoStore','ReactComposerPhotoUploadState','ReactComposerStoreBase','ReactComposerPhotoUpload','immutable','PhotoEditorSaveStates'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q,r;if(c.__markCompiled)c.__markCompiled();q=babelHelpers.inherits(s,m);r=q&&q.prototype;function s(){'use strict';var t;r.constructor.call(this,function(){return {removedIDs:o.Set(),uploads:o.List(),uploadsByID:o.Map()};},function(u){if(t&&t.$ReactComposerPhotoUploadStore1(u))return;switch(u.type){case i.PHOTO_UPLOAD_ENQUEUED:t&&t.$ReactComposerPhotoUploadStore2(u);break;case i.PHOTO_UPLOAD_RESIZE_STARTED:t&&t.$ReactComposerPhotoUploadStore3(u);break;case i.PHOTO_UPLOAD_RESIZE_PROGRESS:t&&t.$ReactComposerPhotoUploadStore4(u);break;case i.PHOTO_UPLOAD_RESIZE_DONE:t&&t.$ReactComposerPhotoUploadStore5(u,l.PHOTO_UPLOAD_RESIZE_DONE);break;case i.PHOTO_UPLOAD_RESIZE_FAILED:t&&t.$ReactComposerPhotoUploadStore5(u,l.PHOTO_UPLOAD_RESIZE_FAILED);break;case i.PHOTO_UPLOAD_UPLOADING:t&&t.$ReactComposerPhotoUploadStore6(u);break;case i.PHOTO_UPLOAD_PROGRESS:t&&t.$ReactComposerPhotoUploadStore4(u);break;case i.PHOTO_UPLOAD_DONE:j.waitFor([k.getDispatchToken()]);t&&t.$ReactComposerPhotoUploadStore7(u);break;case i.PHOTO_UPLOAD_FAILED:t&&t.$ReactComposerPhotoUploadStore8(u);break;case i.PHOTO_UPLOAD_REMOVE:case h.PHOTO_REMOVE:t&&t.$ReactComposerPhotoUploadStore9(u);break;case i.PHOTO_UPLOAD_MOVED:t&&t.$ReactComposerPhotoUploadStore10(u);break;case i.PREFILL_PHOTOS:t&&t.$ReactComposerPhotoUploadStore11(u);break;default:}});t=this;}s.prototype.getPhotoUpload=function(t,u){'use strict';return this.$ReactComposerPhotoUploadStore12(this.getComposerData(t),u);};s.prototype.getUploadIndex=function(t,u){'use strict';return this.$ReactComposerPhotoUploadStore13(this.getComposerData(t),u);};s.prototype.getUploads=function(t){'use strict';return this.getComposerData(t).uploads;};s.prototype.getHasUploadBeenRemoved=function(t,u){'use strict';var v=this.getComposerData(t);return v.removedIDs.has(u);};s.prototype.isUploading=function(t){'use strict';return this.getComposerData(t).uploads.some(function(u){return (u.state!==l.PHOTO_UPLOAD_RESIZE_FAILED&&u.state!==l.PHOTO_UPLOAD_DONE&&u.state!==l.PHOTO_UPLOAD_FAILED);});};s.prototype.getTotalNumberOfStickersOnPhotos=function(t){'use strict';var u=0;this.getComposerData(t).uploads.forEach(function(v){var w=v.get('originalPhotoID');if(w)u+=p.getTotalNumOfStickersOnPhoto(w);});return u;};s.prototype.$ReactComposerPhotoUploadStore2=function(t){'use strict';var u=this.validateAction(t,['composerID','uploadID','filename','index','xyTags']),v=u[0],w=u[1],x=u[2],y=u[3],z=u[4];this.$ReactComposerPhotoUploadStore14(v,y,new n({id:w,state:l.PHOTO_UPLOAD_ENQUEUED,filename:x,xyTags:z}));this.emitChange(v);};s.prototype.$ReactComposerPhotoUploadStore3=function(t){'use strict';var u=this.validateAction(t,['composerID','uploadID']),v=u[0],w=u[1],x=this.getComposerData(v);this.$ReactComposerPhotoUploadStore15(x,w,function(y){return y.withMutations(function(z){return z.set('state',l.PHOTO_UPLOAD_RESIZE_STARTED).set('progress',0);});});this.emitChange(v);};s.prototype.$ReactComposerPhotoUploadStore6=function(t){'use strict';var u=this.validateAction(t,['composerID','uploadID','fileUpload']),v=u[0],w=u[1],x=u[2],y=this.getComposerData(v);this.$ReactComposerPhotoUploadStore15(y,w,function(z){return z.withMutations(function(aa){return aa.set('state',l.PHOTO_UPLOAD_UPLOADING).set('progress',0).set('fileUpload',x);});});this.emitChange(v);};s.prototype.$ReactComposerPhotoUploadStore4=function(t){'use strict';var u=this.validateAction(t,['composerID','uploadID','progress']),v=u[0],w=u[1],x=u[2],y=this.getComposerData(v);this.$ReactComposerPhotoUploadStore15(y,w,function(z){return z.set('progress',x);});this.emitChange(v);};s.prototype.$ReactComposerPhotoUploadStore7=function(t){'use strict';var u=this.validateAction(t,['composerID','uploadID','photoID']),v=u[0],w=u[1],x=u[2],y=this.getComposerData(v);this.$ReactComposerPhotoUploadStore15(y,w,function(z){return z.withMutations(function(aa){return aa.set('state',l.PHOTO_UPLOAD_DONE).set('photoID',x).set('originalPhotoID',t.originalPhotoID||x).remove('fileUpload');});});this.emitChange(v);};s.prototype.$ReactComposerPhotoUploadStore8=function(t){'use strict';var u=this.validateAction(t,['composerID','uploadID']),v=u[0],w=u[1],x=this.getComposerData(v);this.$ReactComposerPhotoUploadStore15(x,w,function(y){return y.withMutations(function(z){return z.set('state',l.PHOTO_UPLOAD_FAILED).set('error',t.error);});});this.emitChange(v);};s.prototype.$ReactComposerPhotoUploadStore9=function(t){'use strict';var u=this.validateAction(t,['composerID','uploadID']),v=u[0],w=u[1],x=this.getComposerData(v),y=this.$ReactComposerPhotoUploadStore13(x,w);x.uploads=x.uploads['delete'](y);x.uploadsByID=x.uploadsByID['delete'](w);for(var z=y;z<x.uploads.size;z++){var aa=x.uploads.get(z).id;x.uploadsByID=x.uploadsByID.set(aa,z);}x.removedIDs=x.removedIDs.add(w);this.emitChange(v);};s.prototype.$ReactComposerPhotoUploadStore5=function(t,u){'use strict';var v=this.validateAction(t,['composerID','uploadID']),w=v[0],x=v[1];this.$ReactComposerPhotoUploadStore16(w,x,u);this.emitChange(w);};s.prototype.$ReactComposerPhotoUploadStore10=function(t){'use strict';var u=this.validateAction(t,['composerID','from','to']),v=u[0],w=u[1],x=u[2],y=this.getComposerData(v);y.uploads=y.uploads.splice(w,1).splice(x,0,y.uploads.get(w));y.uploadsByID=y.uploads.groupBy(function(z,aa){return aa;}).toMap().map(function(z){return z.first().id;}).flip();this.emitChange(v);};s.prototype.$ReactComposerPhotoUploadStore11=function(t){'use strict';var u=this.validateAction(t,['composerID','photos']),v=u[0],w=u[1];w.forEach(function(x,y){this.$ReactComposerPhotoUploadStore14(v,y,new n({id:x.uploadID,photoID:x.photoID,originalPhotoID:x.photoID,state:l.PHOTO_UPLOAD_DONE}));}.bind(this));this.emitChange(v);};s.prototype.$ReactComposerPhotoUploadStore16=function(t,u,v){'use strict';var w=this.getComposerData(t);this.$ReactComposerPhotoUploadStore15(w,u,function(x){return x.set('state',v);});};s.prototype.$ReactComposerPhotoUploadStore15=function(t,u,v){'use strict';var w=this.$ReactComposerPhotoUploadStore17(t,u),x=w[0],y=w[1];t.uploads=t.uploads.set(y,v(x,y));};s.prototype.$ReactComposerPhotoUploadStore17=function(t,u){'use strict';var v=this.$ReactComposerPhotoUploadStore13(t,u);return [t.uploads.get(v),v];};s.prototype.$ReactComposerPhotoUploadStore13=function(t,u){'use strict';var v=t.uploadsByID.get(u);if(v===undefined)throw 'Upload '+u+' hasn\'t been registered';return v;};s.prototype.$ReactComposerPhotoUploadStore12=function(t,u){'use strict';var v=this.$ReactComposerPhotoUploadStore13(t,u);return t.uploads.get(v);};s.prototype.$ReactComposerPhotoUploadStore1=function(t){'use strict';if(!!i[t.type]){var u=t.composerID,v=t.uploadID;if(v==null)return false;return this.getHasUploadBeenRemoved(u,v);}return false;};s.prototype.$ReactComposerPhotoUploadStore14=function(t,u,v){'use strict';var w=this.getComposerData(t);w.uploads=w.uploads.splice(u,0,v);for(var x=u;x<w.uploads.size;x++){var y=w.uploads.get(x).id;w.uploadsByID=w.uploadsByID.set(y,x);}};f.exports=new s();},null);
__d('ReactComposerAudienceActionTypes',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({SET_AUDIENCE:null,SET_AUDIENCE_ELEMENT:null,SET_AUDIENCE_INSTANCE:null,SET_PRIVACYX_NULL_DANGEROUS:null});},null);
__d('ReactComposerAudienceStore',['ReactComposerActionStore','ReactComposerAudienceActionTypes','$','DOM','csx','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m){var n,o;if(c.__markCompiled)c.__markCompiled();n=babelHelpers.inherits(p,h);o=n&&n.prototype;function p(){'use strict';var q;o.constructor.call(this,function(){return {audience:null,audienceElement:null,audienceInstance:null,legacyAudience:null,privacyxNullDangerous:false};},function(r){switch(r.type){case i.SET_AUDIENCE:q&&q.$ReactComposerAudienceStore1(r);break;case i.SET_AUDIENCE_ELEMENT:q&&q.$ReactComposerAudienceStore2(r);break;case i.SET_AUDIENCE_INSTANCE:q&&q.$ReactComposerAudienceStore3(r);break;case i.SET_PRIVACYX_NULL_DANGEROUS:q&&q.$ReactComposerAudienceStore4(r);break;}});q=this;}p.prototype.getAudience=function(q){'use strict';if(this.getPrivacyxNullDangerous(q))return null;var r=k.scry(j(q),"._5dd8");!(r.length<2)?m(0):undefined;var s=r[0];if(s){var t=k.scry(s,'input[name="privacyx"]');!(t.length<2)?m(0):undefined;if(t.length===1)return t[0].value;}return this.getComposerData(q).audience;};p.prototype.getLegacyAudience=function(q){'use strict';return this.getComposerData(q).legacyAudience;};p.prototype.getAudienceElement=function(q){'use strict';return this.getComposerData(q).audienceElement;};p.prototype.getAudienceInstance=function(q){'use strict';return this.getComposerData(q).audienceInstance;};p.prototype.getPrivacyxNullDangerous=function(q){'use strict';return this.getComposerData(q).privacyxNullDangerous;};p.prototype.$ReactComposerAudienceStore1=function(q){'use strict';var r=this.validateAction(q,'composerID'),s=this.getComposerData(r);s.audience=q.audience;s.legacyAudience=q.legacyAudience;this.emitChange(r);};p.prototype.$ReactComposerAudienceStore2=function(q){'use strict';var r=this.validateAction(q,['composerID','audienceElement']),s=r[0],t=r[1],u=this.getComposerData(s);u.audienceElement=t;this.emitChange(s);};p.prototype.$ReactComposerAudienceStore3=function(q){'use strict';var r=this.validateAction(q,'composerID'),s=this.getComposerData(r);s.audienceInstance=q.audienceInstance;this.emitChange(r);};p.prototype.$ReactComposerAudienceStore4=function(q){'use strict';var r=this.validateAction(q,'composerID'),s=this.getComposerData(r);s.privacyxNullDangerous=q.privacyxNullDangerous;this.emitChange(r);};f.exports=new p();},null);
__d("ReactComposerFeedXMinutiaeBootloadStore",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();h.prototype.setMinutiaeData=function(i){"use strict";this.$ReactComposerFeedXMinutiaeBootloadStore1=i;};h.prototype.getMinutiaeData=function(){"use strict";return this.$ReactComposerFeedXMinutiaeBootloadStore1;};h.prototype.setPromptData=function(i){"use strict";this.$ReactComposerFeedXMinutiaeBootloadStore2=i;};h.prototype.getPromptData=function(){"use strict";return this.$ReactComposerFeedXMinutiaeBootloadStore2;};function h(){"use strict";}f.exports=new h();},null);
__d('ReactComposerAlbumActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({CREATE_ALBUM_CLICKED:null});},null);
__d('ReactComposerPerfLogger',['ComposerType','ComposerXSessionIDs','MarauderLogger'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={},l=h.NORMAL,m={logEvent:function(n,o){var p=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],q=k[o],r=i.getSessionID(o);if(!q||!r)return;if(p.logOncePerSession){if(!q.loggedEventTypes[r])q.loggedEventTypes[r]={};if(q.loggedEventTypes[r][n])return;q.loggedEventTypes[r][n]=true;}var s=babelHelpers['extends']({},p.extraData,{composer_type:l,composer_version:q.composerVersion,target_type:q.targetType,target_id:q.targetID,ref:q.entryPointRef});j.log(n,'composer',s,undefined,undefined,r);},registerComposer:function(n,o,p,q,r){k[n.id]={targetID:r,targetType:o,entryPointRef:p,composerVersion:q,loggedEventTypes:{}};},getInstance:function(n){return k[n];}};f.exports=m;},null);
__d('ReactComposerVideoUploadActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({VIDEO_SET_UPLOADER:null,VIDEO_UPLOAD_ADD:null,VIDEO_UPLOAD_REMOVE:null});},null);
__d('ReactComposerLoggingStore',['ReactComposerActionTypes','ReactComposerAlbumActionType','ReactComposerAttachmentActionType','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerDispatcher','ReactComposerLoggingQueue','ReactComposerPerfLogger','ReactComposerPhotoActionType','ReactComposerPhotoStore','ReactComposerPhotoUploadActionType','ReactComposerPhotoUploadStore','ReactComposerStore','ReactComposerStoreBase','ReactComposerTaggerActionType','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerVideoUploadActionType','ComposerPerfEvent','ComposerWaterfallEvent','ComposerXMarauderLogger','ComposerXSessionIDs','immutable','PhotosUploadWaterfallXMixin','PUWApplications','PUWMethods','PUWSteps','classWithMixins','mixin','performanceAbsoluteNow'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka){var la,ma;if(c.__markCompiled)c.__markCompiled();la=babelHelpers.inherits(na,ia(u,ja(ea)));ma=la&&la.prototype;function na(){'use strict';var oa;ma.constructor.call(this,function(){return {composerPerfQueue:da.List(),composerWaterfallQueue:da.List(),perfTimes:{},PUWQueue:da.List(),sessionID:null,uniqueEvents:da.Map([[ha.CLIENT_PUBLISH_SUCCESS,false],[ha.CLIENT_FLOW_SUCCESS,false]])};},function(pa){if(n.getLength()>0)oa&&oa.$ReactComposerLoggingStore1();if(pa.composerID){oa&&oa.$ReactComposerLoggingStore2(pa.composerID);oa&&oa.$ReactComposerLoggingStore3(pa.composerID);oa&&oa.$ReactComposerLoggingStore4(pa.composerID);}oa&&oa.handler(pa);});oa=this;}na.prototype.handler=function(oa){'use strict';switch(oa.type){case j.SELECT_ATTACHMENT:this.$ReactComposerLoggingStore5(oa);break;case j.SET_BOOTLOADED:m.waitFor([k.getDispatchToken()]);this.$ReactComposerLoggingStore6(oa);break;case j.SET_BOOTSTRAPPED:m.waitFor([k.getDispatchToken()]);this.$ReactComposerLoggingStore7(oa);break;case r.PHOTO_UPLOAD_INPUT_CLICKED:this.$ReactComposerLoggingStore8(oa);break;case i.CREATE_ALBUM_SELECTOR_CLICKED:this.$ReactComposerLoggingStore9(oa);break;case r.PHOTO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore10(oa);break;case r.PHOTO_UPLOAD_RESIZE_STARTED:this.$ReactComposerLoggingStore11(oa);break;case r.PHOTO_UPLOAD_RESIZE_DONE:this.$ReactComposerLoggingStore12(oa);break;case r.PHOTO_UPLOAD_RESIZE_FAILED:this.$ReactComposerLoggingStore13(oa);break;case r.PHOTO_UPLOAD_RESIZER_UNAVAILABLE:this.$ReactComposerLoggingStore14(oa);break;case r.PHOTO_UPLOAD_UPLOADING:this.$ReactComposerLoggingStore15(oa);break;case r.PHOTO_UPLOAD_DONE:this.$ReactComposerLoggingStore16(oa);break;case r.PHOTO_UPLOAD_FAILED:this.$ReactComposerLoggingStore17(oa);break;case r.PHOTO_UPLOAD_REMOVE:this.$ReactComposerLoggingStore18(oa);break;case p.PHOTO_REMOVE:this.$ReactComposerLoggingStore19(oa);break;case y.VIDEO_UPLOAD_ADD:this.$ReactComposerLoggingStore20(oa);break;case y.VIDEO_UPLOAD_REMOVE:this.$ReactComposerLoggingStore21(oa);break;case v.SET_SELECTED_TAGGER:m.waitFor([w.getDispatchToken()]);this.$ReactComposerLoggingStore22(oa);break;case h.POST_STARTED:this.$ReactComposerLoggingStore23(oa);break;case h.POST_SUCCEEDED:this.$ReactComposerLoggingStore24(oa);break;case h.POST_ERROR:this.$ReactComposerLoggingStore25(oa);break;case r.PHOTOS_SELECT:this.$ReactComposerLoggingStore26(oa);break;case p.PHOTO_EDIT_STARTED:this.$ReactComposerLoggingStore27(oa);break;case p.PHOTO_EDIT_FINISHED:this.$ReactComposerLoggingStore28(oa);break;case r.PHOTO_UPLOAD_RETRY:this.$ReactComposerLoggingStore29(oa);break;default:}};na.prototype.getSessionID=function(oa){'use strict';return ca.getSessionID(oa);};na.prototype.$ReactComposerLoggingStore5=function(oa){'use strict';var pa=this.validateAction(oa,'composerID');if(k.isSelectedAttachmentActive(pa))this.$ReactComposerLoggingStore30(pa,aa.COMPOSER_ENTRY,{logOncePerSession:true});};na.prototype.$ReactComposerLoggingStore6=function(oa){'use strict';var pa=this.validateAction(oa,['id','composerID']),qa=pa[0],ra=pa[1];this.$ReactComposerLoggingStore31(ra,z.CLIENT_BOOTLOADED,{extraData:{attachment_type:qa,duration:k.getBootloadDuration(ra,qa)}});};na.prototype.$ReactComposerLoggingStore7=function(oa){'use strict';var pa=this.validateAction(oa,['id','composerID']),qa=pa[0],ra=pa[1];this.$ReactComposerLoggingStore31(ra,z.CLIENT_BOOTSTRAPPED,{extraData:{attachment_type:qa,duration:k.getBootstrapDuration(ra,qa)}});};na.prototype.$ReactComposerLoggingStore9=function(oa){'use strict';var pa=this.validateAction(oa,'composerID');this.$ReactComposerLoggingStore30(pa,aa.ALBUM_INTENT);};na.prototype.$ReactComposerLoggingStore8=function(oa){'use strict';var pa=this.validateAction(oa,'composerID');this.$ReactComposerLoggingStore30(pa,aa.MEDIA_INTENT);this.$ReactComposerLoggingStore32(pa,ha.CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});this.$ReactComposerLoggingStore32(pa,ha.CLIENT_SELECT_BEGIN);};na.prototype.$ReactComposerLoggingStore10=function(oa){'use strict';var pa=this.validateAction(oa,'composerID');this.$ReactComposerLoggingStore30(pa,aa.PHOTO_ADD);};na.prototype.$ReactComposerLoggingStore11=function(oa){'use strict';var pa=this.validateAction(oa,['composerID','loggingData']),qa=pa[0],ra=pa[1];this.$ReactComposerLoggingStore32(qa,ha.CLIENT_PROCESS_BEGIN,ra);};na.prototype.$ReactComposerLoggingStore12=function(oa){'use strict';var pa=this.validateAction(oa,['composerID','loggingData']),qa=pa[0],ra=pa[1];this.$ReactComposerLoggingStore32(qa,ha.CLIENT_PROCESS_SUCCESS,ra);};na.prototype.$ReactComposerLoggingStore13=function(oa){'use strict';var pa=this.validateAction(oa,['composerID','loggingData']),qa=pa[0],ra=pa[1];this.$ReactComposerLoggingStore32(qa,ha.CLIENT_PROCESS_FAIL,ra);};na.prototype.$ReactComposerLoggingStore14=function(oa){'use strict';var pa=this.validateAction(oa,'composerID');this.$ReactComposerLoggingStore32(pa,ha.CLIENT_PROCESS_UNAVAILABLE);};na.prototype.$ReactComposerLoggingStore15=function(oa){'use strict';var pa=this.validateAction(oa,['composerID','fileUpload']),qa=pa[0],ra=pa[1];this.$ReactComposerLoggingStore32(qa,ha.CLIENT_TRANSFER_BEGIN,{bytes:ra.getFile().size});};na.prototype.$ReactComposerLoggingStore16=function(oa){'use strict';var pa=this.validateAction(oa,['composerID','fileUpload','timeToUpload']),qa=pa[0],ra=pa[1],sa=pa[2];this.$ReactComposerLoggingStore30(qa,aa.PHOTO_ADD_SUCCESS);this.$ReactComposerLoggingStore32(qa,ha.CLIENT_TRANSFER_SUCCESS,{bytes:ra.getFile().size,auto_retry_count:ra.getRetryCount(),dt:sa,custom_tags:{manual_retry:!!ra.getFile().manuallyRetried}});};na.prototype.$ReactComposerLoggingStore17=function(oa){'use strict';var pa=this.validateAction(oa,['composerID','fileUpload','error','timeToUpload']),qa=pa[0],ra=pa[1],sa=pa[2],ta=pa[3];this.$ReactComposerLoggingStore30(qa,aa.PHOTO_ADD_FAILURE);this.$ReactComposerLoggingStore32(qa,ha.CLIENT_TRANSFER_FAIL,{bytes:ra.getFile().size,error_code:sa.code,error_info:sa.description,auto_retry_count:ra.getRetryCount(),dt:ta,custom_tags:{manual_retry:!!ra.getFile().manuallyRetried}});};na.prototype.$ReactComposerLoggingStore18=function(oa){'use strict';var pa=this.validateAction(oa,'composerID');this.$ReactComposerLoggingStore30(pa,aa.PHOTO_REMOVE);this.$ReactComposerLoggingStore32(pa,ha.CLIENT_TRANSFER_CANCEL);};na.prototype.$ReactComposerLoggingStore19=function(oa){'use strict';var pa=this.validateAction(oa,'composerID');this.$ReactComposerLoggingStore30(pa,aa.PHOTO_REMOVE);};na.prototype.$ReactComposerLoggingStore20=function(oa){'use strict';var pa=this.validateAction(oa,'composerID');this.$ReactComposerLoggingStore30(pa,aa.VIDEO_ADD);};na.prototype.$ReactComposerLoggingStore21=function(oa){'use strict';var pa=this.validateAction(oa,'composerID');this.$ReactComposerLoggingStore30(pa,aa.VIDEO_REMOVE);};na.prototype.$ReactComposerLoggingStore22=function(oa){'use strict';var pa=this.validateAction(oa,'composerID'),qa=w.getSelectedTagger(pa),event=null;switch(qa){case x.PEOPLE:event=aa.FRIEND_TAG_INTENT;break;case x.LOCATION:event=aa.LOCATION_INTENT;break;case x.ACTIVITY:event=aa.MINUTIAE_INTENT;break;case x.MARKDOWN:event=aa.MARKDOWN_INTENT;break;default:break;}if(event===null)return;this.$ReactComposerLoggingStore30(pa,event);};na.prototype.$ReactComposerLoggingStore23=function(oa){'use strict';var pa=this.validateAction(oa,'composerID'),qa=this.getComposerData(pa);qa.perfTimes.postStartTime=ka();this.$ReactComposerLoggingStore30(pa,aa.COMPOSER_POST);if(this.$ReactComposerLoggingStore33(pa))this.$ReactComposerLoggingStore32(pa,ha.CLIENT_PUBLISH_BEGIN,this.$ReactComposerLoggingStore34(pa));};na.prototype.$ReactComposerLoggingStore24=function(oa){'use strict';var pa=this.validateAction(oa,'composerID'),qa=this.getComposerData(pa);this.$ReactComposerLoggingStore30(pa,aa.COMPOSER_POST_SUCCESS);this.$ReactComposerLoggingStore31(pa,z.CLIENT_POST_SUCCEEDED,{extraData:{attachment_type:k.getSelectedAttachmentID(pa),duration:ka()-qa.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore33(pa)){var ra=this.$ReactComposerLoggingStore34(pa);this.$ReactComposerLoggingStore32(pa,ha.CLIENT_PUBLISH_SUCCESS,ra);this.$ReactComposerLoggingStore32(pa,ha.CLIENT_FLOW_SUCCESS);}};na.prototype.$ReactComposerLoggingStore25=function(oa){'use strict';var pa=this.validateAction(oa,'composerID'),qa=this.getComposerData(pa);this.$ReactComposerLoggingStore30(pa,aa.COMPOSER_POST_FAILURE);this.$ReactComposerLoggingStore31(pa,z.CLIENT_POST_FAILED,{extraData:{attachment_type:k.getSelectedAttachmentID(pa),duration:ka()-qa.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore33(pa)){var ra=oa.response,sa=Object.assign(this.$ReactComposerLoggingStore34(pa),{error_code:ra&&ra.getError&&ra.getError(),error_info:ra&&ra.getErrorDescription&&ra.getErrorDescription()});this.$ReactComposerLoggingStore32(pa,ha.CLIENT_PUBLISH_FAIL,sa);}};na.prototype.$ReactComposerLoggingStore26=function(oa){'use strict';var pa=this.validateAction(oa,['composerID','numPhotos','method']),qa=pa[0],ra=pa[1],sa=pa[2],ta={method:sa,volume:ra};this.$ReactComposerLoggingStore32(qa,ha.CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});if(sa!==ga.FILE_SELECTOR)this.$ReactComposerLoggingStore32(qa,ha.CLIENT_SELECT_BEGIN);this.$ReactComposerLoggingStore32(qa,ha.CLIENT_SELECT_SUCCESS,ta);};na.prototype.$ReactComposerLoggingStore27=function(oa){'use strict';var pa=this.validateAction(oa,'composerID');this.$ReactComposerLoggingStore32(pa,ha.CLIENT_PHOTO_EDIT_BEGIN);};na.prototype.$ReactComposerLoggingStore28=function(oa){'use strict';var pa=this.validateAction(oa,'composerID');this.$ReactComposerLoggingStore32(pa,ha.CLIENT_PHOTO_EDIT_SUCCESS);};na.prototype.$ReactComposerLoggingStore29=function(oa){'use strict';var pa=this.validateAction(oa,'composerID');this.$ReactComposerLoggingStore32(pa,ha.CLIENT_TRANSFER_MANUAL_RETRY);};na.prototype.$ReactComposerLoggingStore33=function(oa){'use strict';var pa=k.getIsAttachmentSelected(oa,l.MEDIA),qa=s.getUploads(oa);return pa&&!!qa.size;};na.prototype.$ReactComposerLoggingStore34=function(oa){'use strict';var pa=w.getTaggerData(oa,x.PEOPLE)||[],qa=s.getTotalNumberOfStickersOnPhotos(oa);return {volume:q.getPhotos(oa).size,with_tag_count:pa.length,sticker_count:qa};};na.prototype.$ReactComposerLoggingStore30=function(oa,event){var pa=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];'use strict';var qa=this.getComposerData(oa);if(qa.uniqueEvents.has(event)){if(!!qa.uniqueEvents.get(event))return;qa.uniqueEvents=qa.uniqueEvents.set(event,true);}pa.extraData=Object.assign({is_markdown_enabled:!!w.getTaggerData(oa,x.MARKDOWN).isMarkdown},pa.extraData);if(!ba.getInstance(oa)){qa.composerWaterfallQueue=qa.composerWaterfallQueue.push({composerID:oa,event:event,options:pa});return;}ba.logEvent(event,oa,pa);};na.prototype.$ReactComposerLoggingStore31=function(oa,event){var pa=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];'use strict';var qa=this.getComposerData(oa);if(qa.uniqueEvents.has(event)){if(qa.uniqueEvents.get(event))return;qa.uniqueEvents=qa.uniqueEvents.set(event,true);}if(!o.getInstance(oa)){qa.composerPerfQueue=qa.composerPerfQueue.push({composerID:oa,event:event,options:pa});return;}o.logEvent(event,oa,pa);};na.prototype.$ReactComposerLoggingStore32=function(oa,pa,qa,ra,sa){'use strict';var ta=this.getComposerData(oa);if(ta.uniqueEvents.has(pa)){if(!!ta.uniqueEvents.get(pa))return;ta.uniqueEvents=ta.uniqueEvents.set(pa,true);}if(!this.getSessionID(oa)){ta.PUWQueue=ta.PUWQueue.push({composerID:oa,step:pa,additionalData:qa,options:ra,callback:sa});return;}this.logPUWStep(pa,this.getSessionID(oa),fa.WEB_REACT_COMPOSER,t.getRef(oa),qa,ra,sa);};na.prototype.$ReactComposerLoggingStore1=function(){'use strict';while(n.getLength()>0){var oa=n.pop();this.handler(oa);}};na.prototype.$ReactComposerLoggingStore2=function(oa){'use strict';var pa=this.getComposerData(oa),qa=pa.composerWaterfallQueue;if(qa.size===0)return;if(!ba.getInstance(oa))return;qa.forEach(function(ra){return this.$ReactComposerLoggingStore30(ra.composerID,ra.event,ra.options);}.bind(this));pa.composerWaterfallQueue=qa.clear();};na.prototype.$ReactComposerLoggingStore3=function(oa){'use strict';var pa=this.getComposerData(oa),qa=pa.PUWQueue;if(qa.size===0)return;if(!this.getSessionID(oa))return;qa.forEach(function(ra){return this.$ReactComposerLoggingStore32(ra.composerID,ra.step,ra.additionalData,ra.options,ra.callback);}.bind(this));pa.PUWQueue=qa.clear();};na.prototype.$ReactComposerLoggingStore4=function(oa){'use strict';var pa=this.getComposerData(oa),qa=pa.composerPerfQueue;if(qa.size===0)return;if(!o.getInstance(oa))return;qa.forEach(function(ra){return this.$ReactComposerLoggingStore31(ra.composerID,ra.event,ra.options);}.bind(this));pa.composerPerfQueue=qa.clear();};f.exports=new na();},null);
__d('ReactComposerMinutiaeAttachmentActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({FETCH_ATTACHMENT:null,SET_MARKUP:null});},null);
__d("XReactComposerMinutiaeAttachmentController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/minutiae\/attachment\/",{composer_id:{type:"String",required:true},action_id:{type:"String",required:true},object_id:{type:"String",required:true},target_id:{type:"String",required:true},is_timeline:{type:"Bool",defaultValue:false}});},null);
__d('ReactComposerMinutiaeAttachmentStore',['ReactComposerAttachmentActionType','ReactComposerAttachmentType','ReactComposerMinutiaeAttachmentActionType','ReactComposerStoreBase','XReactComposerMinutiaeAttachmentController','AsyncRequest'],function a(b,c,d,e,f,g,h,i,j,k,l,m){var n,o;if(c.__markCompiled)c.__markCompiled();n=babelHelpers.inherits(p,k);o=n&&n.prototype;function p(){'use strict';var q;o.constructor.call(this,function(){return {isFetching:false,markup:null,pendingRequest:null};},function(r){switch(r.type){case j.FETCH_ATTACHMENT:q&&q.$ReactComposerMinutiaeAttachmentStore1(r);break;case j.SET_MARKUP:q&&q.$ReactComposerMinutiaeAttachmentStore2(r);break;case h.SELECT_ATTACHMENT:q&&q.$ReactComposerMinutiaeAttachmentStore3(r);break;}});q=this;}p.prototype.getMarkup=function(q){'use strict';return this.getComposerData(q).markup;};p.prototype.isFetching=function(q){'use strict';return this.getComposerData(q).isFetching;};p.prototype.$ReactComposerMinutiaeAttachmentStore1=function(q){'use strict';var r=this.validateAction(q,['composerID','actionID','objectID','targetID','isTimeline']),s=r[0],t=r[1],u=r[2],v=r[3],w=r[4],x=this.getComposerData(s);x.isFetching=true;var y=l.getURIBuilder().setString('composer_id',s).setString('action_id',t).setString('object_id',u).setString('target_id',v).setBool('is_timeline',w).getURI();x.pendingRequest=new m(y).setFinallyHandler(function(){x.isFetching=false;x.pendingRequest=null;this.emitChange(s);}.bind(this));x.pendingRequest.send();this.emitChange(s);};p.prototype.$ReactComposerMinutiaeAttachmentStore2=function(q){'use strict';var r=this.validateAction(q,['composerID','markup']),s=r[0],t=r[1],u=this.getComposerData(s);u.markup=t;this.emitChange(s);};p.prototype.$ReactComposerMinutiaeAttachmentStore3=function(q){'use strict';var r=this.validateAction(q,['composerID','id']),s=r[0],t=r[1];if(t===i.STATUS)return;var u=this.getComposerData(s);u.markup=null;u.isFetching=false;u.pendingRequest&&u.pendingRequest.abandon();this.emitChange(s);};f.exports=new p();},null);
__d('ReactComposerMultilingualStatusActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({LANGUAGE_CREATED:null,LANGUAGE_CHANGED:null,LANGUAGE_REMOVED:null,SET_LANGUAGE_EDITOR_STATE:null,SET_SPECIFIED_POST_LANGUAGE:null});},null);
__d('ReactComposerMultilingualStatusStore',['ReactComposerMultilingualStatusActionType','ReactComposerStoreBase','getMentionsTextForContentState','immutable'],function a(b,c,d,e,f,g,h,i,j,k){var l,m;if(c.__markCompiled)c.__markCompiled();var n=k.Record({languageDialect:null,editorState:null});l=babelHelpers.inherits(o,i);m=l&&l.prototype;function o(){'use strict';var p;m.constructor.call(this,function(){return {statuses:k.List(),specifiedPostLanguage:''};},function(q){switch(q.type){case h.LANGUAGE_CREATED:p&&p.$ReactComposerMultilingualStatusStore1(q);break;case h.LANGUAGE_REMOVED:p&&p.$ReactComposerMultilingualStatusStore2(q);break;case h.LANGUAGE_CHANGED:p&&p.$ReactComposerMultilingualStatusStore3(q);break;case h.SET_LANGUAGE_EDITOR_STATE:p&&p.$ReactComposerMultilingualStatusStore4(q);break;case h.SET_SPECIFIED_POST_LANGUAGE:p&&p.$ReactComposerMultilingualStatusStore5(q);break;}});p=this;}o.prototype.getAllPostDialects=function(p){'use strict';var q=this.getLanguageDialects(p);q.push(this.getSpecifiedPostLanguage(p));return q;};o.prototype.getSpecifiedPostLanguage=function(p){'use strict';return this.getComposerData(p).specifiedPostLanguage;};o.prototype.getLanguageDialects=function(p){'use strict';return this.getStatuses(p).map(function(q){return q.languageDialect;}).toArray();};o.prototype.getEditorStates=function(p){'use strict';return this.getStatuses(p).map(function(q){return q.editorState;}).toArray();};o.prototype.getMessages=function(p){'use strict';return this.getStatuses(p).map(function(q){return this.$ReactComposerMultilingualStatusStore6(q);}.bind(this)).toArray();};o.prototype.getMessage=function(p,q){'use strict';var r=this.getStatus(p,q);return this.$ReactComposerMultilingualStatusStore6(r);};o.prototype.getStatuses=function(p){'use strict';return this.getComposerData(p).statuses;};o.prototype.getStatus=function(p,q){'use strict';var r=this.getComposerData(p),s=this.$ReactComposerMultilingualStatusStore7(r.statuses,q);return r.statuses.get(s);};o.prototype.$ReactComposerMultilingualStatusStore7=function(p,q){'use strict';var r=p.findIndex(function(s){return (s.languageDialect===q);});if(r===-1)throw "Undefined status language dialect: "+q;return r;};o.prototype.$ReactComposerMultilingualStatusStore6=function(p){'use strict';var q=p.editorState.getCurrentContent();return j(q);};o.prototype.$ReactComposerMultilingualStatusStore1=function(p){'use strict';var q=this.validateAction(p,['composerID','languageDialect','languageConfig']),r=q[0],s=q[1],t=q[2],u=this.getComposerData(r),v=new n({languageDialect:s,editorState:t.editorState});u.statuses=u.statuses.push(v);this.emitChange(r);};o.prototype.$ReactComposerMultilingualStatusStore2=function(p){'use strict';var q=this.validateAction(p,['composerID','languageDialect']),r=q[0],s=q[1],t=this.getComposerData(r),u=this.$ReactComposerMultilingualStatusStore7(t.statuses,s);t.statuses=t.statuses.splice(u,1);this.emitChange(r);};o.prototype.$ReactComposerMultilingualStatusStore3=function(p){'use strict';var q=this.validateAction(p,['composerID','oldLanguageDialect','newLanguageDialect']),r=q[0],s=q[1],t=q[2],u=this.getComposerData(r),v=this.$ReactComposerMultilingualStatusStore7(u.statuses,s);u.statuses=u.statuses.set(v,new n({languageDialect:t,editorState:u.statuses.get(v).editorState}));this.emitChange(r);};o.prototype.$ReactComposerMultilingualStatusStore4=function(p){'use strict';var q=this.validateAction(p,['composerID','languageDialect','editorState']),r=q[0],s=q[1],t=q[2],u=this.getComposerData(r),v=this.$ReactComposerMultilingualStatusStore7(u.statuses,s);u.statuses=u.statuses.set(v,new n({languageDialect:s,editorState:t}));this.emitChange(r);};o.prototype.$ReactComposerMultilingualStatusStore5=function(p){'use strict';var q=this.validateAction(p,['composerID','languageDialect']),r=q[0],s=q[1],t=this.getComposerData(r);t.specifiedPostLanguage=s;this.emitChange(r);};f.exports=new o();},null);
__d('ReactComposerRedSpaceActionTypes',['keyMirror'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();f.exports=h({SET_SHOULD_SHARE_ON_NEWS_FEED:null});},null);
__d('ReactComposerRedSpaceStore',['ReactComposerStoreBase','ReactComposerRedSpaceActionTypes'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,h);k=j&&j.prototype;function l(){'use strict';var m;k.constructor.call(this,function(){return {shouldShareOnNewsFeed:true};},function(n){switch(n.type){case i.SET_SHOULD_SHARE_ON_NEWS_FEED:m&&m.$ReactComposerRedSpaceStore1(n);break;}});m=this;}l.prototype.shouldShareOnNewsFeed=function(m){'use strict';return this.getComposerData(m).shouldShareOnNewsFeed;};l.prototype.getIsRedSpacePost=function(m){'use strict';return !this.shouldShareOnNewsFeed(m);};l.prototype.$ReactComposerRedSpaceStore1=function(m){'use strict';var n=this.validateAction(m,'composerID'),o=this.getComposerData(n);o.shouldShareOnNewsFeed=m.shouldShareOnNewsFeed;this.emitChange(n);};f.exports=new l();},null);
__d('ReactComposerScrapedAttachmentActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({ATTACHMENT_SCRAPE_ENABLED:null,ATTACHMENT_PERMISSIVE_MATCH_SETTED:null,ATTACHMENT_SCRAPE_INTENDED:null,ATTACHMENT_SCRAPED:null,ATTACHMENT_CAROUSEL_UPLOAD:null});},null);
__d("XReactComposerScrapedAttachmentController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/scraper\/",{composer_id:{type:"String",required:true},target_id:{type:"String",required:true},scrape_url:{type:"String",required:true},is_finch:{type:"Bool",defaultValue:false},carousel_params:{type:"String"},entry_point:{type:"String",required:true},source_attachment:{type:"String",defaultValue:""}});},null);
__d('ReactComposerScrapedAttachmentStore',['ActorURI','ReactComposerAttachmentActionType','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerScrapedAttachmentActionType','ReactComposerStoreBase','XReactComposerScrapedAttachmentController','AsyncRequest','PagesComposerCarouselPostChildAttachmentAttributes','PagesComposerCarouselPostLogAttributes','DOM'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s,t;if(c.__markCompiled)c.__markCompiled();s=babelHelpers.inherits(u,m);t=s&&s.prototype;function u(){'use strict';var v;t.constructor.call(this,function(){return {markup:null,attachmentConfig:{},enabled:false,isScraping:false,permissiveMatch:null,sourceAttachment:null};},function(w){switch(w.type){case l.ATTACHMENT_SCRAPE_ENABLED:v&&v.$ReactComposerScrapedAttachmentStore1(w);break;case l.ATTACHMENT_PERMISSIVE_MATCH_SETTED:v&&v.$ReactComposerScrapedAttachmentStore2(w);break;case l.ATTACHMENT_SCRAPE_INTENDED:v&&v.$ReactComposerScrapedAttachmentStore3(w);break;case l.ATTACHMENT_SCRAPED:v&&v.$ReactComposerScrapedAttachmentStore4(w);break;case i.SELECT_ATTACHMENT:v&&v.$ReactComposerScrapedAttachmentStore5(w);break;case l.ATTACHMENT_CAROUSEL_UPLOAD:v&&v.$ReactComposerScrapedAttachmentStore6(w);}});v=this;}u.prototype.isEnabled=function(v){'use strict';return this.getComposerData(v).isEnabled;};u.prototype.hasAttachment=function(v){'use strict';return !!this.getMarkup(v);};u.prototype.isScraping=function(v){'use strict';return this.getComposerData(v).isScraping;};u.prototype.getMarkup=function(v){'use strict';return this.getComposerData(v).markup;};u.prototype.getAttachmentConfig=function(v){'use strict';var w=this.getComposerData(v);if(!w.markup)return null;var x=r.scry(w.markup,'input[name="attachment[params][images][0]"]').pop(),y=r.scry(w.markup,'input[name="attachment[params][title]"]').pop(),z=r.scry(w.markup,'input[name="attachment[params][summary]"]').pop();if(x!=null){if(w.attachmentConfig.params.images===undefined)w.attachmentConfig.params.images=[];w.attachmentConfig.params.images[0]=x.value;}if(y!=null)w.attachmentConfig.params.title=y.value;if(z!=null)w.attachmentConfig.params.summary=z.value;var aa=r.scry(w.markup,'input[name="attachment[carousel_log]['+q.USE_CAROUSEL_COMPOSER+']"]').pop();if(aa!=null&&aa.value==='1')this.$ReactComposerScrapedAttachmentStore7(w);this.$ReactComposerScrapedAttachmentStore8(w);return w.attachmentConfig;};u.prototype.$ReactComposerScrapedAttachmentStore8=function(v){'use strict';var w={},x=Object.keys(q);for(var y=0;y<x.length;y++){var z=q[x[y]],aa=r.scry(v.markup,'input[name="attachment[carousel_log]['+z+']"]').pop();if(!aa)continue;w[z]=aa.value;}if(Object.keys(w).length!==0)v.attachmentConfig.carousel_log=w;};u.prototype.$ReactComposerScrapedAttachmentStore7=function(v){'use strict';v.attachmentConfig.params.child_attachments={};var w=Object.keys(p),x=0,y={};while(true){var z=false,aa=0;y={};for(aa=0;aa<w.length;aa++){var ba=r.scry(v.markup,'input[name="attachment[params][child_attachments]['+x+']['+p[w[aa]]+']"]').pop();if(ba==null)continue;y[p[w[aa]]]=ba.value;z=true;}if(!z)break;v.attachmentConfig.params.child_attachments[x]=y;x++;}};u.prototype.getPermissiveMatch=function(v){'use strict';return this.getComposerData(v).permissiveMatch;};u.prototype.$ReactComposerScrapedAttachmentStore1=function(v){'use strict';var w=this.validateAction(v,['composerID','enabled']),x=w[0],y=w[1],z=this.getComposerData(x);z.isEnabled=y;};u.prototype.$ReactComposerScrapedAttachmentStore2=function(v){'use strict';var w=this.validateAction(v,['composerID','permissiveMatch']),x=w[0],y=w[1],z=this.getComposerData(x);z.permissiveMatch=y;this.emitChange(v.composerID);};u.prototype.$ReactComposerScrapedAttachmentStore3=function(v){'use strict';var w=this.validateAction(v,['composerID','targetID','value','entryPoint','actorID']),x=w[0],y=w[1],z=w[2],aa=w[3],ba=w[4];if(!this.isEnabled(x))return;var ca=this.getComposerData(v.composerID);ca.isScraping=true;var da=j.getSelectedAttachmentID(x),ea=n.getURIBuilder().setString('composer_id',x).setString('target_id',y).setString('scrape_url',z).setString('entry_point',aa).setString('source_attachment',da).getURI();ea=h.create(ea,ba);new o(ea).send();this.emitChange(v.composerID);};u.prototype.$ReactComposerScrapedAttachmentStore4=function(v){'use strict';if(!this.isEnabled(v.composerID))return;var w=this.getComposerData(v.composerID);w.markup=v.markup;w.attachmentConfig=v.attachmentConfig;w.isScraping=false;w.sourceAttachment=j.getSelectedAttachmentID(v.composerID);this.emitChange(v.composerID);};u.prototype.$ReactComposerScrapedAttachmentStore5=function(v){'use strict';var w=this.getComposerData(v.composerID);if(v.id===w.sourceAttachment)return;w.markup=null;w.attachmentConfig={};w.isScraping=false;w.sourceAttachment=null;this.emitChange(v.composerID);};u.prototype.$ReactComposerScrapedAttachmentStore6=function(v){'use strict';var w=this.validateAction(v,['composerID','targetID','scrapeUrl','carouselParams','entryPoint','actorID']),x=w[0],y=w[1],z=w[2],aa=w[3],ba=w[4],ca=w[5],da=this.getComposerData(v.composerID);da.isScraping=true;var ea=j.getSelectedAttachmentID(x),fa=n.getURIBuilder().setString('composer_id',x).setString('target_id',y).setString('scrape_url',z).setString('carousel_params',aa).setString('entry_point',ba).setString('source_attachment',ea).getURI();fa=h.create(fa,ca);new o(fa).send();this.emitChange(v.composerID);};f.exports=new u();},null);
__d('ReactComposerSlideshowActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({HIDE_SLIDESHOW_EDIT_FIELD:null,SHOW_SLIDESHOW_EDIT_FIELD:null});},null);
__d('ReactComposerSlideshowStore',['ReactComposerSlideshowActionType','ReactComposerStoreBase'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,i);k=j&&j.prototype;function l(){'use strict';var m;k.constructor.call(this,function(){return {isSlideshowSelected:false};},function(n){switch(n.type){case h.SHOW_SLIDESHOW_EDIT_FIELD:m&&m.$ReactComposerSlideshowStore1(n);break;case h.HIDE_SLIDESHOW_EDIT_FIELD:m&&m.$ReactComposerSlideshowStore2(n);break;default:break;}});m=this;}l.prototype.$ReactComposerSlideshowStore1=function(m){'use strict';var n=m.composerID,o=this.getComposerData(n);o.isSlideshowSelected=true;this.emitChange(n);};l.prototype.$ReactComposerSlideshowStore2=function(m){'use strict';var n=m.composerID,o=this.getComposerData(n);o.isSlideshowSelected=false;this.emitChange(n);};l.prototype.isSlideshowSelected=function(m){'use strict';return this.getComposerData(m).isSlideshowSelected;};f.exports=new l();},null);
__d('ReactComposerTopicFeedsTaggerActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({USER_ADD_TAG:null,USER_REMOVE_TAG:null,SERVER_UPDATE_TAGS:null,SET_TAGGER_MOUNTED:null});},null);
__d('ReactComposerTopicFeedsTaggerActions',['ReactComposerTopicFeedsTaggerActionType','ReactComposerDispatcher'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();j.prototype.addTag=function(k,l){'use strict';i.dispatch({composerID:k,topicID:l,type:h.USER_ADD_TAG});};j.prototype.removeTag=function(k,l){'use strict';i.dispatch({composerID:k,topicID:l,type:h.USER_REMOVE_TAG});};j.prototype.setTaggerMounted=function(k,l){'use strict';i.dispatch({composerID:k,isMounted:l,type:h.SET_TAGGER_MOUNTED});};j.prototype.updateTags=function(k,l){'use strict';i.dispatch({composerID:k,topicIDs:l,type:h.SERVER_UPDATE_TAGS});};function j(){'use strict';}f.exports=new j();},null);
__d("XFeedTopicClassifierController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/feed\/topic\/classifier\/",{message:{type:"String",defaultValue:""},place_tag_id:{type:"FBID"},photo_ids:{type:"FBIDVector"},captions:{type:"StringVector"},urls:{type:"StringVector"}});},null);
__d('ReactComposerTopicFeedsAutoTaggingRequester',['AsyncRequest','ReactComposerPhotoUploadStore','ReactComposerStatusStore','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerTopicFeedsTaggerActions','Map','XFeedTopicClassifierController','URLMatcher'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=5000;function r(){'use strict';this.$ReactComposerTopicFeedsAutoTaggingRequester1=new n();}r.prototype.sendThrottledRequest=function(s){'use strict';if(this.$ReactComposerTopicFeedsAutoTaggingRequester1.has(s))return;this.$ReactComposerTopicFeedsAutoTaggingRequester1.set(s,setTimeout(function(){this.sendImmediateRequest(s);this.$ReactComposerTopicFeedsAutoTaggingRequester1['delete'](s);}.bind(this),q));};r.prototype.sendImmediateRequest=function(s){'use strict';var t=j.getMessageText(s),u=k.getTaggerData(s,l.LOCATION),v=u.place&&u.place.getUniqueID(),w=u.implicitLocation&&u.implicitLocation.citypageid,x=i.getUploads(s).map(function(ba){return ba.photoID;}).toArray(),y=null,z=p.match(t);if(z)y=[z];var aa=o.getURIBuilder().setString('message',t).setFBID('place_tag_id',v||w).setFBIDVector('photo_ids',x).setStringVector('urls',y).getURI();new h(aa).setHandler(function(ba){return this.$ReactComposerTopicFeedsAutoTaggingRequester2(ba,s);}.bind(this)).send();};r.prototype.$ReactComposerTopicFeedsAutoTaggingRequester2=function(s,t){'use strict';if(!s||!s.payload)return;m.updateTags(t,s.payload);};f.exports=new r();},null);
__d('ReactComposerTopicFeedsTaggerStore',['ReactComposerDispatcher','ReactComposerPhotoUploadActionType','ReactComposerPhotoUploadStore','ReactComposerStatusActionType','ReactComposerStoreBase','ReactComposerTopicFeedsTaggerActionType','ReactComposerTopicFeedsAutoTaggingRequester','immutable'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p,q;if(c.__markCompiled)c.__markCompiled();p=babelHelpers.inherits(r,l);q=p&&p.prototype;function r(){'use strict';var s=undefined;q.constructor.call(this,function(){return {taggedTopics:o.Set(),taggerEnabled:false,userRemovedTopics:o.Set()};},function(t){if(!s)return;var u=s.validateAction(t,'composerID');if(t.type!==m.SET_TAGGER_MOUNTED&&!s.getIsTaggerEnabled(u))return;switch(t.type){case m.SET_TAGGER_MOUNTED:s.$ReactComposerTopicFeedsTaggerStore1(t);break;case m.USER_ADD_TAG:s.$ReactComposerTopicFeedsTaggerStore2(t);break;case m.USER_REMOVE_TAG:s.$ReactComposerTopicFeedsTaggerStore3(t);break;case m.SERVER_UPDATE_TAGS:s.$ReactComposerTopicFeedsTaggerStore4(t);break;case k.SET_EDITOR_STATE:s.$ReactComposerTopicFeedsTaggerStore5(t);break;case i.PHOTO_UPLOAD_DONE:h.waitFor([j.getDispatchToken()]);s.$ReactComposerTopicFeedsTaggerStore6(t);break;}});s=this;}r.prototype.getTaggedTopics=function(s){'use strict';return this.getComposerData(s).taggedTopics;};r.prototype.getIsTaggerEnabled=function(s){'use strict';return this.getComposerData(s).taggerEnabled;};r.prototype.$ReactComposerTopicFeedsTaggerStore1=function(s){'use strict';var t=this.validateAction(s,['composerID','isMounted']),u=t[0],v=t[1],w=this.getComposerData(u);w.taggerEnabled=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore2=function(s){'use strict';var t=this.validateAction(s,['composerID','topicID']),u=t[0],v=t[1],w=this.getComposerData(u);w.taggedTopics=w.taggedTopics.add(v);this.emitChange(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore3=function(s){'use strict';var t=this.validateAction(s,['composerID','topicID']),u=t[0],v=t[1],w=this.getComposerData(u);w.taggedTopics=w.taggedTopics.remove(v);w.userRemovedTopics=w.userRemovedTopics.add(v);this.emitChange(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore4=function(s){'use strict';var t=this.validateAction(s,['composerID','topicIDs']),u=t[0],v=t[1],w=this.getComposerData(u);w.taggedTopics=w.taggedTopics.union(v).filter(function(x){return !w.userRemovedTopics.has(x);});this.emitChange(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore5=function(s){'use strict';var t=this.validateAction(s,['composerID','editorState']),u=t[0],v=t[1];if(v.getCurrentContent().getPlainText().length>0)n.sendThrottledRequest(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore6=function(s){'use strict';var t=this.validateAction(s,'composerID');n.sendImmediateRequest(t);};f.exports=new r();},null);
__d('ReactComposerPostDataUtils',['AdsAPITargetFields','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerAudienceStore','ReactComposerLoggingStore','ReactComposerMinutiaeAttachmentStore','ReactComposerFeedXMinutiaeBootloadStore','ReactComposerMultilingualStatusStore','ReactComposerPhotoStore','ReactComposerPostUtilsCore','ReactComposerRedSpaceStore','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','ReactComposerStore','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerSlideshowStore','ReactComposerTopicFeedsTaggerStore','PagesComposerBoostedPostsStore','PhotoEditorLoggingConstants','PhotoEditorSaveStates','PUWApplications','isNumberLike'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){if(c.__markCompiled)c.__markCompiled();var ea={getPostData:function(fa){var ga=fa.composerID,ha=fa.targetID,ia=v.getTaggerData(ga,w.PEOPLE)||[],ja=[],ka=[];ia.forEach(function(nb){ja.push(nb.getTitle());ka.push(nb.getUniqueID());});var la=v.getTaggerData(ga,w.ACTIVITY),ma=[],na=[],oa=[],pa;if(la&&la.action&&la.object){ma.push(la.action.getUniqueID());pa=la.actionIconID;if(da(la.object.getUniqueID())){na.push(la.object.getUniqueID());oa.push('');}else oa.push(la.object.getTitle());}var qa=!m.getMarkup(ga),ra=o.getMessages(ga),sa=o.getLanguageDialects(ga),ta=o.getSpecifiedPostLanguage(ga),ua=v.getTaggerData(ga,w.LOCATION),va=ua?ua.place:null,wa=v.getTaggerData(ga,w.BACKDATE)||{},xa={year:this._sanitizeDateField(wa.year),month:this._sanitizeDateField(wa.month),day:this._sanitizeDateField(wa.day),hour:this._sanitizeDateField(wa.hour),minute:this._sanitizeDateField(wa.minute)},ya=ua&&ua.implicitLocation?ua.implicitLocation.citypageid:null,za=v.getTaggerData(ga,w.SPONSOR)||[],ab=[];za.forEach(function(nb){ab.push(nb.getUniqueID());});var bb,cb=k.getLegacyAudience(ga);if(cb)bb=[{value:cb}];var db=v.getTaggerData(ga,w.TARGETING),eb=db?db.targeting:null;if(eb&&eb.fan_of)eb.fan_of=eb.fan_of.map(function(nb){return nb.id;});var fb=db?db.gating:null,gb=db?db.hints:null;if(gb&&gb[h.INTERESTS])gb[h.INTERESTS]=gb[h.INTERESTS].map(function(nb){return nb.id;});if(fa.contextInfo.stopFeedDistributionDateFormatted){if(!eb)eb={};if(!gb)gb={};eb['relevant-until-date']=fa.contextInfo.stopFeedDistributionDateFormatted;eb['relevant-until-time']=fa.contextInfo.stopFeedDistributionTimeFormatted;gb['relevant-until-date']=fa.contextInfo.stopFeedDistributionDateFormatted;gb['relevant-until-time']=fa.contextInfo.stopFeedDistributionTimeFormatted;}var hb=z.getConfig(ga),ib=s.getAttachmentConfig(ga),jb=!!v.getTaggerData(ga,w.MARKDOWN).isMarkdown,kb=v.getTaggerData(ga,w.CONTENT_WARNINGS);if(kb!=null)kb=kb.map(function(nb){return nb.getUniqueID();});var lb=eb?eb:gb,mb=n.getPromptData();return Object.assign({action_type_id:ma,attachment:ib,backdated_date:xa,boosted_post_config:hb,audience:bb,composer_session_id:l.getSessionID(ga),composertags_city:ya,composertags_place:va&&va.getUniqueID()||ya,composertags_place_name:va&&va.getTitle(),composertags_with:ka,composertags_sponsors:ab,content_warnings:kb,feed_targeted_data:lb,feed_topics:y.getTaggedTopics(ga).toArray(),hide_object_attachment:qa,icon_id:pa,is_explicit_place:!!va,is_markdown:jb,is_q_and_a:i.getIsAttachmentSelected(ga,j.QANDA),multilingual_statuses:ra,multilingual_status_langs:sa,multilingual_specified_lang:ta,object_id:na,object_str:oa,privacyx:k.getAudience(ga),prompt_id:mb?mb.promptID:null,ref:u.getRef(ga),is_redspace_post:r.getIsRedSpacePost(ga),tagger_session_id:ua&&ua.sessionID,target_type:u.getTargetType(ga),targeted_privacy_data:fb,text_composertags_with:ja,xhpc_message:t.getMessage(ga),xhpc_message_text:t.getMessageText(ga),is_forced_reshare_of_post:ib&&ib.reshare_original_post},this._getScrapedAttachmentData(ib),q.getCoreData(ga,fa.contextInfo,ha));},getPhotoUploadsData:function(fa,ga){var ha=ga.map(function(ia){return ia.photoID;}).toArray();return Object.assign({composer_unpublished_photo:ha,is_slideshow:x.isSlideshowSelected(fa),qn:l.getSessionID(fa),waterfallxapp:ca.WEB_REACT_COMPOSER,xy_tags:this._getXYTagData(fa)},this._getCreativeEditingToolsData(ga));},_sanitizeDateField:function(fa){return !fa||fa===-1||fa===0?null:fa;},_getXYTagData:function(fa){var ga=p.getAllTaggedFaceboxes(fa).map(function(ia){return {fbid:ia.get('photoID'),x:ia.get('x'),y:ia.get('y'),name:ia.get('taggedValue'),subject:ia.get('taggedSubjectID'),from_facebox:true,source:ia.get('isMagicTag')?'composerx_suggestions':'composerx_flyout'};}),ha=p.getAllXYTags(fa).map(function(ia){return {fbid:ia.get('photoID'),x:ia.get('x'),y:ia.get('y'),name:ia.get('name'),subject:ia.get('subject'),from_facebox:ia.get('from_facebox'),source:ia.get('source')};});return ga.concat(ha);},_getCreativeEditingToolsData:function(fa){var ga={},ha={},ia={},ja={};fa.forEach(function(la){var ma=la.get('photoID'),na=ba.getLoggingData(la.get('originalPhotoID'));if(na){ga[ma]=na.hasFilter?true:null;ha[ma]=na.hasCrop?true:null;ia[ma]=na.textOverlays;ja[ma]=na.stickers;}});var ka={};ka[aa.COMPOSER_IMAGE_HAS_FILTER]=ga;ka[aa.COMPOSER_IMAGE_HAS_CROP]=ha;ka[aa.COMPOSER_IMAGE_TEXT_OVERLAY]=ia;ka[aa.COMPOSER_IMAGE_STICKER]=ja;return ka;},_getScrapedAttachmentData:function(fa){if(!fa||!fa.params)return null;return {xc_share_params:JSON.stringify(fa.params),xc_share_target_type:fa.type,xc_share_images:fa.params.images,xc_share_title:fa.params.title,xc_share_summary:fa.params.summary,xc_link_url:fa.params.url};}};f.exports=ea;},null);
__d('ReactComposerQuestionActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({ADD_OPTION:null,ANYONE_ADD_OPTIONS:null,CHOOSE_MULTIPLE_OPTIONS:null,ENTER_POLL_OPTIONS_MODE:null,SHOW_QUESTION_CONFIG:null,SAVE_OPTION_DATA:null,SET_QUESTION_CONFIG:null});},null);
__d('ReactComposerQuestionStore',['ReactComposerQuestionActionType','ReactComposerStoreBase','Map'],function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();var m=3;k=babelHelpers.inherits(n,i);l=k&&k.prototype;function n(){'use strict';var o;l.constructor.call(this,function(){return {anyoneAddPollOptions:true,chooseMultiplePollOptions:true,dataSource:null,maxOptionsShown:null,optionIDs:new j(),optionStrings:new j(),pollLinkEnabled:true};},function(p){switch(p.type){case h.ADD_OPTION:o&&o.$ReactComposerQuestionStore1(p);break;case h.ANYONE_ADD_OPTIONS:o&&o.$ReactComposerQuestionStore2(p);break;case h.CHOOSE_MULTIPLE_OPTIONS:o&&o.$ReactComposerQuestionStore3(p);break;case h.ENTER_POLL_OPTIONS_MODE:o&&o.$ReactComposerQuestionStore4(p);break;case h.SAVE_OPTION_DATA:o&&o.$ReactComposerQuestionStore5(p);break;case h.SET_QUESTION_CONFIG:o&&o.$ReactComposerQuestionStore6(p);break;}});o=this;}n.prototype.canAnyoneAddPollOptions=function(o){'use strict';return this.getComposerData(o).anyoneAddPollOptions;};n.prototype.canChooseMultiplePollOptions=function(o){'use strict';return this.getComposerData(o).chooseMultiplePollOptions;};n.prototype.getDataSource=function(o){'use strict';return this.getComposerData(o).dataSource;};n.prototype.getMaxOptionsShown=function(o){'use strict';return this.getComposerData(o).maxOptionsShown;};n.prototype.getNumberOptionsShown=function(o){'use strict';return m;};n.prototype.getOptionIDs=function(o){'use strict';var p=[],q=this.getComposerData(o).optionIDs;q.forEach(function(r,s){return p.push(r);});return p;};n.prototype.getOptionStrings=function(o){'use strict';var p=[],q=this.getComposerData(o).optionStrings;q.forEach(function(r,s){return p.push(r);});return p;};n.prototype.getSearchSource=function(o){'use strict';return this.getComposerData(o).dataSource;};n.prototype.isPollLinkEnabled=function(o){'use strict';return this.getComposerData(o).pollLinkEnabled;};n.prototype.$ReactComposerQuestionStore1=function(o){'use strict';var p=this.validateAction(o,'composerID');m++;this.emitChange(p);};n.prototype.$ReactComposerQuestionStore2=function(o){'use strict';var p=this.validateAction(o,['composerID','value']),q=p[0],r=p[1],s=this.getComposerData(q);s.anyoneAddPollOptions=r;this.emitChange(q);};n.prototype.$ReactComposerQuestionStore3=function(o){'use strict';var p=this.validateAction(o,['composerID','value']),q=p[0],r=p[1],s=this.getComposerData(q);s.chooseMultiplePollOptions=r;this.emitChange(q);};n.prototype.$ReactComposerQuestionStore4=function(o){'use strict';var p=this.validateAction(o,'composerID'),q=this.getComposerData(p);q.pollLinkEnabled=false;this.emitChange(p);};n.prototype.$ReactComposerQuestionStore5=function(o){'use strict';var p=this.validateAction(o,['composerID','optionData']),q=p[0],r=p[1],s=this.getComposerData(q);s.optionIDs.set(r.keyID,r.ID);s.optionStrings.set(r.keyID,r.content);this.emitChange(q);};n.prototype.$ReactComposerQuestionStore6=function(o){'use strict';var p=this.validateAction(o,['composerID','config']),q=p[0],r=p[1],s=this.getComposerData(q);s.dataSource=r.dataSource;s.maxOptionsShown=r.maxOptionsShown;this.emitChange(q);};f.exports=new n();},null);
__d('ReactComposerRedEnvelopeActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({SET_RED_ENVELOPE_CONFIG:null,SET_AVAILABLE_AMOUNT:null,SET_TOTAL_AMOUNT:null,SET_DISTIBUTION:null,SET_NUMBER_OF_ENVELOPES:null});},null);
__d('ReactComposerRedEnvelopeStore',['ReactComposerRedEnvelopeActionType','ReactComposerStoreBase'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,i);k=j&&j.prototype;function l(){'use strict';var m;k.constructor.call(this,function(){return {availableAmount:0,totalAmount:1000,distribution:'RND',numberOfEnvelopes:5,contextInfo:null};},function(n){switch(n.type){case h.SET_AVAILABLE_AMOUNT:m&&m.$ReactComposerRedEnvelopeStore1(n);break;case h.SET_TOTAL_AMOUNT:m&&m.$ReactComposerRedEnvelopeStore2(n);break;case h.SET_DISTIBUTION:m&&m.$ReactComposerRedEnvelopeStore3(n);break;case h.SET_NUMBER_OF_ENVELOPES:m&&m.$ReactComposerRedEnvelopeStore4(n);break;case h.SET_RED_ENVELOPE_CONFIG:m&&m.$ReactComposerRedEnvelopeStore5(n);break;}});m=this;}l.prototype.getAvailableAmount=function(m){'use strict';return this.getComposerData(m).availableAmount;};l.prototype.getTotalAmount=function(m){'use strict';return this.getComposerData(m).totalAmount;};l.prototype.getDistribution=function(m){'use strict';return this.getComposerData(m).distribution;};l.prototype.getNumberOfEnvelopes=function(m){'use strict';return this.getComposerData(m).numberOfEnvelopes;};l.prototype.getContextInfo=function(m){'use strict';return this.getComposerData(m).contextInfo;};l.prototype.$ReactComposerRedEnvelopeStore1=function(m){'use strict';var n=this.validateAction(m,['composerID','availableAmount']),o=n[0],p=n[1],q=this.getComposerData(o);q.availableAmount=p;this.emitChange(o);};l.prototype.$ReactComposerRedEnvelopeStore2=function(m){'use strict';var n=this.validateAction(m,['composerID','totalAmount']),o=n[0],p=n[1],q=this.getComposerData(o);q.totalAmount=p;this.emitChange(o);};l.prototype.$ReactComposerRedEnvelopeStore4=function(m){'use strict';var n=this.validateAction(m,['composerID','numberOfEnvelopes']),o=n[0],p=n[1],q=this.getComposerData(o);q.numberOfEnvelopes=p;this.emitChange(o);};l.prototype.$ReactComposerRedEnvelopeStore3=function(m){'use strict';var n=this.validateAction(m,['composerID','distribution']),o=n[0],p=n[1],q=this.getComposerData(o);q.distribution=p;this.emitChange(o);};l.prototype.$ReactComposerRedEnvelopeStore5=function(m){'use strict';var n=this.validateAction(m,['composerID','config']),o=n[0],p=n[1],q=this.getComposerData(o);q.availableAmount=p.availableAmount;q.contextInfo=p.contextInfo;this.emitChange(o);};f.exports=new l();},null);
__d('ReactComposerStatusDonateButtonActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({SET_DONATE_CONFIG:null,UPDATE_DESCRIPTION:null,UPDATE_TITLE:null,SET_DATA:null,SET_ENABLED:null,SET_ERRORS:null,SET_TEXT_DISABLED:null});},null);
__d('ReactComposerStatusDonateButtonStore',['ReactComposerStatusDonateButtonActionType','ReactComposerStoreBase'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,i);k=j&&j.prototype;function l(){'use strict';var m;k.constructor.call(this,function(){return {charityName:'',fundraiserCampaignId:1,enabled:false,textDisabled:false,errors:false};},function(n){switch(n.type){case h.SET_DONATE_CONFIG:m&&m.$ReactComposerStatusDonateButtonStore1(n);break;case h.UPDATE_TITLE:m&&m.$ReactComposerStatusDonateButtonStore2(n);break;case h.UPDATE_DESCRIPTION:m&&m.$ReactComposerStatusDonateButtonStore3(n);break;case h.SET_DATA:m&&m.$ReactComposerStatusDonateButtonStore4(n);break;case h.SET_ENABLED:m&&m.$ReactComposerStatusDonateButtonStore5(n);break;case h.SET_ERRORS:m&&m.$ReactComposerStatusDonateButtonStore6(n);break;case h.SET_TEXT_DISABLED:m&&m.$ReactComposerStatusDonateButtonStore7(n);break;}});m=this;}l.prototype.getFundraiserCampaignID=function(m){'use strict';return this.getComposerData(m).fundraiserCampaignId;};l.prototype.getCharityName=function(m){'use strict';return this.getComposerData(m).charityName;};l.prototype.getTitle=function(m){'use strict';return this.getComposerData(m).title;};l.prototype.getDescription=function(m){'use strict';return this.getComposerData(m).description;};l.prototype.getEnabled=function(m){'use strict';return this.getComposerData(m).enabled;};l.prototype.getErrors=function(m){'use strict';return this.getComposerData(m).errors;};l.prototype.getTextDisabled=function(m){'use strict';return this.getComposerData(m).textDisabled;};l.prototype.$ReactComposerStatusDonateButtonStore1=function(m){'use strict';var n=this.validateAction(m,['composerID','config']),o=n[0],p=n[1],q=this.getComposerData(o);q.fundraiserCampaignId=p.fundraiserCampaignId;q.charityName=p.charityName;this.emitChange(m.composerID);};l.prototype.$ReactComposerStatusDonateButtonStore2=function(m){'use strict';var n=this.validateAction(m,['composerID','title']),o=n[0],p=n[1],q=this.getComposerData(o);q.title=p.substring(0,60);this.emitChange(m.composerID);};l.prototype.$ReactComposerStatusDonateButtonStore3=function(m){'use strict';var n=this.validateAction(m,['composerID','description']),o=n[0],p=n[1],q=this.getComposerData(o);q.description=p;this.emitChange(m.composerID);};l.prototype.$ReactComposerStatusDonateButtonStore4=function(m){'use strict';var n=this.validateAction(m,['composerID','title','description']),o=n[0],p=n[1],q=n[2],r=this.getComposerData(o);r.title=p;r.description=q;this.emitChange(m.composerID);};l.prototype.$ReactComposerStatusDonateButtonStore5=function(m){'use strict';var n=this.validateAction(m,['composerID','enabled']),o=n[0],p=n[1],q=this.getComposerData(o);q.enabled=p;this.emitChange(m.composerID);};l.prototype.$ReactComposerStatusDonateButtonStore6=function(m){'use strict';var n=this.validateAction(m,['composerID','errors']),o=n[0],p=n[1],q=this.getComposerData(o);q.errors=p;this.emitChange(m.composerID);};l.prototype.$ReactComposerStatusDonateButtonStore7=function(m){'use strict';var n=this.validateAction(m,['composerID','textDisabled']),o=n[0],p=n[1],q=this.getComposerData(o);q.textDisabled=p;this.emitChange(m.composerID);};f.exports=new l();},null);
__d('ReactComposerVideoUploadStore',['ReactComposerStoreBase','ReactComposerVideoUploadActionType','immutable'],function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();var m=j.Record({file:null});k=babelHelpers.inherits(n,h);l=k&&k.prototype;function n(){'use strict';var o;l.constructor.call(this,function(){return {uploader:null,video:null};},function(p){switch(p.type){case i.VIDEO_SET_UPLOADER:o&&o.$ReactComposerVideoUploadStore1(p);break;case i.VIDEO_UPLOAD_ADD:o&&o.$ReactComposerVideoUploadStore2(p);break;case i.VIDEO_UPLOAD_REMOVE:o&&o.$ReactComposerVideoUploadStore3(p);break;default:}});o=this;}n.prototype.getUploader=function(o){'use strict';return this.getComposerData(o).uploader;};n.prototype.getVideo=function(o){'use strict';return this.getComposerData(o).video;};n.prototype.$ReactComposerVideoUploadStore1=function(o){'use strict';var p=this.validateAction(o,['composerID','uploader']),q=p[0],r=p[1],s=this.getComposerData(q);s.uploader=r;this.emitChange(q);};n.prototype.$ReactComposerVideoUploadStore2=function(o){'use strict';var p=this.validateAction(o,['composerID','file']),q=p[0],r=p[1],s=this.getComposerData(q);s.video=new m({file:r});this.emitChange(q);};n.prototype.$ReactComposerVideoUploadStore3=function(o){'use strict';var p=this.validateAction(o,'composerID'),q=this.getComposerData(p);q.video=null;q.input&&q.input.clear();this.emitChange(p);};f.exports=new n();},null);
__d("XRedEnvelopeSaveController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/redenv\/save\/",{xhpc_targetid:{type:"Int",required:true},xhpc_composerid:{type:"String",required:true},composer_attachment_message:{type:"String"},distribution:{type:"String",required:true},total_amount:{type:"Int",required:true},number_of_envelopes:{type:"Int",required:true}});},null);
__d("XTimelineMLEWriteController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/mle\/save\/",{create_scrapbook:{type:"Bool",defaultValue:false}});},null);
__d('ReactComposerPostUtils',['ReactComposerActions','ReactComposerAsyncRequest','ReactComposerAttachmentStore','ReactComposerAttachmentType','ComposerEntryPointRef','ReactComposerFileStore','ReactComposerLifeEventStore','ReactComposerStatusDonateButtonStore','ReactComposerPhotoStore','ReactComposerPhotoUploadStore','ReactComposerPostDataUtils','ReactComposerQuestionStore','ReactComposerRedEnvelopeStore','ReactComposerSellStore','ReactComposerAutosSellStore.react','ReactComposerStatusStore','ReactComposerStore','ReactComposerVideoUploadStore','XRedEnvelopeSaveController','XTimelineMLEWriteController','ActorURI','Arbiter','HTML','PUWApplications','URI','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){if(c.__markCompiled)c.__markCompiled();var ha={publish:function(ia,ja){h.publishStarted(ia);ja=ja||{};ja.composer_id=ia;if(ja.streamNode){ja.streamStory=ja.streamNode;}else if(ja.streamMarkup)ja.streamStory=da(ja.streamMarkup).getRootNode();if(ja.contentID)ja.matchData={content_id:ja.contentID};ca.inform('composer/publish',ja);},isPostButtonDisabled:function(ia,ja){var ka=p.isLimitExceeded(ia,ja),la=q.isUploading(ia),ma=p.isRecognizing(ia),na=!!y.getVideo(ia)&&x.isPosting(ia);return ka||la||ma||na;},post:function(ia){!!!ia.actorID?ga(0):undefined;!!!ia.composerID?ga(0):undefined;!!!ia.contextInfo?ga(0):undefined;!!!ia.targetID?ga(0):undefined;var ja=ia.actorID,ka=ia.composerID,la=j.getIsAttachmentSelected(ka,k.MEDIA),ma=j.getIsAttachmentSelected(ka,k.QANDA),na=j.getIsAttachmentSelected(ka,k.FILE),oa=j.getIsAttachmentSelected(ka,k.QUESTION),pa=j.getIsAttachmentSelected(ka,k.RED_ENVELOPE),qa=j.getIsAttachmentSelected(ka,k.SELL)||u.getInterceptSell(ka),ra=j.getIsAttachmentSelected(ka,k.LIFE_EVENT),sa=r.getPostData(ia);if(o.getEnabled(ka))Object.assign(sa,{cta_data:{type:'DONATE',value:{fundraiser_campaign_id:o.getFundraiserCampaignID(ka),link_title:o.getTitle(ka),link_description:o.getDescription(ka)}}});var ta=y.getVideo(ka);if(la&&!!ta){var ua=y.getUploader(ka);ua&&ua.uploadFromFile(ta.file,sa);return;}var va,wa=p.getPhotos(ka),xa=q.getUploads(ka),ya=xa.filter(function(hb){return wa.some(function(ib){return ib.id===hb.photoID;});});if(qa)Object.assign(sa,{composer_attachment_sell_title:u.getTitleText(ka),composer_attachment_sell_price:u.getPrice(ka),composer_attachment_sell_currency:u.getCurrency(ka),composer_attachment_sell_category:u.getCategoryID(ka),composer_attachment_sell_location_page_id:u.getLocationID(ka),composer_attachment_sell_pickup_note:u.getPickupNoteText(ka),post_to_marketplace:u.isNearbyLocationChecked(ka),cross_post_checked:u.isCrossPostChecked(ka),composer_attachment_sell_autos_make:v.getMake(ka),composer_attachment_sell_autos_model:v.getModel(ka),composer_attachment_sell_autos_vin:v.getVIN(ka),composer_attachment_sell_autos_year:v.getYear(ka),composer_attachment_sell_autos_odometer:v.getOdometerValue(ka),composer_attachment_sell_autos_odometer_units:v.getOdometerUnits(ka)});if((la||ma||qa)&&wa.size>0){va=new fa('/media/upload/photos/composer/');Object.assign(sa,r.getPhotoUploadsData(ka,ya));}else if(na){va=new fa(m.getURI(ka));Object.assign(sa,{transaction_id:m.getDropboxFileID(ka)});}else if(oa){va=new fa('/ajax/questions/save.php');var za=s.getOptionIDs(ka),ab=s.getOptionStrings(ka);za.push('');ab.push('');Object.assign(sa,{composerAttachmentQuestion:w.getMessageText(ka),question_option_ids:za,question_options:ab,source:x.getRef(ka)===l.GROUP?'group':x.getRef(ka)===l.EVENT?'event':null,create_eigenpoll:s.canChooseMultiplePollOptions(ka),anyone_add_options:s.canAnyoneAddPollOptions(ka)});}else if(pa){Object.assign(sa,{composer_attachment_message:w.getMessageText(ka),total_amount:t.getTotalAmount(ka),distribution:t.getDistribution(ka),number_of_envelopes:t.getNumberOfEnvelopes(ka)});va=z.getURIBuilder().setString('composer_attachment_message',sa.composer_attachment_message).setString('distribution',sa.distribution).setInt('total_amount',sa.total_amount).setInt('number_of_envelopes',sa.number_of_envelopes).setInt('xhpc_targetid',ia.targetID).setString('xhpc_composerid',ia.composerID).getURI();}else if(qa){va=new fa('/ajax/groups/sell/save.php');}else if(ra){va=aa.getURIBuilder().getURI();var bb=babelHelpers['extends']({},n.getSelectedLifeEventFields(ka)),cb=Object.keys(sa.backdated_date).some(function(hb){return sa.backdated_date[hb]!==null;});if(cb)bb.date_start=sa.backdated_date;var db=ya.map(function(hb){return {fbid:hb.photoID};});Object.assign(sa,{field_data_json:JSON.stringify(bb),icon:n.getSelectedLifeEventIconID(ka),photos:JSON.stringify(db),story:n.getSelectedLifeEventStory(ka),surface:'composer',title:n.getSelectedLifeEventTitle(ka),type:n.getSelectedLifeEventType(ka)});}else va=new fa('/ajax/updatestatus.php');va=ba.create(va,ja);var eb=new i(ia.composerID,va).setData(sa).setHandler(ia.onPostSuccess).setErrorHandler(ia.onPostFailure);if(na&&m.hasFile(ka)){var fb=m.getFile(ka),gb=new FormData();gb.append('file1',fb);eb.setRawData(gb);}eb.send();}};f.exports=ha;},null);
__d('ReactComposerPagesStore',['ReactComposerActionStore','ReactComposerMediaConfig','ReactComposerPostUtils','PagesComposerUnpublishedPostsStore','formatDate'],function a(b,c,d,e,f,g,h,i,j,k,l){var m,n;if(c.__markCompiled)c.__markCompiled();m=babelHelpers.inherits(o,h);n=m&&m.prototype;function o(){'use strict';n.constructor.call(this);}o.prototype.__onPostStarted=function(p){'use strict';var q=k.getIsDraft(p.composerID),r=Object.assign({},p.config.contextInfo||{});r.draft=q;var s=k.getScheduledPublishTime(p.composerID);if(s){var t=l(s,'m/d/Y',{skipPatternLocalization:true}),u=60*(60*s.getHours()+s.getMinutes());r.scheduled=true;r.future_date=t;r.future_time=u;}var v=k.getBackdateConfig(p.composerID);if(v){r.backdated_date={year:v.year,month:v.month,day:v.day};r.hide_from_newsfeed=v.hideFromNewsFeed;}var w=k.getStopFeedDistributionTime(p.composerID);if(w){r.stopFeedDistributionDateFormatted=l(w,'m/d/Y',{skipPatternLocalization:true});r.stopFeedDistributionTimeFormatted=60*(60*w.getHours()+w.getMinutes());}var x=k.getIsAdsPost(p.composerID);if(x)r.is_ad_post=1;j.post({actorID:p.actorID,composerID:p.composerID,contextInfo:r,targetID:p.targetID,onPostSuccess:p.onPostSuccess});};o.prototype.__canPost=function(p){'use strict';return !j.isPostButtonDisabled(p.composerID,i.photo.limit);};f.exports=new o();},null);
__d('PagesComposerExtraAttachmentSelector.react',['ReactComponentWithPureRenderMixin','React','ReactComposerAttachmentSelectorContainer.react','ReactComposerAttachmentType','PagesComposerExtraAttachmentIcons','invariant','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=i.PropTypes,p=i.createClass({displayName:'PagesComposerExtraAttachmentSelector',mixins:[h],propTypes:{label:o.string.isRequired,icon:o.oneOf(Object.keys(l)).isRequired},render:function(){return (i.createElement(j,{attachmentID:k.PAGES_EXTRA,label:this.props.label,icon:this._renderIcon()}));},_renderIcon:function(){switch(this.props.icon){case l.FINCH_COUPONS_ICON:return n('/images/icons/pages/coupons/finch-offers.png');case l.Q_AND_A_ICON:return n('/images/litestand/composer/icons/qanda.png');case l.CAUSE_ICON:return n('/images/icons/pages/donations/cause.png');case l.COUPONS_ICON:return n('/images/icons/pages/coupons/offers.png');case l.FINCH_EVENTS_ICON:return n('/images/icons/finch-event.png');case l.EVENTS_ICON:return n('/images/icons/event.gif');default:m(0);}}});f.exports=p;},null);
__d("XPagesExtraAttachmentBootstrapController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/pages\/extra\/bootstrap\/",{});},null);
__d('PagesComposerExtraLazyAttachment.react',['ReactComposerAttachmentType','ReactComposerLoadableAttachmentBodyMixin','ReactComposerBootloaderPropTypes','ActorURI','React','XPagesExtraAttachmentBootstrapController'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=l.PropTypes,o=l.createClass({displayName:'PagesComposerExtraLazyAttachment',mixins:[i],propTypes:{bootloader:j.isRequired},statics:{attachmentID:h.PAGES_EXTRA},bootload:function(p){this.props.bootloader.extraAttachment(p);},getBootstrapURI:function(){var p=m.getURIBuilder().getURI();return k.create(p,this.context.actorID);}});f.exports=o;},null);
__d('PagesComposerAdsTabbedSections.react',['InsightsTabbedSectionsMixin','React','cx'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=i.PropTypes,l=i.createClass({displayName:'PagesComposerAdsTabbedSections',mixins:[h],propTypes:{shouldShowRestrictionTabNux:k.bool},getInitialState:function(){return {showRestrictionTabNux:this.props.shouldShowRestrictionTabNux};},theme:{activeNavLinkClass:"_20im",navClass:"_5cmi",longNavClass:"_3bxh",navLinkClass:"_20in",smallNavLinkClass:"_4d7-",subtitledBlockClass:"_1fkz",subtitleClass:"_1fk-"}});f.exports=l;},null);
__d('PagesComposerAdsGatingSection.react',['AdsCommonTargetingActions','AdsCommonTargetingViewController.react','AdInterfacesUiLogger','PagesComposerAudiencesConstants','React','cx','dotAccess','fbt','isEmpty','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=l.PropTypes,s='pages_composer_mgc',t=l.createClass({displayName:'PagesComposerAdsGatingSection',_controller:undefined,_subscription:undefined,propTypes:{initialGatingSpec:r.object,onGatingChange:r.func.isRequired},_onGatingChange:function(u){this.props.onGatingChange(u);},componentWillMount:function(){j.setAppName(s);j.setAccountID('0');var u=new i(s),v=q("__dj","_3on0"),w=k.ADS_GATING_SECTIONS.map(function(aa){return {component:aa.NAME,customProperties:{showLocationTypeSelector:false,disableAddBulkLocations:true,disallowAddress:true,disallowDMA:true,disallowPlaces:true,enableMap:false,ageMin:13,tooltip:n(k.GATING_TOOLTIPS,aa.NAME)},renderWrapper:function(ba){return (l.createElement('div',{className:v},ba));}};});u.setConfiguration(w);var x=o._("Limit who can see this post. Only people in the audiences you choose can see this post anywhere on Facebook.");u.setExtraData({text:x});var y={};Object.assign(y,this.props.initialGatingSpec);var z=!p(y)?y:{ageMin:13};h.updateStoreFromExternal(z,s);this._controller=u;this._subscription=u.subscribeApiChange(function(aa){return this._onGatingChange(aa);}.bind(this));},componentWillUnmount:function(){this._controller&&this._controller.destroy();},render:function(){return this._controller?this._controller.render():null;}});f.exports=t;},null);
__d('PagesComposerGating.react',['PagesComposerAdsGatingSection.react','React'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=i.PropTypes,k=i.createClass({displayName:'PagesComposerGating',propTypes:{initialGatingSpec:j.object,onGatingChange:j.func.isRequired},render:function(){return (i.createElement(h,this.props));}});f.exports=k;},null);
__d('PagesComposerAdsTargetingSection.react',['AdsCommonTargetingActions','AdsCommonTargetingViewController.react','AdInterfacesUiLogger','PagesComposerAudiencesConstants','React','cx','dotAccess','fbt','isEmpty','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=l.PropTypes,s='pages_composer_mtc',t=l.createClass({displayName:'PagesComposerAdsTargetingSection',_controller:undefined,_subscription:undefined,propTypes:{initialTargetingSpec:r.object,onTargetingChange:r.func.isRequired,canSeeCompleteList:r.bool,useTargetingAsFilter:r.bool,feedTargetingShowReachGK:r.bool,canSeeDemographicOptions:r.bool},_onTargetingChange:function(u){this.props.onTargetingChange(u);},componentWillMount:function(){j.setAppName(s);j.setAccountID('0');var u=new i(s),v=q("__dj","_3on0"),w=[];if(this.props.useTargetingAsFilter){w=k.ADS_TARGETING_SECTIONS_SHORT_LIST;w=k.InterestsConnection.concat(w);}else{if(this.props.canSeeDemographicOptions)w=this.props.canSeeCompleteList?k.ADS_TARGETING_SECTIONS_COMPLETE_LIST:k.ADS_TARGETING_SECTIONS_SHORT_LIST;w=k.Interests.concat(w);}var x=w.map(function(ca){return {component:ca.NAME,customProperties:{showReach:false,showWhiteBox:this.props.feedTargetingShowReachGK,showSuggestionWhiteBox:false,retrievePrefillSuggestions:false,filterPartnerData:true,showLocationTypeSelector:false,disableAddBulkLocations:true,disallowAddress:true,disallowDMA:true,disallowZips:true,disallowPlaces:true,enableMap:false,onlyInclusion:true,ageMin:13,useAudienceInterests:true,canSeeCompleteList:this.props.canSeeCompleteList,useTargetingAsFilter:this.props.useTargetingAsFilter,canSeeDemographicOptions:this.props.canSeeDemographicOptions,tooltip:n(k.TARGETING_SHORT_LIST_TOOLTIPS,ca.NAME)},renderWrapper:function(da){return (l.createElement('div',{className:v},da));}};}.bind(this));u.setConfiguration(x);var y=this.props.useTargetingAsFilter?o._("Choose who can see this post in News Feed. If someone engages with this post, their friends may see it too."):o._("Choose the people you'd like to reach in News Feed. People in this group are more likely to see your post."),z=o._("e.g. \"baseball\" \"daycare\" \"chicago\" \"Kendrick Lamar\"");u.setExtraData({accountID:'1001276841438',text:y,notes:z});var aa={};Object.assign(aa,this.props.initialTargetingSpec);var ba=!p(aa)?aa:{ageMin:13,targetAllGraduationYears:true};h.updateStoreFromExternal(ba,s);this._controller=u;this._subscription=u.subscribeApiChange(function(ca){return this._onTargetingChange(ca);}.bind(this));},componentWillUnmount:function(){this._controller&&this._controller.destroy();},render:function(){return this._controller?this._controller.render():null;}});f.exports=t;},null);
__d('PagesComposerAudiencesBody.react',['InsightsTabbedSection.react','PagesComposerAdsTabbedSections.react','PagesComposerTargeting.react','PagesComposerGating.react','React','XUICloseButton.react','cx','fbt','PagesComposerAudiencesConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=l.PropTypes,r=p.TABS,s=l.createClass({displayName:'PagesComposerAudiencesBody',propTypes:{initialActiveKey:q.string,initialTargetingSpec:q.object,initialGatingSpec:q.object,onTargetingChange:q.func.isRequired,onGatingChange:q.func.isRequired,canSeeCompleteList:q.bool,useTargetingAsFilter:q.bool,feedTargetingShowReachGK:q.bool,canSeeDemographicOptions:q.bool,shouldShowRestrictionTabNux:q.bool},getDefaultProps:function(){return {initialActiveKey:r.TARGETING};},getInitialState:function(){return {activeKey:this.props.initialActiveKey};},onSectionTabClick:function(t){this.setState({activeKey:t.type.getKey(t.props)});},render:function(){var t=this.props.useTargetingAsFilter?o._("News Feed Targeting"):o._("Preferred Audience"),u=o._("Audience Restrictions"),v=this.props.shouldShowRestrictionTabNux&&!this.props.thisuseTargetingAsFilter;return (l.createElement('div',null,l.createElement(i,{activeKey:this.state.activeKey,onTabClick:function(w){return this.onSectionTabClick(w);}.bind(this),shouldShowRestrictionTabNux:v},l.createElement(h,{key:r.TARGETING,sectionKey:r.TARGETING,title:t},l.createElement(j,babelHelpers['extends']({},this.props,{onTargetingChange:this.props.onTargetingChange}))),l.createElement(h,{key:r.GATING,sectionKey:r.GATING,title:u},l.createElement(k,babelHelpers['extends']({},this.props,{onGatingChange:this.props.onGatingChange})))),l.createElement(m,{label:'close',className:"layerCancel _51-t _5a9y"})));}});f.exports=s;},null);
__d('ReactTargetingTaggerStore.react',['ReactComposerStoreBase','ReactComposerTaggerActionType','ReactComposerTaggerType'],function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();k=babelHelpers.inherits(m,h);l=k&&k.prototype;function m(){'use strict';var n;l.constructor.call(this,function(){var o={};o[j.TARGETING]={};return {taggersData:o,taggersSource:{}};},function(o){if(o.type===i.SET_TAGGER_DATA)n&&n.$ReactTargetingTaggerStore1(o);});n=this;}m.prototype.getTaggerData=function(n,o){'use strict';return this.getComposerData(n).taggersData[o];};m.prototype.$ReactTargetingTaggerStore1=function(n){'use strict';var o=this.getComposerData(n.composerID),p=Array.isArray(n.taggerData)?n.taggerData.slice():Object.assign({},n.taggerData);o.taggersData[n.taggerID]=p;this.emitChange(n.composerID);};f.exports=new m();},null);
__d("XPagesGetTargetingMetadataController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/targeting\/metadata\/",{page_id:{type:"Int",required:true},target_spec:{type:"String",required:true}});},null);
__d('ReactComposerTargetingUtils',['AsyncRequest','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','ReactTargetingTaggerStore.react','XPagesGetTargetingMetadataController','XUIText.react','React','curry','fbt','intlList'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s={fetchMetadata:function(t,u,v){var w=m.getURIBuilder().setInt('page_id',u).setString('target_spec',JSON.stringify(t)).getURI();new h().setURI(w).setHandler(p(this._onFetchMetadataHandler,v)).send();},_onFetchMetadataHandler:function(t,u){var v=u.payload,w=v.sentences.map(function(x){return (o.createElement('span',null,q._("{content_label} {children}",[q.param('content_label',o.createElement(n,{weight:'bold'},x.content)),q.param('children',r(x.children,r.CONJUNCTIONS.OR))])));});t(JSON.parse(v.target_spec),o.createElement('span',null,r(w,r.CONJUNCTIONS.NONE)),v.reach_estimate);},getDataFromComposerTaggerStore:function(t){return j.getTaggerData(t,k.TARGETING);},getDataFromTargetingTaggerStore:function(t){return l.getTaggerData(t,k.TARGETING);},setData:function(t,u){var v={},w=['targeting','gating','hints','targetingSentences','gatingSentences','reachEstimate'];w.map(function(x){if(u[x])v[x]=u[x];});i.setTaggerData(t,k.TARGETING,v);}};f.exports=s;},null);
__d('PagesComposerAudiences.react',['AdsCommonTargetingApiTransformer','BanzaiODS','ReactComposerContextMixin','LayerFadeOnHide','Link.react','PagesComposerAudiencesBody.react','React','ReactComposerTaggerStore','ReactComposerTargetingUtils','ReactTargetingTaggerStore.react','XUIDialog.react','XUIDialogBody.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogSaveButton.react','XUIText.react','areEqual','cx','fbt','isEmpty','trimObject'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){'use strict';if(c.__markCompiled)c.__markCompiled();var ca=n.PropTypes,da=587,ea=n.createClass({displayName:'PagesComposerAudiences',mixins:[j],propTypes:{shown:ca.bool.isRequired,onToggle:ca.func.isRequired,onSave:ca.func.isRequired,rootElement:ca.object,callbackDataStatus:ca.func,callbackSelectionStatus:ca.func,saveData:ca.func,initialActiveKey:ca.string,canSeeCompleteList:ca.bool,useTargetingAsFilter:ca.bool,canSeeDemographicOptions:ca.bool,isTargetingTool:ca.bool,feedTargetingShowReachGK:ca.bool,useFromLegacyComposer:ca.bool,shouldShowRestrictionTabNux:ca.bool},getStores:function(){if(this.props.useFromLegacyComposer)return [q];return [o];},getInitialState:function(){return {fetching:false,targeting:this.getInitialSavedData('targeting'),gating:this.getInitialSavedData('gating'),hints:this.getInitialSavedData('hints'),targetingSentences:this.getInitialSavedData('targetingSentences'),gatingSentences:this.getInitialSavedData('gatingSentences'),reachEstimate:this.getInitialReachEstimate()};},componentWillMount:function(){if(this.props.callbackSelectionStatus)this.props.callbackSelectionStatus(true);},componentWillUnmount:function(){if(this.props.callbackSelectionStatus)this.props.callbackSelectionStatus(false);},componentDidMount:function(){i.bumpEntityKey('ui_audience_targeting','dialog_open');},_onSave:function(){var fa={};Object.assign(fa,this.state);if(!aa(fa.targeting))fa.targeting=this.convertConnectionsToInterestsFromApiToTargetingSpec(h.toApi('pages_composer_mtc'));if(!aa(fa.gating))fa.gating=h.toApi('pages_composer_mgc');if(this.props.isTargetingTool){var ga=this.props.saveData;if(ga)ga(JSON.stringify(fa.hints));}else if(this.props.useFromLegacyComposer){this._onSaveLegacy(fa);}else this._onSaveStore(fa);this.props.onSave();},_onSaveStore:function(fa){p.setData(this.context.composerID,fa);},_isDefaultSpec:function(fa){return x(fa,{age_max:65,age_min:13});},_onSaveLegacy:function(fa){if(this.props.callbackDataStatus)this.props.callbackDataStatus(fa.gating&&!aa(fa.gating)&&!this._isDefaultSpec(fa.gating)||fa.targeting&&!aa(fa.targeting)&&!this._isDefaultSpec(fa.targeting)||fa.hints&&!aa(fa.hints)&&!this._isDefaultSpec(fa.hints));p.setData(this.context.targetID,fa);},_onTargetingChange:function(fa){if(x(this.state.targeting,fa)||x(this.state.hints,fa))return;if(this.props.isTargetingTool){this.setState({hints:fa});return;}this.setState({fetching:true});var ga=this.props.useTargetingAsFilter?fa:Object.assign({},fa,this.state.gating);p.fetchMetadata(ga,this.context.targetID,this._onTargetingChangeHandler);},_onTargetingChangeHandler:function(fa,ga,ha){if(this.props.useTargetingAsFilter){this.setState({fetching:false,targeting:fa,targetingSentences:ga,reachEstimate:ha});}else this.setState({fetching:false,hints:fa,targetingSentences:ga});},_onGatingChange:function(fa){if(x(this.state.gating,fa))return;if(this.props.isTargetingTool){this.setState({gating:fa});return;}this.setState({fetching:true});var ga=this.props.useTargetingAsFilter?fa:Object.assign({},fa,this.state.hints);p.fetchMetadata(ga,this.context.targetID,this._onGatingChangeHandler);},_onGatingChangeHandler:function(fa,ga){if(this.props.useTargetingAsFilter){this.setState({fetching:false,gating:fa,gatingSentences:ga});}else this.setState({fetching:false,gating:fa,targetingSentences:ga});},fromApiToTargetingSpec:function(fa){return fa&&!aa(fa)?ba(h.fromApi(fa)):{};},convertConnectionsToInterestsFromApiToTargetingSpec:function(fa){if(fa&&fa.connections&&!fa.fan_of){fa.fan_of=fa.connections;delete fa.connections;}return fa;},convertInterestsToConnectionsFromTargetingSpecToApi:function(fa){if(fa&&fa.fan_of&&!fa.connections){fa.connections=fa.fan_of;delete fa.fan_of;}return fa;},getInitialSavedData:function(fa){var ga={};if(this.props.useFromLegacyComposer){ga=this.getSavedSpec(fa,this.context.targetID);}else ga=this.getSavedSpec(fa,this.context.composerID);return this.convertInterestsToConnectionsFromTargetingSpecToApi(ga);},getSavedSpec:function(fa,ga){if(this.props.useFromLegacyComposer){var ha=p.getDataFromTargetingTaggerStore(ga);}else ha=p.getDataFromComposerTaggerStore(ga);return ha==null?null:ha[fa];},getInitialReachEstimate:function(){if(!this.props.useTargetingAsFilter){return null;}else{var fa=p.getDataFromComposerTaggerStore(this.context.composerID);return fa==null?null:fa.reachEstimate;}},renderReachEstimate:function(){if(!this.state.reachEstimate)return null;var fa=this.state.reachEstimate===20?z._("0-20"):this.state.reachEstimate,ga=z._("Reach estimate for news feed targeting: {estimate_number}",[z.param('estimate_number',fa)]);return (n.createElement(w,null,ga));},renderHelpLink:function(){var fa=z._("Have a Question?"),ga='https://www.facebook.com/facebookmedia/get-started/'+'audience-optimization/',ha=n.createElement(l,{href:ga},z._("Read our Guidelines."));return (n.createElement('div',{className:"_3xrd"},n.createElement(w,null,fa),' ',ha));},renderFooterLeftContent:function(){if(!this.props.useTargetingAsFilter)return this.renderHelpLink();return this.renderReachEstimate();},render:function(){var fa=this.props.useTargetingAsFilter?this.state.targeting:this.state.hints;return (n.createElement(r,{shown:this.props.shown,behaviors:{LayerFadeOnHide:k},layerHideOnBlur:false,onToggle:this.props.onToggle,width:da},n.createElement(s,null,n.createElement(m,{initialTargetingSpec:this.fromApiToTargetingSpec(fa),initialGatingSpec:this.fromApiToTargetingSpec(this.state.gating),onTargetingChange:this._onTargetingChange,onGatingChange:this._onGatingChange,initialActiveKey:this.props.initialActiveKey,canSeeCompleteList:this.props.canSeeCompleteList,useTargetingAsFilter:this.props.useTargetingAsFilter,canSeeDemographicOptions:this.props.canSeeDemographicOptions,feedTargetingShowReachGK:this.props.feedTargetingShowReachGK,shouldShowRestrictionTabNux:this.props.shouldShowRestrictionTabNux})),n.createElement(u,{leftContent:this.renderFooterLeftContent()},n.createElement(t,{use:'default'}),n.createElement(v,{className:"_2uyv",use:'confirm',action:'confirm',disabled:this.state.fetching,onClick:this._onSave}))));}});f.exports=ea;},null);
__d('ReactComposerPagesPrivacySelector.react',['ReactComposerContextMixin','Image.react','PagesComposerAudiences.react','PopoverMenu.react','ReactComponentWithPureRenderMixin','React','ReactComposerTargetingUtils','ReactLayeredComponentMixin','ReactSelectorUtils','Tooltip.react','XUIGrayText.react','ReactXUIMenu','XUIMenuSeparator.react','XUIMenuStaticItem.react','XUISelector.react','XUISelectorButton.react','cx','fbt','ix','PagesComposerAudiencesConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){if(c.__markCompiled)c.__markCompiled();var ba=s.SelectableMenu,ca=v.Option,da=aa.TABS,ea=z('/images/icons/audience/everyone.png'),fa=z('/images/icons/audience/custom.png'),ga='everyone',ha='custom',ia=m.PropTypes,ja=m.createClass({displayName:'ReactComposerPagesPrivacySelector',mixins:[h,l,o],propTypes:{gatingSentences:ia.object,useReactPrivacyDialogForLegacy:ia.bool,isVideoDialog:ia.bool,useTargetingAsFilter:ia.bool},getInitialState:function(){return {dialogShown:false};},_getSelectorButton:function(){var ka=this.props.gatingSentences?fa:ea;return (m.createElement(w,{image:m.createElement(i,{src:ka}),suppressed:true}));},_getMenuItems:function(){return [m.createElement(ca,{icon:m.createElement(i,{src:ea}),value:ga,onclick:this._onClearPrivacy},y._("Public")),m.createElement(t,null),m.createElement(u,null,m.createElement(r,{shade:'light'},y._("Limit Audience By:"))),m.createElement(ca,{icon:m.createElement(i,{src:fa}),value:ha,onclick:function(){return this._onToggle(true);}.bind(this)},y._("Demographics"))];},_onToggle:function(ka){setTimeout(function(){return this.setState({dialogShown:ka});}.bind(this),0);},_onClearPrivacy:function(){var ka=n.getDataFromComposerTaggerStore(this.context.composerID),la=Object.assign({},ka);la.gating=null;la.gatingSentences=null;n.setData(this.context.composerID,la);},renderLayers:function(){if(!this.state.dialogShown)return {};return (m.createElement(j,{shown:this.state.dialogShown,onToggle:this._onToggle,onSave:function(){return this._onToggle(false);}.bind(this),initialActiveKey:da.GATING,useFromLegacyComposer:this.props.isVideoDialog,useTargetingAsFilter:this.props.useTargetingAsFilter}));},render:function(){var ka=this.props.gatingSentences?ha:ga,la=p.processMenuItems(this._getMenuItems(),ka),ma=m.createElement(ba,{value:ka},la.items);return (m.createElement(q,{tooltip:this.props.gatingSentences},m.createElement('div',{className:"_5dd8"},m.createElement(k,{menu:ma},this._getSelectorButton()))));}});f.exports=ja;},null);
__d('ReactComposerPagesPrivacyContainer.react',['ReactComposerPagesPrivacySelector.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComponentWithPureRenderMixin','React','Image.react','Tooltip.react','fbt','ix','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=q('/images/icons/audience/everyone_gray.png'),t=m.PropTypes,u=m.createClass({displayName:'ReactComposerPagesPrivacyContainer',mixins:[l,i(j)],propTypes:{lockToPrivacy:t.string,useTargetingAsFilter:t.bool},statics:{calculateState:function(v,w){var x=j.getTaggerData(v,k.TARGETING)||{};return {gatingSentences:x.gatingSentences};}},render:function(){if(this.props.lockToPrivacy){return this._renderLockedIcon();}else return this._renderSelector();},_renderSelector:function(){return (m.createElement(h,{gatingSentences:this.state.gatingSentences,useTargetingAsFilter:this.props.useTargetingAsFilter}));},_renderLockedIcon:function(){switch(this.props.lockToPrivacy){case 'everyone':return (m.createElement('div',{className:"_3jv0"},m.createElement(o,{tooltip:p._("Everyone can see posts on this public page")},m.createElement('div',{className:"_3jv1"},m.createElement(n,{src:s})))));default:return null;}}});f.exports=u;},null);
__d('ReactComposerPhotoPrefillConfig',['React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h.PropTypes;f.exports=i.shape({uploadID:i.string,photoID:i.string,thumbSrc:i.string});},null);
__d('ReactComposerPrefillConfig',['ReactComposerAttachmentType','ReactComposerPhotoPrefillConfig','React','getOwnObjectValues'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=j.PropTypes;f.exports=l.shape({instantMediaSelector:l.shape({fileInputDOM:l.any}),mentionsInput:l.shape({textWithEntities:l.shape({text:l.string}),selection:l.object}),selectedAttachment:l.oneOf(k(h)),shouldActivateSelectedAttachment:l.bool,taggersData:l.object,photosData:l.arrayOf(i),attachmentPreviewData:l.shape({scrapedAttachment:l.shape({markup:l.object,attachmentConfig:l.object})}),prompt:l.any});},null);
__d('ReactComposerPrefillActions',['ReactComposerDispatcher','ReactComposerPrefillActionTypes','ReactComposerPrefillConfig','ReactComposerPrefillStore'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();c('ReactComposerPrefillStore');var k={setPrefillData:function(l,m){h.dispatch({composerID:l,type:i.SET_PREFILL_DATA,prefillConfig:m});}};f.exports=k;},null);
__d('ReactComposerSponsorTaggerButton.react',['ReactComposerTaggerButtonMixin','ReactComposerTaggerType','React','fbt','cx'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=j.createClass({displayName:'ReactComposerSponsorTaggerButton',mixins:[h],statics:{taggerID:i.SPONSOR},getTitle:function(){return k._("Did another company sponsor content in this post? If so, you must tag its Page.");},getTooltip:function(){return k._("Did another company sponsor content in this post? If so, you must tag its Page.");},getClassName:function(){return "_3i-i";}});f.exports=m;},null);
__d('ReactComposerSponsorTaggerComponent.react',['ReactComposerTaggerViewStyles','Grid.react','React','XUITokenizer.react','TokenizerExampleSearchSource','cx','emptyFunction','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=i.GridItem,q=j.PropTypes,r=j.createClass({displayName:'ReactComposerSponsorTaggerComponent',propTypes:{autoFocus:q.bool,placeholder:q.string,taggerSource:q.object,taggerData:q.array.isRequired,onPeopleTagRemove:q.func,onSelect:q.func,taggerViewStyle:q.shape(h.Shape)},getDefaultProps:function(){return {autoFocus:true,onSelect:n,placeholder:o._("Who is sponsoring you for this post?"),taggerViewStyle:h.DEFAULT,taggerData:[],taggerSource:new l()};},_onClear:function(){this.props.onSelect&&this.props.onSelect({});},render:function(){return (j.createElement(i,{cols:2,className:"_5esl",role:'presentation'},j.createElement(p,{key:'label',className:"_5esm",role:'presentation'},o._("With")),j.createElement(p,{key:'tokenizer',className:"_5esw",role:'presentation'},j.createElement(k,babelHelpers['extends']({},this.props,{entries:this.props.taggerData,focusedOnInit:this.props.autoFocus,onAddEntryAttempt:this._onAdd,onRemoveEntryAttempt:this._onRemove,placeholder:this.props.placeholder,searchSource:this.props.taggerSource})))));},_onAdd:function(s){var t=this.props.taggerData,u=s.getUniqueID(),v=t.some(function(w){return w.getUniqueID()===u;});if(v){return;}else t.push(s);this.props.onSelect&&this.props.onSelect(t);},_onRemove:function(s){var t=this.props.taggerData,u=t.indexOf(s);if(u==-1)return;t.splice(u,1);this.props.onSelect&&this.props.onSelect(t);}});f.exports=r;},null);
__d('ReactComposerSponsorTaggerContainer.react',['ReactComposerSponsorTaggerComponent.react','ReactComposerSponsorTaggerConstants','ReactComposerTaggerActions','ReactComposerTaggerContainerMixin','ReactComposerTaggerType','React','SubscriptionsHandler','WebAsyncSearchSource'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=m.PropTypes,q=m.createClass({displayName:'ReactComposerSponsorTaggerContainer',_subscriptions:undefined,mixins:[k],statics:{taggerID:l.SPONSOR,taggerComponent:h},propTypes:{viewer:p.string.isRequired},getInitialState:function(){return {sponsorSentences:null,reachEstimate:null,searchSource:null};},componentWillMount:function(){this._updateSponsorSearchSource();},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release();},_updateSponsorSearchSource:function(){var r=this.state.searchSource;if(r===null)r=this._createAndBootstrapSponsorTypeSearchSource();j.setTaggerSource(this.context.composerID,l.SPONSOR,r);},_createAndBootstrapSponsorTypeSearchSource:function(){var r={filter:['page'],viewer:this.props.viewer},s=i.COMPANY_TOKENIZER_TYPE;return new o({queryRequests:[{uri:'/ajax/typeahead/search.php',data:Object.assign({},r,{is_bootstrap:true,page_categories:s})}],bootstrapRequests:[{uri:'/ajax/typeahead/first_degree.php',data:Object.assign({},r,{is_bootstrap:false,page_categories:s})}]});}});f.exports=q;},null);
__d('ReactComposerTargetingTaggerButtonMixin',['fbt','cx'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={getInitialState:function(){return {dialogShown:false};},getTitle:function(){if(this.props.useTargetingAsFilter){return h._("Narrow the potential News Feed audience for this post");}else return h._("Choose the preferred audiences for this post");},getTooltip:function(){if(this.props.useTargetingAsFilter){return h._("Narrow the potential News Feed audience for this post");}else return h._("Choose the preferred audiences for this post");},getClassName:function(){return "_lmf";},getRef:function(){return 'fbReactComposerTargetingTagger';},_onToggle:function(k){setTimeout(function(){return this.setState({dialogShown:k});}.bind(this),0);},_onSelectX:function(){this.setState({dialogShown:true});}};f.exports=j;},null);
__d("XReactComposerTargetingTaggerNuxController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/edit\/targeting_tagger_nux\/",{});},null);
__d('ReactComposerTargetingTaggerButton.react',['AsyncRequest','ReactComposerTaggerButtonMixin','ReactComposerTaggerType','ReactComposerTargetingTaggerButtonMixin','PagesComposerAudiences.react','React','ReactLayeredComponentMixin','XReactComposerTargetingTaggerNuxController','XUIAmbientNUX.react','XUIText.react','fbt','PagesComposerAudiencesConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=m.PropTypes,u=s.TABS,v=-12,w=300,x=m.createClass({displayName:'ReactComposerTargetingTaggerButton',mixins:[i,k,n],propTypes:{feedTargetingGK:t.bool,feedTargetingShowReachGK:t.bool,shouldShowTargetingTaggerNux:t.bool,shouldShowRestrictionTabNux:t.bool,useTargetingAsFilter:t.bool},statics:{taggerID:j.TARGETING,disableToggle:true},getDefaultProps:function(){return {feedTargetingGK:false,feedTargetingShowReachGK:false,useTargetingAsFilter:true};},getInitialState:function(){return {showTargetingTaggerNux:this.props.shouldShowTargetingTaggerNux};},componentDidMount:function(){var y=!this.state.dialogShown&&this.state.showTargetingTaggerNux&&this.props.feedTargetingGK;if(y){var z=o.getURIBuilder().getURI();new h().setURI(z).setMethod('POST').setData({impression:true}).send();}},componentWillUnmount:function(){if(this.state.showTargetingTaggerNux)this.setState({showTargetingTaggerNux:false});},_onNuxClose:function(){this.setState({showTargetingTaggerNux:false});var y=o.getURIBuilder().getURI();new h().setURI(y).setMethod('POST').setData({acked:true}).send();},_renderNux:function(){return (m.createElement(p,{contextRef:function(){return this.refs.fbReactComposerTargetingTagger;}.bind(this),onCloseButtonClick:this._onNuxClose,offsetY:v,position:'below',shown:true,width:'custom',customwidth:w},m.createElement('div',null,m.createElement(q,null,r._("Use Audience Optimization to reach people who are more likely to engage with your post.")))));},renderLayers:function(){var y=!this.state.dialogShown&&this.state.showTargetingTaggerNux&&this.props.feedTargetingGK;if(y)return this._renderNux();if(this.state.dialogShown)return (m.createElement(l,{shown:this.state.dialogShown,onToggle:this._onToggle,onSave:function(){return this._onToggle(false);}.bind(this),initialActiveKey:u.TARGETING,useTargetingAsFilter:this.props.useTargetingAsFilter,feedTargetingShowReachGK:this.props.feedTargetingShowReachGK,shouldShowRestrictionTabNux:this.props.shouldShowRestrictionTabNux}));return {};}});f.exports=x;},null);
__d('ReactComposerTargetingTaggerComponent.react',['Grid.react','React','XUICloseButton.react','XUIText.react','cx','emptyFunction','fbt','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=h.GridItem,q=i.PropTypes,r=i.createClass({displayName:'ReactComposerTargetingTaggerComponent',propTypes:{taggerData:q.object.isRequired,onSelect:q.func.isRequired,targetingSentences:q.object},getDefaultProps:function(){return {taggerData:{},onSelect:m};},_onClear:function(){this.props.onSelect({});},render:function(){return (i.createElement(h,{cols:2,className:"_5esl",role:'presentation'},i.createElement(p,{key:'prefix',className:"_5esm",role:'presentation'},n._("Targeting")),i.createElement(p,{key:'tagger',className:"_5esw",role:'presentation'},i.createElement('div',{className:"_2doa"},i.createElement('div',{className:"_2dob"},i.createElement(j,{className:"_2doc"+(o(this.props.taggerData)?' '+"hidden_elem":''),size:'small',type:'button',onClick:this._onClear})),i.createElement('div',{className:"_2dod"},i.createElement(k,null,this.props.targetingSentences))))));}});f.exports=r;},null);
__d('ReactComposerTargetingTaggerContainer.react',['ReactComposerTaggerActions','ReactComposerTaggerContainerStateMixin','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerTargetingTaggerComponent.react','SubscriptionsHandler','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=n.createClass({displayName:'ReactComposerTargetingTaggerContainer',_subscriptions:undefined,mixins:[i],statics:{taggerID:k.TARGETING},getInitialState:function(){return {targetingSentences:null};},componentWillMount:function(){var p=new m();p.addSubscriptions(j.addChangeListener(this._onChange));this._subscriptions=p;},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release();},_onChange:function(){var p=j.getTaggerData(this.context.composerID,k.TARGETING);this.setState({targetingSentences:p?p.targetingSentences:null});},_onTaggerDataChanged:function(p){this.__onTaggerDataChanged&&this.__onTaggerDataChanged(p);h.setTaggerData(this.context.composerID,k.TARGETING,p);this.props.onSelect&&this.props.onSelect(p);},render:function(){if(!this.state.isSelected)return n.createElement('noscript',null);return (n.createElement(l,babelHelpers['extends']({},this.props,this.state,{autoFocus:this.state.autoFocus,taggerSource:this.state.taggerSource,taggerData:this.state.taggerData,onSelect:this._onTaggerDataChanged})));}});f.exports=o;},null);
__d('ReactPagesComposer.react',['ReactComposer.react','ReactComposerAttachmentActions','ReactComposerBody.react','ReactComposerBoostedPostLazyButton.react','ReactComposerConfig','ReactComposerContextConfig','ReactComposerContextProviderMixin','ComposerEntryPointRef','ReactComposerLazyHeader.react','ReactComposerMediaAttachmentSelector.react','ReactComposerMediaLazyAttachment.react','ReactComposerPagesBootloader','ReactComposerPagesPrivacyContainer.react','ReactComposerPagesStore','ReactComposerPrefillActions','ReactComposerQAndALazyAttachment.react','ReactComposerQuestionLazyAttachment.react','ReactComposerTaggerType','ReactComposerTargetingTaggerButton.react','ReactComposerTargetingTaggerContainer.react','ReactComposerSponsorTaggerButton.react','ReactComposerSponsorTaggerContainer.react','ReactComposerStatusAttachmentSelector.react','ReactComposerStatusLazyAttachment.react','ReactComposerAttachmentType','BootloadedComponent.react','JSResource','PagesComposer','PagesComposerExtraAttachmentSelector.react','PagesComposerExtraLazyAttachment.react','React','XUISpinner.react','cx','dotAccess','PagesComposerUnpublishedPostsStore'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa){if(c.__markCompiled)c.__markCompiled();c('PagesComposerUnpublishedPostsStore');var pa=la.createClass({displayName:'ReactPagesComposer',mixins:[n],propTypes:{contextConfig:m.isRequired,config:l.isRequired},componentDidMount:function(){ia.init(this.props.contextConfig.composerID,this.props.contextConfig.targetID);u.registerComposerID(this.props.contextConfig.composerID);if(this.props.config.expanded)i.selectAttachment(this.props.contextConfig.composerID,fa.STATUS,true);},componentWillMount:function(){if(this.props.prefillConfig)v.setPrefillData(this.props.contextConfig.composerID,this.props.prefillConfig);},_getAdditionalTaggersForStatusAttachment:function(){var qa=[],ra=this.props.config.taggersConfig;if(ra[y.TARGETING].enabled)qa.push(this._getTargetTagger());if(ra[y.SPONSOR].enabled)qa.push(this._getSponsorTagger());return qa;},_getAdditionalTaggersForMediaAttachment:function(){return this._getAdditionalTaggersForStatusAttachment();},_getTargetTagger:function(){var qa=this.props.config.taggersConfig[y.TARGETING],ra=this.props.config.nuxConfig;return {button:la.createElement(z,{feedTargetingGK:oa(qa,'feedTargetingGK'),feedTargetingShowReachGK:oa(qa,'feedTargetingShowReachGK'),shouldShowTargetingTaggerNux:ra.shouldShowTargetingTaggerNux,shouldShowRestrictionTabNux:this.props.config.nuxConfig.shouldShowRestrictionTabNux,useTargetingAsFilter:!oa(qa,'feedTargetingGK'),key:'targeting_button'}),container:la.createElement(aa,{key:'targeting_container'})};},_getSponsorTagger:function(){return {button:la.createElement(ba,{key:'sponsor_button'}),container:la.createElement(ca,{key:'sponsor_container',viewer:this.props.config.actorConfig.viewerAccountID})};},_getAdditionalFooterActionsForStatusAttachment:function(){var qa=[];if(this.props.config.boostedPostButtonConfig)qa.push(la.createElement(k,babelHelpers['extends']({},this.props.config.boostedPostButtonConfig,{key:'boosted_post_button',reactComposerID:this.props.contextConfig.composerID})));if(this.props.config.taggersConfig[y.TARGETING].enabled&&!oa(this.props.config,'feedTargetingGK'))qa.push(la.createElement(t,{key:'privacy_selector',lockToPrivacy:this.props.config.taggersConfig[y.TARGETING].lockToPrivacy,useTargetingAsFilter:true}));return qa;},_getAdditionalFooterActionsForMediaAttachment:function(){return this._getAdditionalFooterActionsForStatusAttachment();},render:function(){var qa=this.props.config.attachmentsConfig,ra=qa[fa.PAGES_EXTRA],sa=qa[fa.STATUS],ta=qa[fa.MEDIA];return (la.createElement(h,{hideBorders:this.props.config.hideBorders===null?true:this.props.config.hideBorders,loggingConfig:this.props.config.loggingConfig},la.createElement(p,{background:'light-wash',noHorizontalMargin:true,rightChild:this._renderActorSelector(),showDelimiter:false},la.createElement(da,{label:sa.label}),ta.enabled?la.createElement(q,null):null,ra.enabled?la.createElement(ja,{enabled:!!ra.enabled,label:ra.label,icon:ra.icon}):null),la.createElement(j,null,la.createElement(ea,{config:this.props.config,selected:true,placeholder:sa.placeholder,additionalTaggers:this._getAdditionalTaggersForStatusAttachment(),additionalFooterActions:this._getAdditionalFooterActionsForStatusAttachment(),bootloader:s}),la.createElement(r,{additionalTaggers:this._getAdditionalTaggersForMediaAttachment(),additionalFooterActions:this._getAdditionalFooterActionsForMediaAttachment(),bootloader:s,config:this.props.config}),la.createElement(ka,{bootloader:s,config:this.props.config}),la.createElement(x,{config:this.props.config,key:fa.QUESTION,bootloader:s}),la.createElement(w,{config:this.props.config,key:fa.QANDA,bootloader:s}))));},_renderActorSelector:function(){var qa=this.props.contextConfig.composerType;if(qa!==o.PAGES_FEED&&qa!==o.TIMELINE)return null;var ra=this.props.config.actorConfig;ra.composerID=this.props.contextConfig.composerID;return (la.createElement(ga,babelHelpers['extends']({},ra,{bootloadPlaceholder:la.createElement(ma,{className:"_3igw"}),bootloadLoader:ha('ReactComposerActorSelectorContainer.react')})));}});f.exports=pa;},null);
__d('FaceRecognitionController',['ArbiterMixin','BanzaiODS','Poller','mixin','removeFromArray'],function a(b,c,d,e,f,g,h,i,j,k,l){var m,n;if(c.__markCompiled)c.__markCompiled();m=babelHelpers.inherits(o,k(h));n=m&&m.prototype;function o(p){'use strict';n.constructor.call(this);this._config=babelHelpers['extends']({uri:'/photos/tagging/recognition/',interval:2000,maxRequests:4,targetIsPage:false,targetID:null},p);this._cleanup();this._poller=new j({dontStart:true,maxRequests:this._config.maxRequests,interval:this._config.interval,setupRequest:function(q){q.setURI(this._config.uri).setData({recognition_project:'composer_facerec',photos:this._pendingPhotos,waterfallID:this._config.waterfallID,target:this._config.targetID,is_page:this._config.targetIsPage,include_unrecognized_faceboxes:!!this._config.include_unrecognized_faceboxes,include_face_crop_src:!!this._config.include_face_crop_src,include_recognized_user_profile_picture:!!this._config.include_recognized_user_profile_picture,include_low_confidence_recognitions:!!this._config.include_low_confidence_recognitions}).setHandler(this._handleResponse.bind(this));}.bind(this)});this._poller.subscribe('done',function(){var q=this._pendingPhotos;this._cleanup();this.inform('done',{unresolved:q});}.bind(this));}o.prototype.setWaterfallID=function(p){'use strict';this._config.waterfallID=p;};o.prototype.start=function(p){'use strict';Array.prototype.push.apply(this._pendingPhotos,p);this._poller.reset();this._resetSafeguardTimeout();};o.prototype.stop=function(){'use strict';this._poller.stop();this._cleanup();};o.prototype._cleanup=function(){'use strict';window.clearTimeout(this._safeguardTimeout);this._safeguardTimeout=null;this._pendingPhotos=[];};o.prototype._resetSafeguardTimeout=function(){'use strict';window.clearTimeout(this._safeguardTimeout);this._safeguardTimeout=window.setTimeout(function(){i.bumpEntityKey('composer_facerec','safeguard');var p=this._pendingPhotos;this._poller.stop();this._cleanup();this.inform('done',{unresolved:p});}.bind(this),(this._config.maxRequests+2)*this._config.interval);};o.prototype._handleResponse=function(p){'use strict';var q=p.getPayload();q.forEach(function(r){var s=0;l(this._pendingPhotos,r.fbid);r.faceboxes.forEach(function(t){s+=t.recognitions.length;t.recognitions.forEach(function(u){this.inform('recognition',{photo:r.fbid,facebox:{fbid:t.fbid,x:t.x,y:t.y},recognition:u});}.bind(this));}.bind(this));this.inform('photo',{photo:r.fbid,faceboxes:r.faceboxes,recognitions:s});}.bind(this));if(!this._pendingPhotos.length){this._poller.stop();this._cleanup();this.inform('done',{unresolved:this._pendingPhotos});}};f.exports=o;},null);
__d('ReactComposerMediaActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({SET_MEDIA_CONFIG:null});},null);
__d('ReactComposerCanvasActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({HIDE_CANVAS_SELECTOR:null,SHOW_CANVAS_SELECTOR:null});},null);
__d('ReactComposerCanvasActions',['ReactComposerDispatcher','ReactComposerCanvasActionType'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={showCanvasSelector:function(k){h.dispatch({composerID:k,type:i.SHOW_CANVAS_SELECTOR});},hideCanvasSelector:function(k){h.dispatch({composerID:k,type:i.HIDE_CANVAS_SELECTOR});}};f.exports=j;},null);
__d('ReactComposerPhotoActions',['ReactComposerPhotoActionType','ReactComposerDispatcher','ReactComposerPhotoStore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();c('ReactComposerPhotoStore');var j={startRecognizing:function(k,l){i.dispatch({composerID:k,photoID:l,type:h.PHOTO_RECOGNITION_STARTED});},finishRecognizingPhoto:function(k,l){i.dispatch({composerID:k,type:h.PHOTO_RECOGNITION_FINISHED,photoID:l});},finishRecognizing:function(k,l){i.dispatch({composerID:k,type:h.PHOTO_RECOGNITION_ALL_FINISHED,photos:l});},addFacebox:function(k,l,m){i.dispatch({composerID:k,type:h.PHOTO_ADD_FACEBOX,photoID:l,facebox:m});},tagXY:function(k,l,m,n,o,p,q){i.dispatch({composerID:k,type:h.PHOTO_TAG_XY,value:m,photoID:l,source:n,subject:o,x:p,y:q});},tagFacebox:function(k,l,m,n,o){i.dispatch({composerID:k,type:h.PHOTO_TAG_FACEBOX,photoID:l,faceboxID:m,subjectID:n,value:o});},untagFacebox:function(k,l,m,n){i.dispatch({composerID:k,type:h.PHOTO_UNTAG_FACEBOX,photoID:l,faceboxID:m,subjectID:n});},removePhoto:function(k,l,m){i.dispatch({composerID:k,type:h.PHOTO_REMOVE,photoID:l,uploadID:m});},untagSubjectFromAllPhotos:function(k,l){i.dispatch({composerID:k,type:h.PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS,subjectID:l});},startPhotoEdit:function(k){i.dispatch({composerID:k,type:h.PHOTO_EDIT_STARTED});},finishPhotoEdit:function(k){i.dispatch({composerID:k,type:h.PHOTO_EDIT_FINISHED});},setPhotoBeingTagged:function(k,l){i.dispatch({composerID:k,photoID:l,type:h.PHOTO_SET_BEING_TAGGED});}};f.exports=j;},null);
__d('ReactComposerPhotoLegacyLimitExceededDialog',['fbt','DOM','LayerDestroyOnHide','React','ReactDOM','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogOkayButton.react','XUIDialogTitle.react'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r={show:function(s){var t=h._("Too Many Photos Added"),u=h._("You can only add {maxselect} photos to a post. To add more photos, try creating an album.",[h.param('maxselect',s)]),v=i.create('div');l.render(k.createElement(m,{shown:true,behaviors:{LayerDestroyOnHide:j},width:600},k.createElement(q,null,k.createElement('span',null,t)),k.createElement(n,null,u),k.createElement(o,null,k.createElement(p,{use:'confirm',action:'cancel'}))),v);}};f.exports=r;},null);
__d('ReactComposerPhotoUploadActions',['ReactComposerPhotoUploadActionType','ReactComposerDispatcher','ReactComposerPhotoActions','ReactComposerPhotoPrefillConfig','ReactComposerPhotoUploadState','ReactComposerPhotoUploadStore'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n={enqueue:function(o,p,q,r){var s=arguments.length<=4||arguments[4]===undefined?[]:arguments[4];i.dispatch({composerID:o,uploadID:p,type:h.PHOTO_UPLOAD_ENQUEUED,filename:q,index:r,xyTags:s});},startResizing:function(o,p,q){i.dispatch({composerID:o,loggingData:q,uploadID:p,type:h.PHOTO_UPLOAD_RESIZE_STARTED});},progressResizing:function(o,p,q){i.dispatch({composerID:o,uploadID:p,type:h.PHOTO_UPLOAD_RESIZE_PROGRESS,progress:q});},doneResizing:function(o,p,q){i.dispatch({composerID:o,loggingData:q,uploadID:p,type:h.PHOTO_UPLOAD_RESIZE_DONE});},failResizing:function(o,p,q){i.dispatch({composerID:o,loggingData:q,uploadID:p,type:h.PHOTO_UPLOAD_RESIZE_FAILED});},startUploading:function(o,p,q){i.dispatch({composerID:o,uploadID:p,type:h.PHOTO_UPLOAD_UPLOADING,fileUpload:q});},progressUploading:function(o,p,q){i.dispatch({composerID:o,uploadID:p,type:h.PHOTO_UPLOAD_PROGRESS,progress:q});},doneUploading:function(o,p,q,r,s,t,u,v){i.dispatch({composerID:o,uploadID:p,fileUpload:q,mediaLocation:v,timeToUpload:r,type:h.PHOTO_UPLOAD_DONE,photoID:s,thumbSrc:t,originalPhotoID:u});},failUploading:function(o,p,q,r,s){i.dispatch({composerID:o,uploadID:p,type:h.PHOTO_UPLOAD_FAILED,error:s,fileUpload:q,timeToUpload:r});},removeAllPhotoUploads:function(o){m.getUploads(o).forEach(function(p){return this.removePhotoAndPhotoUpload(o,p);}.bind(this));},removePhotoAndPhotoUpload:function(o,p){if(p.state===l.PHOTO_UPLOAD_DONE){j.removePhoto(o,p.photoID,p.id);}else this.removePhotoUpload(o,p.id);},removePhotoUpload:function(o,p){i.dispatch({composerID:o,type:h.PHOTO_UPLOAD_REMOVE,uploadID:p});},photoMoved:function(o,p,q){i.dispatch({composerID:o,type:h.PHOTO_UPLOAD_MOVED,from:p,to:q});},inputClicked:function(o){i.dispatch({composerID:o,type:h.PHOTO_UPLOAD_INPUT_CLICKED});},resizerUnavailable:function(o){i.dispatch({composerID:o,type:h.PHOTO_UPLOAD_RESIZER_UNAVAILABLE});},photosSelect:function(o,p,q){i.dispatch({composerID:o,method:q,numPhotos:p,type:h.PHOTOS_SELECT});},retryPhotoUpload:function(o){i.dispatch({composerID:o,type:h.PHOTO_UPLOAD_RETRY});},prefillPhotos:function(o,p){i.dispatch({composerID:o,photos:p,type:h.PREFILL_PHOTOS});}};f.exports=n;},null);
__d('ReactComposerVideoLegacyLimitExceededDialog',['ErrorDialog','fbt'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={show:function(){h.show(i._("Too many files"),i._("Please select only one video file at a time."));}};f.exports=j;},null);
__d('ReactComposerVideoUploadActions',['ReactComposerDispatcher','ReactComposerVideoUploadActionType','ReactComposerVideoUploadStore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();c('ReactComposerVideoUploadStore');var j={setUploader:function(k,l){h.dispatch({composerID:k,type:i.VIDEO_SET_UPLOADER,uploader:l});},add:function(k,l){h.dispatch({composerID:k,type:i.VIDEO_UPLOAD_ADD,file:l});},remove:function(k){h.dispatch({composerID:k,type:i.VIDEO_UPLOAD_REMOVE});}};f.exports=j;},null);
__d('ReactComposerMediaUtils',['ReactComposerPhotoActions','ReactComposerPhotoLegacyLimitExceededDialog','ReactComposerPhotoUploadActions','ReactComposerPhotoUploadStore','ReactComposerVideoLegacyLimitExceededDialog','ReactComposerVideoUploadStore','ReactComposerVideoUploadActions','ComposerXNativeAudioUploadsConfig','Bootloader','Map','PUWMethods','VideoUploadFeatureDetector','VideoUploadConfig','VideoUploadFile','uniqueID'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w={clearInput:function(x){var y=this.getFileNamesFromFileInput(x.getInput());if(!w.hasVideos(y))x.clear();},getFileNames:function(x){var y=[];for(var z=0;z<x.length;z++)y.push(x[z].name);return y;},getFileNamesFromFileInput:function(x){if(s.supportsFileAPI()){return this.getFileNames(x.files);}else return [x.value.split('/').pop().split('\\').pop()];},hasVideos:function(x){if(t.allowMultimedia)return false;return this.filterVideos(x).length>0;},hasAudioFiles:function(x){return this.filterAudioFiles(x).length>0;},filterVideos:function(x){return this.filterFileOfSupportedType(x,t.videoExtensions);},filterAudioFiles:function(x){return this.filterFileOfSupportedType(x,o.audioExtensions);},filterFileOfSupportedType:function(x,y){return x.filter(function(z){var aa=z.indexOf('.')!==-1?z.split('.').pop().toLowerCase():'';return y[aa];});},uploadVideo:function(x,y){if(k.getUploads(x).size>0)j.removeAllPhotoUploads(x);n.add(x,y);},uploadPhotos:function(x,y,z,aa,ba,ca){var da=z.isUploadLimitExceeded(aa,y);if(da){i.show(z.getMaxSelectableFilesCount(aa));return;}var ea=y?y.length:1;if(ea<1)return;if(m.getVideo(x))n.remove(x);j.photosSelect(x,ea,ba);ca&&ca();},uploadPhotosOrVideoFromTarget:function(x,y,z,aa){var ba=this.getFileNamesFromFileInput(y);if(this.hasVideos(ba)){if(y.files&&y.files.length>1){l.show();}else this.uploadVideo(x,u.fromFileInput(y));}else this.uploadPhotos(x,y.files,z,aa,r.FILE_SELECTOR,function(){z&&z.upload(y);});},uploadPhotosOrVideo:function(x,y,z,aa){var ba=arguments.length<=4||arguments[4]===undefined?r.FILE_SELECTOR:arguments[4],ca=this.getFileNames(y);if(this.hasVideos(ca)){if(y&&y.length>1){l.show();}else this.uploadVideo(x,u.fromFile(y[0]));}else this.uploadPhotos(x,y,z,aa,ba,function(){y.forEach(function(da){da.uploadID=v();da.filename='';});z.enqueueAsyncUploadRequest(x,y,{},{});});},onImageEdited:function(x,y,z,aa){if(z==='AttachmentsPhotoEditor/newImage'+x){var ba=k.getUploads(x),ca=ba.find(function(ga){return (ga.photoID===aa.fbid||ga.originalPhotoID===aa.fbid);}),da=k.getUploadIndex(x,ca.id);h.removePhoto(x,ca.photoID,ca.id);var ea=aa.blob;ea.uploadID=v();ea.filename=ca.filename;var fa=new q([[ea.uploadID,da]]);y&&y.enqueueAsyncUploadRequest(x,[ea],{data:{original_fbid:aa.fbid,xy_tags:aa.xyTags,stickers:aa.stickers,text_overlays:aa.textOverlays,has_crop:aa.hasCrop,has_filter:aa.hasFilter},indexMap:fa},{xyTags:aa.xyTags});j.photosSelect(x,1,r.METHOD_EDITOR);}else if(z==='AttachmentsPhotoEditor/tagsUpdated'+x)w.handleFaceboxAndXYTags(x,aa.fbid,aa.xyTags);h.finishPhotoEdit(x);},handleFaceboxAndXYTags:function(x,y,z){z.forEach(function(aa){if(aa.from_facebox){h.tagFacebox(x,y,aa.facebox,aa.subject,aa.name);}else h.tagXY(x,y,aa.name,aa.source,aa.subject,aa.x,aa.y);});},handleXYTagsOnly:function(x,y,z){z.forEach(function(aa){if(aa.from_facebox){return;}else h.tagXY(x,y,aa.name,aa.source,aa.subject,aa.x,aa.y);});},handleSpecialMediaUpload:function(event,x,y,z){if(!y.useVideoUploadDialog)return false;var aa=event.target;if(!aa.files||aa.files.length!==1)return false;var ba=w.getFileNamesFromFileInput(aa),ca=w.hasVideos(ba),da=w.hasAudioFiles(ba);if(da&&y.canUploadAudio){p.loadModules(["ComposerXAudioUploadDialogController"],function(ea){return (ea.showDialog({targetID:z.targetID,fileInput:x}));});return true;}else if(ca){p.loadModules(["ComposerXVideoUploadDialogController"],function(ea){return (ea.showDialog({targetID:z.targetID,fileInput:x,composerEntryPointRef:z.composerType,canShowOptimisticPost:y.shouldShowOptimisticVideoPost}));});return true;}return false;}};f.exports=w;},null);
__d('ReactComposerPhotoCarouselActions',['ReactComposerPhotoCarouselActionType','ReactComposerDispatcher','ReactComposerPhotoStore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();c('ReactComposerPhotoStore');var j={selectPhotoCarouselEntryPoint:function(k){i.dispatch({composerID:k,type:h.SELECT_PHOTO_CAROUSEL});},unselectPhotoCarouselEntryPoint:function(k){i.dispatch({composerID:k,type:h.UNSELECT_PHOTO_CAROUSEL});},setPreviewCompleted:function(k){i.dispatch({composerID:k,type:h.PREVIEW_COMPLETED});},setPreviewIncompleted:function(k){i.dispatch({composerID:k,type:h.PREVIEW_INCOMPLETED});},showPhotoCarouselUrlEditArea:function(k){i.dispatch({composerID:k,type:h.SHOW_CAROUSEL_URL_INPUT_AREA});},hidePhotoCarouselUrlEditArea:function(k){i.dispatch({composerID:k,type:h.HIDE_CAROUSEL_URL_INPUT_AREA});},seenNux:function(k){i.dispatch({composerID:k,type:h.SEEN_NUX});}};f.exports=j;},null);
__d('ReactComposerSlideshowActions',['ReactComposerDispatcher','ReactComposerSlideshowActionType'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={showSlideshowEditField:function(k){h.dispatch({composerID:k,type:i.SHOW_SLIDESHOW_EDIT_FIELD});},hideSlideshowEditField:function(k){h.dispatch({composerID:k,type:i.HIDE_SLIDESHOW_EDIT_FIELD});}};f.exports=j;},null);
__d("XCarouselPageComposerPhotoUploadFirstController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composer\/photouploadfirst\/",{composer_id:{type:"String"},target_id:{type:"Int"}});},null);
__d('ReactComposerMediaAttachmentButtonsWithOptions.react',['ActorURI','ReactComposerAttachmentStore','ReactComposerCanvasActions','ReactComposerContextMixin','ReactComposerMediaUtils','ReactComposerPhotoUploadActions','ReactComposerPhotoCarouselActions','ReactComposerSlideshowActions','ComposerTargetData','PagesComposerPostActionsLoggerEvent','PagesComposerActionsLogger','XCarouselPageComposerPhotoUploadFirstController','AsyncRequest','DOMContainer.react','FileInput.react','Grid.react','Image.react','Link.react','ReactComponentWithPureRenderMixin','React','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){'use strict';if(c.__markCompiled)c.__markCompiled();var ea=w.GridItem,fa=aa.PropTypes,ga=aa.createClass({displayName:'ReactComposerMediaAttachmentButtonsWithOptions',mixins:[z,k],propTypes:{carouselConfig:fa.object,createAlbumLink:fa.any,mediaAcceptParam:fa.shape({photos:fa.string,both:fa.string}).isRequired,onFilesSelected:fa.func.isRequired,showCanvasEntryPoint:fa.bool,showCarouselEntryPoint:fa.bool,showPhotoAlbumEntryPoint:fa.bool,showSlideshowEntryPoint:fa.bool,showUploadPhotosButton:fa.bool,slideshowConfig:fa.object,targetData:fa.instanceOf(p).isRequired},getDefaultProps:function(){return {mediaAcceptParam:{}};},componentDidMount:function(){if(i.getSelectedAttachmentID(this.context.composerID))r.log({event:q.SHOW_PHOTO_CAROUSEL_CREATE_TAB,target_id:parseInt(this.context.targetID,10)});},render:function(){var ia=[];ia.push(this._getUploadPhotosButton());var ja=null,ka=null;if(this.props.showPhotoAlbumEntryPoint&&this.props.createAlbumLink){var la=aa.createElement(u,{className:"_3m1x",display:'block'},this.props.createAlbumLink);ja=aa.createElement(ea,{className:"_3m1y",key:'createAlbum'},aa.createElement(y,{className:"_3m1z _5xvh",onClick:this._onClickPhotoAlbumOption},la));}if(this.props.showCarouselEntryPoint)ka=this._getCarouselPostButton();if(this.props.carouselConfig&&this.props.carouselConfig.carouselPhotoEntryPointFlipOrder){ia.push(ka);ia.push(ja);}else{ia.push(ja);ia.push(ka);}if(this.props.showSlideshowEntryPoint)ia.push(this._getSlideshowPostButton());if(this.props.showCanvasEntryPoint)ia.push(this._getCanvasPostButton());return (aa.createElement('div',{className:"_3m1_"},aa.createElement(w,{className:"_3m20",cols:1},ia.filter(function(ma){return ma!=null;}))));},_getUploadPhotosButton:function(){if(!this.props.showUploadPhotosButton)return null;var ia=this.props.targetData.targetSupportsMultiplePhotos,ja=this.props.mediaAcceptParam.both,ka=ia?ca._("Upload Photos\/Video"):ca._("Upload Photo\/Video"),la=ca._("Add photos or video to your status.");return (aa.createElement(ea,{className:"_3m1y",key:'uploadPhoto'},aa.createElement(v,{accept:ja,multiple:ia,name:'composer_photo',onChange:this._onFilesSelected,onClick:this._onUploadPhotosClick,ref:'fileInput','data-testid':'media-attachment-add-photo'},aa.createElement(y,{className:"_3m1z"},this._renderPhotoPostOption(ha.PHOTOVIDEO,ka,la)))));},_onUploadPhotosClick:function(){m.inputClicked(this.context.composerID);r.log({event:q.CLICK_UPLOAD_PHOTO_OPTION,target_id:parseInt(this.context.targetID,10)});},_onClickPhotoAlbumOption:function(){r.log({event:q.CLICK_PHOTO_ALBUM_OPTION,target_id:parseInt(this.context.targetID,10)});},_onFilesSelected:function(event){this.props.onFilesSelected(event,this.refs.fileInput.getFileInput());l.clearInput(this.refs.fileInput.getFileInput());},_getCarouselPostButton:function(){if(!this.props.showUploadPhotosButton)return null;var ia=ca._("Create a Photo Carousel"),ja=ca._("Build a scrolling photo carousel with a link.");return (aa.createElement(ea,{className:"_3m1y",key:'carousel'},aa.createElement(y,{onClick:this._onCarouselClick,className:"_3m1z _5xvh"},this._renderPhotoPostOption(ha.CAROUSEL,ia,ja))));},_onCarouselClick:function(){n.selectPhotoCarouselEntryPoint(this.context.composerID);if(!this.props.carouselConfig||!this.props.carouselConfig.ComposerPhotoCarouselUploadFirst){n.showPhotoCarouselUrlEditArea(this.context.composerID);}else{var ia=s.getURIBuilder().setString('composer_id',this.context.composerID).setInt('target_id',parseInt(this.context.targetID,10)).getURI();ia=h.create(ia,this.context.targetID);var ja=new t().setURI(ia);ja.send();n.setPreviewIncompleted(this.context.composerID);}var ka={event:q.CLICK_PHOTO_CAROUSEL_CREATE_TAB,target_id:parseInt(this.context.targetID,10)};r.log(ka);},_getSlideshowPostButton:function(){var ia=this.props.slideshowConfig;if(!ia)return null;var ja=ca._("Create Slideshow"),ka=ca._({"*":{"*":"Add {Minimum number of images} to {Maximum number of images} photos to create a video."}},[ca.param('Minimum number of images',ia?ia.minPhotoNum:3,[0]),ca.param('Maximum number of images',ia?ia.maxPhotoNum:7,[0])]);return (aa.createElement(ea,{className:"_3m1y",key:'slideshow'},aa.createElement(v,{accept:this.props.mediaAcceptParam.photos,multiple:true,name:'composer_slideshow',onChange:this._onSlideshowSelected,ref:'imageFileInput','data-testid':'media-attachment-add-slideshow-photo'},aa.createElement(y,{className:"_3m1z _5xvh"},this._renderPhotoPostOption(ha.SLIDESHOW,ja,ka)))));},_onSlideshowSelected:function(event){this.props.onFilesSelected(event,this.refs.imageFileInput.getFileInput());l.clearInput(this.refs.imageFileInput.getFileInput());o.showSlideshowEditField(this.context.composerID);r.log({event:q.CLICK_SLIDESHOW_CREATE_TAB,target_id:parseInt(this.context.targetID,10)});},_getCanvasPostButton:function(){var ia=ca._("Create a Canvas"),ja=ca._("Now you can tell a more immersive story by combining images and videos.");return (aa.createElement(ea,{className:"_3m1y",key:'canvas'},aa.createElement(y,{onClick:this._onCanvasClick,className:"_3m1z _5xvh"},this._renderPhotoPostOption(ha.CANVAS,ia,ja))));},_onCanvasClick:function(){j.showCanvasSelector(this.context.composerID);var ia={event:q.CLICK_CANVAS_CREATE_TAB,target_id:parseInt(this.context.targetID,10)};r.log(ia);},_renderPhotoPostOption:function(ia,ja,ka){var la=null;if(ia===ha.CAROUSEL&&this.props.carouselConfig&&this.props.carouselConfig.showCarouselOptionSuperscript){var ma=ca._("NEW");la=aa.createElement('sup',{className:"_9td"},ma);}return (aa.createElement(w,{className:"_3m1-",cols:2},aa.createElement(ea,{className:"_5xvi"},aa.createElement(x,{className:"_5xvj",src:this._getIconSource(ia)})),aa.createElement(ea,{className:"_5xvk"},aa.createElement('div',{className:"_5xvl"},ja,la),aa.createElement('div',{className:"_5xvm"},ka))));},_getIconSource:function(ia){switch(ia){case ha.PHOTOVIDEO:return da('/images/composer/carousel/photo_video_upload.png');case ha.PHOTOALBUM:return da('/images/composer/carousel/photo_album_icon.png');case ha.CAROUSEL:return da('/images/composer/carousel/carousel_photo_tab_icon.png');case ha.SLIDESHOW:return da('/images/composer/carousel/slideshow_video_icon.png');case ha.CANVAS:return da('/images/composer/carousel/pages_canvas_icon.png');default:return null;}}}),ha={PHOTOVIDEO:'photo_video',PHOTOALBUM:'photo_album',CAROUSEL:'carousel',SLIDESHOW:'slideshow',CANVAS:'canvas'};f.exports=ga;},null);
__d('ReactComposerMediaStore',['ReactComposerMediaActionType','ReactComposerStoreBase'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,i);k=j&&j.prototype;function l(){'use strict';var m;k.constructor.call(this,function(){return {createAlbumLink:null,taggingDataSource:null,videoUploader:null,videoProgressBar:null,videoProgressBarInstance:null};},function(n){switch(n.type){case h.SET_MEDIA_CONFIG:m&&m.$ReactComposerMediaStore1(n);break;}});m=this;}l.prototype.getCreateAlbumLink=function(m){'use strict';return this.getComposerData(m).createAlbumLink;};l.prototype.getTaggingDataSource=function(m){'use strict';return this.getComposerData(m).taggingDataSource;};l.prototype.getVideoUploader=function(m){'use strict';return this.getComposerData(m).videoUploader;};l.prototype.getVideoProgressBarInstance=function(m){'use strict';return this.getComposerData(m).videoProgressBarInstance;};l.prototype.getVideoProgressBar=function(m){'use strict';return this.getComposerData(m).videoProgressBar;};l.prototype.$ReactComposerMediaStore1=function(m){'use strict';var n=this.getComposerData(m.composerID);n.createAlbumLink=m.config.createAlbumLink;n.taggingDataSource=m.config.taggingDataSource;n.videoUploader=m.config.videoUploader;n.videoProgressBar=m.config.videoProgressBar;n.videoProgressBarInstance=m.config.videoProgressBarInstance;this.emitChange(m.composerID);};f.exports=new l();},null);
__d('ReactComposerPhotoCarouselStore',['ReactComposerAttachmentActionType','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerPhotoCarouselActionType','ReactComposerScrapedAttachmentActionType','ReactComposerStoreBase'],function a(b,c,d,e,f,g,h,i,j,k,l,m){var n,o;if(c.__markCompiled)c.__markCompiled();n=babelHelpers.inherits(p,m);o=n&&n.prototype;function p(){'use strict';var q;o.constructor.call(this,function(){return {isPhotoCarouselSelected:false,isCarouselPreviewCompleted:true,shouldShowURLEditArea:false,seenNux:false};},function(r){switch(r.type){case k.SELECT_PHOTO_CAROUSEL:q&&q.$ReactComposerPhotoCarouselStore1(r);break;case k.UNSELECT_PHOHO_CAROUSEL:q&&q.$ReactComposerPhotoCarouselStore2(r);break;case k.PREVIEW_COMPLETED:q&&q.$ReactComposerPhotoCarouselStore3(r);break;case k.PREVIEW_INCOMPLETED:q&&q.$ReactComposerPhotoCarouselStore4(r);break;case k.SHOW_CAROUSEL_URL_INPUT_AREA:q&&q.$ReactComposerPhotoCarouselStore5(r);break;case k.HIDE_CAROUSEL_URL_INPUT_AREA:q&&q.$ReactComposerPhotoCarouselStore6(r);break;case h.SELECT_ATTACHMENT:q&&q.$ReactComposerPhotoCarouselStore7(r);break;case l.ATTACHMENT_SCRAPED:q&&q.$ReactComposerPhotoCarouselStore6(r);break;case k.SEEN_NUX:q&&q.$ReactComposerPhotoCarouselStore8(r);break;default:}});q=this;}p.prototype.$ReactComposerPhotoCarouselStore1=function(q){'use strict';var r=q.composerID,s=this.getComposerData(r);s.isPhotoCarouselSelected=true;this.emitChange(r);};p.prototype.$ReactComposerPhotoCarouselStore2=function(q){'use strict';var r=q.composerID,s=this.getComposerData(r);s.isPhotoCarouselSelected=false;this.emitChange(r);};p.prototype.$ReactComposerPhotoCarouselStore3=function(q){'use strict';var r=q.composerID,s=this.getComposerData(r);s.isCarouselPreviewCompleted=true;this.emitChange(r);};p.prototype.$ReactComposerPhotoCarouselStore4=function(q){'use strict';var r=q.composerID,s=this.getComposerData(r);s.isCarouselPreviewCompleted=false;this.emitChange(r);};p.prototype.$ReactComposerPhotoCarouselStore5=function(q){'use strict';var r=q.composerID,s=this.getComposerData(r);s.shouldShowURLEditArea=true;this.emitChange(r);};p.prototype.$ReactComposerPhotoCarouselStore6=function(q){'use strict';var r=q.composerID,s=this.getComposerData(r);s.shouldShowURLEditArea=false;this.emitChange(r);};p.prototype.$ReactComposerPhotoCarouselStore7=function(q){'use strict';var r=q.composerID,s=this.getComposerData(r),t=i.getSelectedAttachmentID(r);if(s.shouldShowURLEditArea&&t!==j.MEDIA)s.shouldShowURLEditArea=false;if(s.isPhotoCarouselSelected&&t!==j.MEDIA){s.isPhotoCarouselSelected=false;s.isCarouselPreviewCompleted=false;}this.emitChange(r);};p.prototype.$ReactComposerPhotoCarouselStore8=function(q){'use strict';var r=q.composerID,s=this.getComposerData(r);s.seenNux=true;this.emitChange(r);};p.prototype.shouldShowURLEditArea=function(q){'use strict';return this.getComposerData(q).shouldShowURLEditArea;};p.prototype.seenNux=function(q){'use strict';return this.getComposerData(q).seenNux;};p.prototype.isPhotoCarouselSelected=function(q){'use strict';return this.getComposerData(q).isPhotoCarouselSelected;};p.prototype.isCarouselPreviewCompleted=function(q){'use strict';return this.getComposerData(q).isCarouselPreviewCompleted;};f.exports=new p();},null);
__d("XCarouselPageComposerSeenNuxController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/composer\/carouselseennux\/",{type:{type:"String"}});},null);
__d('ReactComposerPhotoCarouselUrlInput.react',['AsyncRequest','ReactComposerContextMixin','ReactComposerPhotoCarouselActions','ReactComposerPhotoCarouselStore','CSS','Keys','Locale','PagesComposerPostActionsLoggerEvent','PagesComposerActionsLogger','PagesComposerCarouselPostNuxType','ReactComponentWithPureRenderMixin','React','Image.react','ReactLayeredComponentMixin','ReactDOM','URLMatcher','URLScraper','XCarouselPageComposerSeenNuxController','XUIAmbientNUX.react','XUICloseButton.react','XUITextInput.react','cx','fbglyph','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa){'use strict';if(c.__markCompiled)c.__markCompiled();var ga=s.PropTypes,ha=s.createClass({displayName:'ReactComposerPhotoCarouselUrlInput',mixins:[r,i,u],propTypes:{onChange:ga.func.isRequired,onClickRemoveButton:ga.func.isRequired,prefillURL:ga.string,showUrlInputAreaNux:ga.bool},getInitialState:function(){return {disableArrow:true,showUrlInputAreaNux:this.props.showUrlInputAreaNux&&!k.seenNux(this.context.composerID)};},componentDidMount:function(){var ia=v.findDOMNode(this.refs.inputArea);ia.focus();l.addClass(ia,"_47_s");var ja=this.props.prefillURL?this.props.prefillURL:'',ka=!this._checkValidUrl(ja);this.setState({disableArrow:ka});p.log({event:o.PREFILL_SCRAPE_URL,target_id:parseInt(this.context.targetID,10),prefill_scrape_url:this.props.prefillURL});},renderLayers:function(){var ia=ea._("Photos are taken from a website you choose. Enter a website to build your photo carousel.");return {notice:s.createElement(z,{contextRef:function(){return this.refs.inputArea;}.bind(this),shown:this.state.showUrlInputAreaNux,onCloseButtonClick:this._onCloseButtonClick,position:'below'},ia)};},_onCloseButtonClick:function(){var ia=y.getURIBuilder().setString('type',q.MEDIA_ATTACHEMENT_URL_INPUT_AREA_NUX).getURI(),ja=new h().setURI(ia);ja.send();this.setState({showUrlInputAreaNux:false});j.seenNux(this.context.composerID);},render:function(){var ia=ea._("Photo Carousel"),ja=ea._("Remove"),ka=ea._("Destination URL"),la=null,ma=null,na=null,oa=n.isRTL();if(oa){ma=fa("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/arrow-left_20_bluegray-10.png");na=fa('/images/composer/carousel/arrow_left_blue.png');}else{ma=fa("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/arrow-right_20_bluegray-10.png");na=fa('/images/composer/carousel/arrow_right_blue.png');}if(this.state.disableArrow){la=s.createElement(t,{className:"_3ev6",size:'small',src:ma,onClick:this._handleScrapeLink});}else la=s.createElement(t,{className:"_3ev7",size:'small',src:na,onClick:this._handleScrapeLink});var pa=ea._("Enter a URL");return (s.createElement('div',{className:"_d67"},s.createElement('div',{className:"_d68"},s.createElement('div',{className:"_d69"},ia),s.createElement(aa,{className:"_d6a",label:ja,onClick:this.props.onClickRemoveButton,size:'medium'})),s.createElement('div',{className:"_d6b"},s.createElement('div',{className:"_px7"},s.createElement('span',{className:"_2do6"},ka),s.createElement('div',{className:"_px8"},s.createElement(ba,{className:"_d6c",defaultValue:this.props.prefillURL,onBlur:this._onBlur,onChange:this._onChange,onKeyUp:this._handleKeyUp,placeholder:pa,ref:'inputArea'}))),la)));},_handleScrapeLink:function(event){var ia=v.findDOMNode(this.refs.inputArea),ja=ia.childNodes[0].value+'\n';this.setState({inputValue:ja});this.props.onChange&&this.props.onChange(ja);},_onBlur:function(event){l.removeClass(v.findDOMNode(this.refs.inputArea),"_47_s");},_onChange:function(event){this.setState({inputValue:event.target.value});this.props.onChange&&this.props.onChange(event.target.value);var ia=!this._checkValidUrl(event.target.value);this.setState({disableArrow:ia});l.removeClass(v.findDOMNode(this.refs.inputArea),"_47_s");},_handleKeyUp:function(event){if(event.keyCode===m.RETURN){var ia=event.target.value+'\n';this.setState({inputValue:ia});this.props.onChange&&this.props.onChange(ia);}},_checkValidUrl:function(ia){return x.match(ia)||w.permissiveMatch(ia);}});f.exports=ha;},null);
__d('ReactComposerScrapedAttachmentActions',['ReactComposerScrapedAttachmentActionType','ReactComposerDispatcher','ReactComposerScrapedAttachmentStore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();c('ReactComposerScrapedAttachmentStore');j.prototype.enabled=function(k,l){'use strict';var m={composerID:k,type:h.ATTACHMENT_SCRAPE_ENABLED,enabled:l};i.dispatch(m);};j.prototype.setScrapedAttachment=function(k,l,m){'use strict';var n={composerID:k,type:h.ATTACHMENT_SCRAPED,markup:l,attachmentConfig:m};i.dispatch(n);};j.prototype.setPermissiveMatch=function(k,l){'use strict';var m={composerID:k,type:h.ATTACHMENT_PERMISSIVE_MATCH_SETTED,permissiveMatch:l};i.dispatch(m);};j.prototype.scrapeAttachment=function(k,l,m,n,o){'use strict';var p={composerID:k,type:h.ATTACHMENT_SCRAPE_INTENDED,targetID:l,value:m,entryPoint:n,actorID:o};i.dispatch(p);};j.prototype.uploadImagesForCarousel=function(k){'use strict';var l={composerID:k.composerID,type:h.ATTACHMENT_CAROUSEL_UPLOAD,targetID:k.targetID,scrapeUrl:k.scrapeUrl,carouselParams:k.carouselParams,entryPoint:k.entryPoint,actorID:k.actorID};i.dispatch(l);};function j(){'use strict';}f.exports=new j();},null);
__d('ReactComposerStatusUtils',['Bootloader','ReactComposerAttachmentActions','ReactComposerAttachmentType','ReactComposerScrapedAttachmentActions','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','EditorState','PUWMethods','URLMatcher','URLScraper','uniqueID'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v={scrapeLink:function(w,x,y,z,aa){if(!l.isEnabled(w))return;if(l.getMarkup(w))return;var ba=s.permissiveMatch(y);if(ba!==l.getPermissiveMatch(w)){k.setPermissiveMatch(w,ba);var ca=t.match(y)||ba;if(ca)k.scrapeAttachment(w,x,ca,z,aa);}},uploadPastedFile:function(w,x,y){x.uploadID=u();x.filename='';y&&y.enqueueAsyncUploadRequest(w,[x],{},{});},uploadDroppedFiles:function(w,x,y){i.selectAttachment(w,j.MEDIA,true);h.loadModules(["ReactComposerMediaUtils"],function(z){z.uploadPhotosOrVideo(w,x,y,true,r.DRAGDROP);});},handleMarkdownPreview:function(w,x,y,z){if(!y||!y.markdownPreviewAttachment)return;var aa=y.markdownPreviewAttachment.action;if(!z)z=m.getEditorState(w);if(!z)return;var ba=z.getCurrentContent().getPlainText(),ca=!!o.getTaggerData(w,p.MARKDOWN).isMarkdown;if(ba.length>0&&(ba.indexOf('#markdown')>-1||ca)){aa.showAndUpdatePreview(w,x,z.getCurrentContent());if(!ca)n.setTaggerData(w,p.MARKDOWN,{isMarkdown:true});}else aa.hidePreview(w);}};f.exports=v;},null);
__d('ReactComposerPhotoCarouselUrlInputContainer.react',['ReactComposerContextMixin','ReactComposerPhotoCarouselActions','ReactComposerPhotoCarouselUrlInput.react','ReactComposerStatusUtils','PagesComposerPostActionsLoggerEvent','PagesComposerActionsLogger','ReactComponentWithPureRenderMixin','React','URLScraper'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=o.PropTypes,r=o.createClass({displayName:'ReactComposerPhotoCarouselUrlInputContainer',mixins:[n,h],propTypes:{prefillURL:q.string,showUrlInputAreaNux:q.bool},render:function(){return (o.createElement(j,{onChange:this._onMentionsInputChange,onClickRemoveButton:this._onClickRemoveButton,prefillURL:this.props.prefillURL,showUrlInputAreaNux:this.props.showUrlInputAreaNux}));},_onClickRemoveButton:function(){i.hidePhotoCarouselUrlEditArea(this.context.composerID);m.log({event:l.REMOVE_PHOTO_CAROUSEL_URL_INPUT,target_id:parseInt(this.context.targetID,10)});},_onMentionsInputChange:function(s){if(!p.trigger(s))k.scrapeLink(this.context.composerID,this.context.targetID,s,this.context.composerType,this.context.actorID);}});f.exports=r;},null);
__d('ReactComposerPhotoCarouselUtils',['ReactComposerPhotoCarouselStore','React','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={getPhotoCarouselMediaContent:function(l,m){var n=null;if(!l)return n;if(l.ComposerPhotoCarouselPlaceHolder){var o=l.ComposerPhotoCarouselPlaceHolder;n=i.createElement(o,null);}else{var p=l.ComposerPhotoCarouselUrlInputContainer;n=i.createElement(p,{showUrlInputAreaNux:m.showUrlInputAreaNux,prefillURL:l.preFillURL});}return n;},getInputPlaceHolder:function(l,m){var n=j._("Write something...");if(m||!l||!l.ComposerPhotoCarouselPlaceHolder)return n;return j._("Enter a URL");},isPagePostButtonDisabled:function(l){if(!h.isPhotoCarouselSelected(l))return false;if(h.shouldShowURLEditArea(l))return true;if(!h.isCarouselPreviewCompleted(l))return true;return false;}};f.exports=k;},null);
__d('ReactComposerFailedPhotoUpload.react',['ReactComponentWithPureRenderMixin','React','Tooltip','XUIButton.react','XUICloseButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=i.PropTypes,p=i.createClass({displayName:'ReactComposerFailedPhotoUpload',mixins:[h],propTypes:{error:o.object.isRequired,filename:o.string,onDismissClick:o.func,onRemoveClick:o.func,onRetryClick:o.func,uploadID:o.string.isRequired},render:function(){var q=this.props.error.summary+': '+this.props.error.description,r=this.props.error.transient?i.createElement(k,{className:"_2n21",label:n._("Retry"),onClick:this.props.onRetryClick,size:'small',use:'special'}):i.createElement(k,{className:"_2n22",label:n._("Okay"),onClick:this.props.onDismissClick,size:'small'});return (i.createElement('div',babelHelpers['extends']({},j.propsFor(q),{className:"_2n23"}),i.createElement(l,{className:"_2n25",onClick:this.props.onRemoveClick,size:'medium',shade:'light'}),i.createElement('p',{className:"_2n26"},n._("Error")),i.createElement('div',{className:"_2n27"},i.createElement('p',{className:"_2n28"},this.props.filename)),r));}});f.exports=p;},null);
__d('ReactComposerPhotoUploader',['ReactComposerLoggingStore','ReactComposerMediaConfig','ReactComposerMediaUtils','ReactComposerPhotoActions','ReactComposerPhotoUploadActions','ReactComposerPhotoUploadStore','ActorURI','AsyncUploadRequest','FaceRecognitionController','JpegResizer','Map','XComposerPhotoUploader','performanceNow'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();function u(v,w,x){this.$ReactComposerPhotoUploader1=v.composerID;this.$ReactComposerPhotoUploader5=x;var y=i.photo,z=null;if(q.isSupported()){z=q.getSingleton(w>1?q.DEFAULT_POOL_SIZE:1);z.setHighQuality(y.highQuality);}else l.resizerUnavailable(this.$ReactComposerPhotoUploader1);var aa=n.create(y.uploadEndpoint,v.actorID);this.$ReactComposerPhotoUploader2=new s({uploadEndpoint:aa,uploadData:Object.assign({qn:h.getSessionID(this.$ReactComposerPhotoUploader1),target_id:v.targetID},y.uploadData),retryLimit:y.retryLimit,concurrentLimit:y.concurrentLimit,resizer:z,onUploadEnqueued:this.$ReactComposerPhotoUploader6.bind(this),onResizeStart:this.$ReactComposerPhotoUploader7.bind(this),onResizeSuccess:this.$ReactComposerPhotoUploader8.bind(this),onResizeFailure:this.$ReactComposerPhotoUploader9.bind(this),onResizeProgress:this.$ReactComposerPhotoUploader10.bind(this),onUploadStart:this.$ReactComposerPhotoUploader11.bind(this),onUploadProgress:this.$ReactComposerPhotoUploader12.bind(this),onUploadSuccess:this.$ReactComposerPhotoUploader13.bind(this),onUploadFailure:this.$ReactComposerPhotoUploader14.bind(this)});this.$ReactComposerPhotoUploader3=new p({include_unrecognized_faceboxes:true,include_low_confidence_recognitions:true,include_face_crop_src:true});this.$ReactComposerPhotoUploader3.subscribe('photo',this.$ReactComposerPhotoUploader15.bind(this)),this.$ReactComposerPhotoUploader3.subscribe('done',this.$ReactComposerPhotoUploader16.bind(this));this.$ReactComposerPhotoUploader4=new r();}u.prototype.upload=function(v){this.$ReactComposerPhotoUploader2.upload(v);};u.prototype.retry=function(v){var w=this.$ReactComposerPhotoUploader2.getAsyncUploadRequest([v]);w.send();};u.prototype.getAsyncUploadRequest=function(v,w){return this.$ReactComposerPhotoUploader2.getAsyncUploadRequest(v,w);};u.prototype.enqueueAsyncUploadRequest=function(v,w,x,y){w.forEach(function(z){var aa=x.indexMap?x.indexMap.get(z.uploadID):m.getUploads(v).size;l.enqueue(v,z.uploadID,z.filename,aa,y.xyTags);});this.getAsyncUploadRequest(w,x).send();};u.prototype.isUploadLimitExceeded=function(v,w){var x=this.getMaxSelectableFilesCount(v),y=!w||!o.isSupported()?1:w.length;return y>x;};u.prototype.getMaxSelectableFilesCount=function(v){return !!v?i.photo.limit:1;};u.prototype.$ReactComposerPhotoUploader6=function(v){l.enqueue(this.$ReactComposerPhotoUploader1,v.uploadID,v.fileName,m.getUploads(this.$ReactComposerPhotoUploader1).size);};u.prototype.$ReactComposerPhotoUploader7=function(v){l.startResizing(this.$ReactComposerPhotoUploader1,v.uploadID,{bytes:v.size});};u.prototype.$ReactComposerPhotoUploader10=function(v,event){setTimeout(function(){return l.progressResizing(this.$ReactComposerPhotoUploader1,v,100*event.written/event.total);}.bind(this),0);};u.prototype.$ReactComposerPhotoUploader8=function(v,w,x,y){l.doneResizing(this.$ReactComposerPhotoUploader1,v.uploadID,{dt:y,media_data_size:v.size,bytes:w.size,custom_tags:{skipped_resizing:x}});};u.prototype.$ReactComposerPhotoUploader9=function(v,w,x,y){l.failResizing(this.$ReactComposerPhotoUploader1,v.uploadID,{dt:y,bytes:v.size,error_code:x.code,error_info:x.message});};u.prototype.$ReactComposerPhotoUploader11=function(v,w){l.startUploading(this.$ReactComposerPhotoUploader1,v,w.upload);this.$ReactComposerPhotoUploader4.set(v,t());};u.prototype.$ReactComposerPhotoUploader12=function(v,w){setTimeout(function(){return l.progressUploading(this.$ReactComposerPhotoUploader1,v,100*w.event.loaded/w.event.total);}.bind(this),0);};u.prototype.$ReactComposerPhotoUploader13=function(v,w){if(m.getHasUploadBeenRemoved(this.$ReactComposerPhotoUploader1,v))return;var x=w.response.payload;if(!x)return;l.doneUploading(this.$ReactComposerPhotoUploader1,v,w.upload,t()-this.$ReactComposerPhotoUploader4.get(v),x.photoID,x.thumbSrc,x.originalPhotoID,x.mediaLocation);if(!this.$ReactComposerPhotoUploader5.disableFaceRecognition){k.startRecognizing(this.$ReactComposerPhotoUploader1,x.photoID);this.$ReactComposerPhotoUploader3.start([x.photoID]);}var y=m.getPhotoUpload(this.$ReactComposerPhotoUploader1,v);if(y.xyTags)j.handleXYTagsOnly(this.$ReactComposerPhotoUploader1,y.photoID,y.xyTags);};u.prototype.$ReactComposerPhotoUploader14=function(v,w,x){if(m.getHasUploadBeenRemoved(this.$ReactComposerPhotoUploader1,v))return;var y=w.response,z={code:y.getError(),description:y.getErrorDescription(),summary:y.getErrorSummary(),transient:y.isTransient()||y.getError()==1004||y.getError()==1006};l.failUploading(this.$ReactComposerPhotoUploader1,v,w.upload,t()-this.$ReactComposerPhotoUploader4.get(v),z);};u.prototype.$ReactComposerPhotoUploader15=function(v,w){w.faceboxes.forEach(function(x){var y;if(x.recognitions.length>0){var z=x.recognitions[0].user;y={subjectID:z.fbid,value:z.name};}k.addFacebox(this.$ReactComposerPhotoUploader1,w.photo,{id:x.fbid,x:x.x,y:x.y,top:x.top,left:x.left,width:x.width,height:x.height,croppedURI:x.src,bestRecognition:y,allRecognitions:x.allRecognitions});}.bind(this));k.finishRecognizingPhoto(this.$ReactComposerPhotoUploader1,w.photo);};u.prototype.$ReactComposerPhotoUploader16=function(v,w){k.finishRecognizing(this.$ReactComposerPhotoUploader1,w.unresolved);};f.exports=u;},null);
__d('ReactComposerFailedPhotoUploadContainer.react',['ReactComposerContextMixin','ReactComposerFailedPhotoUpload.react','ReactComposerPhotoUploadActions','ReactComposerPhotoUploader','ReactComposerPhotoUploadStore','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=n.PropTypes,p=n.createClass({displayName:'ReactComposerPhotoUploadPlaceholderContainer',_uploader:undefined,mixins:[m,h],propTypes:{mediaConfig:o.object.isRequired},render:function(){return (n.createElement(i,babelHelpers['extends']({},this.props,{onDismissClick:this._onDismissClick,onRemoveClick:this._onDismissClick,onRetryClick:this._onRetryClick})));},_onDismissClick:function(){j.removePhotoUpload(this.context.composerID,this.props.uploadID);},_onRetryClick:function(){var q=l.getPhotoUpload(this.context.composerID,this.props.uploadID).fileUpload.getFile();q.manuallyRetried=true;j.retryPhotoUpload(this.context.composerID);if(!this._uploader)this._uploader=new k(this.context,this.props.mediaConfig.photoLimit,{disableFaceRecognition:this.props.mediaConfig.disableFaceboxTagger});this._uploader&&this._uploader.retry(q);}});f.exports=p;},null);
__d('ReactComposerNUXActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({NUX_WAS_SHOWN:null,NUX_WAS_SEEN:null});},null);
__d('ReactComposerNUXStore',['ReactComposerStoreBase','ReactComposerNUXActionType','AsyncRequest','Map'],function a(b,c,d,e,f,g,h,i,j,k){var l,m;if(c.__markCompiled)c.__markCompiled();l=babelHelpers.inherits(n,h);m=l&&l.prototype;function n(){'use strict';var o;m.constructor.call(this,function(){return {nuxes:new k()};},function(p){switch(p.type){case i.NUX_WAS_SHOWN:o&&o.$ReactComposerNUXStore1(p);break;case i.NUX_WAS_SEEN:o&&o.$ReactComposerNUXStore2(p);break;}});o=this;}n.prototype.hasNUXBeenSeen=function(o,p){'use strict';return this.$ReactComposerNUXStore3(o,p).seen;};n.prototype.getNUXShownPhotoID=function(o,p){'use strict';return this.$ReactComposerNUXStore3(o,p).photoID;};n.prototype.$ReactComposerNUXStore1=function(o){'use strict';var p=this.validateAction(o,['composerID','nuxType','photoID']),q=p[0],r=p[1],s=p[2],t=this.$ReactComposerNUXStore3(q,r);t.photoID=s;this.emitChange(q);};n.prototype.$ReactComposerNUXStore2=function(o){'use strict';var p=this.validateAction(o,['composerID','nuxType']),q=p[0],r=p[1],s=this.$ReactComposerNUXStore3(q,r);s.seen=true;new j('/ajax/photos/composer/mark_nux_seen.php').setData({type:r}).send();this.emitChange(q);};n.prototype.$ReactComposerNUXStore3=function(o,p){'use strict';var q=this.getComposerData(o),r=q.nuxes.get(p);if(!r){r={seen:false,photoID:null};q.nuxes.set(p,r);}return r;};f.exports=new n();},null);
__d('ReactComposerNUXActions',['ReactComposerNUXActionType','ReactComposerDispatcher','ReactComposerNUXStore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();c('ReactComposerNUXStore');var j={nuxWasShown:function(k,l,m){i.dispatch({composerID:k,type:h.NUX_WAS_SHOWN,nuxType:l,photoID:m});},nuxWasSeen:function(k,l){i.dispatch({composerID:k,type:h.NUX_WAS_SEEN,nuxType:l});}};f.exports=j;},null);
__d('ReactComposerPhotoActionButton.react',['ReactComponentWithPureRenderMixin','React','Tooltip','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes,n=i.createClass({displayName:'ReactComposerPhotoActionButton',mixins:[h],propTypes:{tooltip:m.string,className:m.string,onClick:m.func,iconClassName:m.string},render:function(){var o=l(this.props.className,"_jfh");return (i.createElement('button',babelHelpers['extends']({className:o,onClick:this.props.onClick,tabIndex:'0'},j.propsFor(this.props.tooltip)),i.createElement('div',{className:this.props.iconClassName})));}});f.exports=n;},null);
__d('ReactComposerPhotoEditActionButton.react',['ReactComposerPhotoActionButton.react','ReactComponentWithPureRenderMixin','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=j.PropTypes,n=j.createClass({displayName:'ReactComposerPhotoEditActionButton',mixins:[i],propTypes:{onClick:m.func},render:function(){var o=l._("Edit Photo");return (j.createElement(h,{className:"_4_z4",onClick:this.props.onClick,tooltip:o,iconClassName:"_4_z5"}));}});f.exports=n;},null);
__d('ReactComposerFaceboxTaggerTypeaheadPresenter',['React','XUITypeaheadView.react','cx'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=h.createClass({displayName:'ComposerFaceboxTaggerTypeaheadView',render:function(){return (h.createElement('div',{className:"_3ntx"},h.createElement(i,this.props)));}}),l={ViewRenderer:k,useLayer:true};f.exports=l;},null);
__d('ReactComposerPhotoFaceboxTagger.react',['ReactComposerFaceboxTaggerTypeaheadPresenter','ReactComponentWithPureRenderMixin','React','XUITypeahead.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=j.PropTypes,o=j.createClass({displayName:'ReactComposerPhotoFaceboxTagger',mixins:[i],propTypes:{faceboxID:n.string.isRequired,dataSource:n.object.isRequired,onTagAdded:n.func.isRequired},getInitialState:function(){return {query:''};},render:function(){var p=m._("Who is this?");return (j.createElement(k,{className:"_xgd",queryString:this.state.query,placeholder:p,onSelectAttempt:this._onTokenSelected,onChange:this._onTypeaheadChanged,searchSource:this.props.dataSource,highlightOnSelect:true,showEntriesOnFocus:true,autoHighlight:true,selectOnTab:true,focusedOnInit:true,presenter:h}));},_onTokenSelected:function(p){this.props.onTagAdded(this.props.faceboxID,p.getUniqueID(),p.getTitle());},_onTypeaheadChanged:function(event){this.setState({query:event.target.value});}});f.exports=o;},null);
__d('ReactComposerQAndAActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({SET_QANDA_CONFIG:null});},null);
__d('ReactComposerQAndAStore',['ReactComposerQAndAActionType','ReactComposerStoreBase'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();j=babelHelpers.inherits(l,i);k=j&&j.prototype;function l(){'use strict';var m;k.constructor.call(this,function(){return {photoLimit:1,profilePicURI:null,profileURI:null,faceboxDataSource:null};},function(n){switch(n.type){case h.SET_QANDA_CONFIG:m&&m.$ReactComposerQAndAStore1(n);break;}});m=this;}l.prototype.getPhotoLimit=function(m){'use strict';return this.getComposerData(m).photoLimit;};l.prototype.getProfilePicSrc=function(m){'use strict';return this.getComposerData(m).profilePicSrc;};l.prototype.getProfileURI=function(m){'use strict';return this.getComposerData(m).profileURI;};l.prototype.getFaceboxDataSource=function(m){'use strict';return this.getComposerData(m).faceboxDataSource;};l.prototype.$ReactComposerQAndAStore1=function(m){'use strict';var n=this.validateAction(m,['composerID','config']),o=n[0],p=n[1],q=this.getComposerData(o);q.photoLimit=p.photoLimit;q.profilePicSrc=p.profilePicSrc;q.profileURI=p.profileURI;q.faceboxDataSource=p.faceboxDataSource;this.emitChange(m.composerID);};f.exports=new l();},null);
__d('ReactComposerPhotoFaceboxTaggerContainer.react',['ReactComposerMediaStore','ReactComposerPhotoFaceboxTagger.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerQAndAStore','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=m.PropTypes,o=m.createClass({displayName:'ReactComposerPhotoFaceboxTaggerContainer',mixins:[l,j(h,k)],propTypes:{faceboxID:n.string.isRequired,onTagAdded:n.func.isRequired},statics:{calculateState:function(p){var q=h.getTaggingDataSource(p)||k.getFaceboxDataSource(p);q&&q.bootstrap();return {dataSource:q};}},render:function(){return (m.createElement(i,{faceboxID:this.props.faceboxID,dataSource:this.state.dataSource,onTagAdded:this.props.onTagAdded}));}});f.exports=o;},null);
__d('ReactComposerPhotoTagActionButton.react',['ReactComposerPhotoActionButton.react','ReactComponentWithPureRenderMixin','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';if(c.__markCompiled)c.__markCompiled();var m=j.PropTypes,n=j.createClass({displayName:'ReactComposerPhotoTagActionButton',mixins:[i],propTypes:{hasTag:m.bool.isRequired,onClick:m.any},render:function(){var o=l._("Tag");return (j.createElement(h,{className:"_cwf"+(this.props.hasTag?' '+"_cwh":''),tooltip:o,iconClassName:"_cwg",onClick:this.props.onClick}));}});f.exports=n;},null);
__d('ReactComposerPhotoTaggedFaceboxSummary.react',['Image.react','LeftRight.react','ReactComponentWithPureRenderMixin','React','TooltipLink.react','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=k.PropTypes,q=k.createClass({displayName:'ReactComposerPhotoTaggedFaceboxSummary',mixins:[j],propTypes:{faceboxID:p.string.isRequired,onTagRemoved:p.func.isRequired,taggedSubjectID:p.string.isRequired,taggedValue:p.string.isRequired},render:function(){var r=n._("Edit Name");return (k.createElement(i,{className:"_31bg"},k.createElement('div',{className:"_31bh"},this.props.taggedValue),k.createElement(l,{alignH:'center',position:'below',tooltip:r,onClick:this._onEditClicked},k.createElement(h,{src:o('/images/icons/edit.png')}))));},_onEditClicked:function(){this.props.onTagRemoved(this.props.faceboxID,this.props.taggedSubjectID);}});f.exports=q;},null);
__d("XStickerPhotoEditorController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/photos\/editor\/sticker_editor\/",{grid_id:{type:"String"},feedback_id:{type:"String"},target_type:{type:"Enum",required:true,enumType:1},photo_fbid:{type:"Int",required:true},latest_fbid:{type:"Int"},initial_tab:{type:"Enum",enumType:1}});},null);
__d('ReactComposerPhotoTagger.react',['ReactComposerContextMixin','ReactComposerPhotoActions','ReactComposerPhotoFaceboxTaggerContainer.react','ReactComposerPhotoEditActionButton.react','ReactComposerPhotoStore','ReactComposerPhotoTagActionButton.react','ReactComposerPhotoTaggedFaceboxSummary.react','ActorURI','AsyncRequest','ContextualLayerAutoFlip','Image.react','ImageBlock.react','immutable','ReactLayeredComponentMixin','LayerHideOnBlur','LayerHideOnEscape','LayerTabIsolation','ModalPhotoEditorTabName','ReactComponentWithPureRenderMixin','React','ReactDOM','XStickerPhotoEditorController','PhotoEditorTargetType','XUIContextualDialog.react','XUIContextualDialogBody.react','XUIDialogCloseButton.react','XUIContextualDialogFooter.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja){'use strict';if(c.__markCompiled)c.__markCompiled();var ka=aa.PropTypes,la=268,ma=32,na=aa.createClass({displayName:'ReactComposerPhotoTagger',_photoEditorRequest:undefined,mixins:[u,z,h],propTypes:{canTagFromModal:ka.bool,draggingPhotos:ka.bool,enableFaceboxTagger:ka.bool.isRequired,disablePhotoEditing:ka.bool.isRequired,faceboxes:ka.instanceOf(t.Map).isRequired,onEditClick:ka.func,onTagAdded:ka.func.isRequired,onTagIntent:ka.func,onTagRemoved:ka.func.isRequired,originalID:ka.string,photoID:ka.string.isRequired,shown:ka.bool.isRequired},getDefaultProps:function(){return {shown:false};},componentWillReceiveProps:function(oa){if(!this.props.draggingPhotos&&oa.draggingPhotos)i.setPhotoBeingTagged(this.context.composerID,null);},render:function(){var oa=this.props.canTagFromModal?this._onTagClick:null,pa=this.props.enableFaceboxTagger?aa.createElement(m,{hasTag:l.hasTagsInPhoto(this.context.composerID,this.props.photoID),onClick:oa}):null,qa=this.props.disablePhotoEditing?null:aa.createElement(k,{onClick:this._onEditClick});return (aa.createElement('div',{className:"_jfi",onClick:this._onClick,tabIndex:'-1'},pa,qa));},renderLayers:function(){if(!this.props.shown||!this.props.enableFaceboxTagger)return null;return {dialog:this._getDialog()};},_getDialog:function(){return (aa.createElement(ea,{ref:'dialog',shown:this.props.shown,onToggle:this._onDialogToggled,context:ba.findDOMNode(this),position:'below',alignment:'center',width:la,behaviors:{LayerHideOnBlur:v,LayerHideOnEscape:w,ContextualLayerAutoFlip:q,LayerTabIsolation:x}},aa.createElement(fa,null,this._getDialogBody()),aa.createElement(ha,null,aa.createElement(ga,{use:'confirm',label:'Close',onClick:this._onCloseButtonClicked}))));},_getDialogBody:function(){if(this.props.faceboxes.size===0)return ja._("We could not find any faces to tag.");return this.props.faceboxes.valueSeq().map(function(oa){var pa=oa.taggedSubjectID?aa.createElement(n,{faceboxID:oa.id,onTagRemoved:this.props.onTagRemoved,taggedSubjectID:oa.taggedSubjectID,taggedValue:oa.taggedValue}):aa.createElement(j,{faceboxID:oa.id,onTagAdded:this.props.onTagAdded});return (aa.createElement(s,{key:oa.id,className:"_qv7"},aa.createElement(r,{className:"_qv8",height:ma,src:oa.croppedURI,width:ma}),pa));}.bind(this));},_onCloseButtonClicked:function(){i.setPhotoBeingTagged(this.context.composerID,null);},_onDialogToggled:function(oa){if(!oa)this._onCloseButtonClicked();},_onClick:function(){this.props.onTagIntent&&this.props.onTagIntent();i.setPhotoBeingTagged(this.context.composerID,this.props.photoID);},_onTagClick:function(event){this._onEditClick(event,null,y.TAG);},_onEditClick:function(event,oa,pa){event.stopPropagation();if(this._photoEditorRequest)return;var qa=ca.getURIBuilder().setString('grid_id',this.context.composerID).setEnum('target_type',da.COMPOSER).setInt('latest_fbid',this.props.photoID).setInt('photo_fbid',this.props.originalID||this.props.photoID).setEnum('initial_tab',pa).getURI();qa=o.create(qa,this.context.actorID);this._photoEditorRequest=new p(qa).setFinallyHandler(function(){this._photoEditorRequest=null;}.bind(this));this._photoEditorRequest&&this._photoEditorRequest.send();this.props.onEditClick&&this.props.onEditClick();i.startPhotoEdit(this.context.composerID);}});f.exports=na;},null);
__d('ReactComposerPhoto.react',['ReactComposerMediaConfig','ReactComposerPhotoTagger.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStore','Image.react','ImageBlock.react','immutable','LoadingIndicator.react','ReactComponentWithPureRenderMixin','React','ReactLayeredComponentMixin','XUIAmbientNUX.react','XUICloseButton.react','XUIContextualDialog.react','XUIContextualDialogBody.react','XUIText.react','cx','fbt','ix'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){'use strict';if(c.__markCompiled)c.__markCompiled();var aa=q.PropTypes,ba=q.createClass({displayName:'ReactComposerPhoto',mixins:[p,r,j(k)],propTypes:{canTagFromModal:aa.bool,draggingPhotos:aa.bool,enableFaceboxTagger:aa.bool,disablePhotoEditing:aa.bool,faceboxes:aa.instanceOf(n.Map).isRequired,onEditClick:aa.func,onRemoveButtonClicked:aa.func.isRequired,onTagAdded:aa.func.isRequired,onTaggingNUXClose:aa.func,onTagIntent:aa.func,onTagRemoved:aa.func.isRequired,originalID:aa.string,photoID:aa.string.isRequired,showStickersNUX:aa.bool,showTaggingNUX:aa.bool,thumbSrc:aa.string.isRequired},getDefaultProps:function(){return {enableFaceboxTagger:true,disablePhotoEditing:false};},statics:{calculateState:function(ca,da){return {posting:k.isPosting(ca)};}},render:function(){var ca={width:h.photo.thumbWidth,height:h.photo.thumbHeight},da=this.props.isRecognizingFaceboxes?q.createElement('div',{className:"_jff"},q.createElement(o,{className:"_jfg",size:'small',color:'white'})):null,ea="_jfc"+(this.props.isRecognizingFaceboxes?' '+"_jfd":''),fa,ga;if(!this.state.posting){fa=q.createElement(t,{className:"_jfe",onClick:this.props.onRemoveButtonClicked,size:'medium',shade:'light'});ga=q.createElement(i,{canTagFromModal:this.props.canTagFromModal,draggingPhotos:this.props.draggingPhotos,enableFaceboxTagger:this.props.enableFaceboxTagger,disablePhotoEditing:this.props.disablePhotoEditing,faceboxes:this.props.faceboxes,onEditClick:this.props.onEditClick,onTagIntent:this.props.onTagIntent,onTagAdded:this.props.onTagAdded,onTagRemoved:this.props.onTagRemoved,originalID:this.props.originalID,photoID:this.props.photoID,shown:this.props.showPhotoTagger});}return (q.createElement('div',{ref:'root',className:ea,style:ca},fa,q.createElement(l,{src:this.props.thumbSrc,width:h.photo.thumbWidth,height:h.photo.thumbHeight}),da,ga));},renderLayers:function(){return {taggingNUX:this.props.enableFaceboxTagger?this._getTaggingNux():null,stickersNUX:this.props.disablePhotoEditing?null:this._getStickersNux()};},_getTaggingNux:function(){return (q.createElement(u,{contextRef:function(){return this.refs.root;}.bind(this),position:'below',alignment:'left',shown:this.props.showTaggingNUX,width:300},q.createElement(v,null,q.createElement(t,{className:"rfloat",onClick:this.props.onTaggingNUXClose}),q.createElement('div',null,q.createElement(w,{weight:'bold',display:'block'},y._("Now It's Easier to Tag Photos.")),y._("Click photos with a {tagging_badge_icon} to review tag suggestions or add, edit, and remove tags. When you post the photo, your tags will be applied.",[y.param('tagging_badge_icon',q.createElement(l,{className:"_2z-r",src:z('/images/photos/editor/tag_icon_blue.png')}))])))));},_getStickersNux:function(){return (q.createElement(s,{alignment:'right',contextRef:function(){return this.refs.root;}.bind(this),onCloseButtonClick:this.props.onStickersNUXClose,position:'below',shown:this.props.showStickersNUX},q.createElement(m,{spacing:'medium'},q.createElement(l,{src:z('/images/photos/editor/beast.png')}),q.createElement('div',{className:"_21ft"},q.createElement('div',{className:"_21fs"},y._("New! Add Stickers!")),y._("You can now add stickers to your photos")))));}});f.exports=ba;},null);
__d('ReactComposerPhotoContainer.react',['ReactComposerPhoto.react','ReactComposerPhotoActions','ReactComposerPhotoStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerNUXActions','ReactComposerNUXStore','ComposerNUXType','ReactComponentWithPureRenderMixin','React','ReactDOM'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';if(c.__markCompiled)c.__markCompiled();var r=p.PropTypes,s=p.createClass({displayName:'ReactComposerPhotoContainer',mixins:[o,k(m,j)],propTypes:{draggingPhotos:r.bool,dragHandler:r.shape({add:r.func.isRequired,remove:r.func.isRequired}),enableFaceboxTagger:r.bool,disablePhotoEditing:r.bool,nuxConfig:r.object.isRequired,photoID:r.string.isRequired,uploadID:r.string.isRequired},statics:{beforeCalculateInitialState:function(t,u){var v=j.getPhoto(t,u.photoID),w=this._shouldShowStickersNUX(t,v,u.nuxConfig),x=!w&&this._shouldShowTaggingNUX(t,v,u.nuxConfig);if(w)l.nuxWasShown(t,n.ADD_STICKERS_NUX,v.id);if(x)l.nuxWasShown(t,n.TAGGING_FLYOUT_NUX,v.id);},calculateState:function(t,u){var v=j.getPhoto(t,u.photoID),w=this._shouldShowStickersNUX(t,v,u.nuxConfig),x=!w&&this._shouldShowTaggingNUX(t,v,u.nuxConfig),y=j.getPhotoBeingTagged(t)===u.photoID;return {faceboxes:v.faceboxes,thumbSrc:v.thumbSrc,isRecognizingFaceboxes:v.isRecognizingFaceboxes,showPhotoTagger:y,showStickersNUX:w,showTaggingNUX:x};},_couldShowNUX:function(t,u,v,w){var x=m.getNUXShownPhotoID(t,w),y=m.hasNUXBeenSeen(t,w);return (!!v[w]&&!y&&(!x||x===u.id));},_shouldShowStickersNUX:function(t,u,v){return this._couldShowNUX(t,u,v,n.ADD_STICKERS_NUX);},_shouldShowTaggingNUX:function(t,u,v){return (this._couldShowNUX(t,u,v,n.TAGGING_FLYOUT_NUX)&&u.faceboxes.size>0);}},componentDidMount:function(){setTimeout(function(){var t=this.props.dragHandler;t&&t.add(q.findDOMNode(this.refs.container));}.bind(this),0);},componentWillUnmount:function(){setTimeout(function(){var t=this.props.dragHandler;t&&t.remove(q.findDOMNode(this.refs.container));}.bind(this),0);},render:function(){return (p.createElement(h,babelHelpers['extends']({},this.props,this.state,{onEditClick:this._onEditClick,onRemoveButtonClicked:this._onRemoveButtonClicked,onStickersNUXClose:this._onStickersNUXClose,onTagAdded:this._onTagAdded,onTagIntent:this._onTagIntent,onTaggingNUXClose:this._onTaggingNUXClose,onTagRemoved:this._onTagRemoved,ref:'container'})));},_onEditClick:function(){this._onStickersNUXClose();},_onRemoveButtonClicked:function(){i.removePhoto(this.context.composerID,this.props.photoID,this.props.uploadID);},_onStickersNUXClose:function(){l.nuxWasSeen(this.context.composerID,n.ADD_STICKERS_NUX);},_onTagAdded:function(t,u,v){i.tagFacebox(this.context.composerID,this.props.photoID,t,u,v);},_onTaggingNUXClose:function(){l.nuxWasSeen(this.context.composerID,n.TAGGING_FLYOUT_NUX);},_onTagIntent:function(){if(this.state.showTaggingNUX)this._onTaggingNUXClose();},_onTagRemoved:function(t,u){i.untagFacebox(this.context.composerID,this.props.photoID,t,u);}});f.exports=s;},null);
__d('ReactComposerPhotoUploadPlaceholder.react',['ReactComposerPhotoUploadState','LoadingIndicator.react','ProgressBar.react','ReactComponentWithPureRenderMixin','React','XUICloseButton.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=l.PropTypes,p=l.createClass({displayName:'ReactComposerPhotoUploadPlaceholder',mixins:[k],propTypes:{onRemoveButtonClicked:o.func.isRequired,uploadID:o.string.isRequired,uploadState:o.oneOf(Object.keys(h)).isRequired,uploadProgress:o.number},render:function(){var q=null,r=null,s=this.props.uploadState,t=s===h.PHOTO_UPLOAD_RESIZE_STARTED,u=s===h.PHOTO_UPLOAD_UPLOADING;if(t||u){var v="_1b01"+(t?' '+"_1b02":'')+(u?' '+"_1b03":'');q=l.createElement(j,{value:this.props.uploadProgress,className:v});}else r=l.createElement(i,{className:"_1b00",color:'white',size:'medium'});return (l.createElement('div',{className:"_1a__"},l.createElement(m,{className:"_1b04",onClick:this.props.onRemoveButtonClicked,size:'medium',shade:'dark'}),q,r));}});f.exports=p;},null);
__d('ReactComposerPhotoUploadPlaceholderContainer.react',['ReactComposerPhotoUploadActions','ReactComposerPhotoUploadPlaceholder.react','ReactComposerPhotoUploadStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=m.PropTypes,o=m.createClass({displayName:'ReactComposerPhotoUploadPlaceholderContainer',mixins:[l,k(j)],propTypes:{uploadID:n.string.isRequired},statics:{calculateState:function(p,q){var r=j.getPhotoUpload(p,q.uploadID);return {uploadProgress:r.progress,uploadState:r.state};}},render:function(){return (m.createElement(i,babelHelpers['extends']({},this.props,this.state,{onRemoveButtonClicked:this._onRemoveButtonClicked})));},_onRemoveButtonClicked:function(){h.removePhotoUpload(this.context.composerID,this.props.uploadID);}});f.exports=o;},null);
__d('ReactComposerDraggablePhoto.react',['ReactComposerContextMixin','ReactComposerFailedPhotoUploadContainer.react','ReactComposerPhotoActions','ReactComposerPhotoContainer.react','ReactComposerPhotoUploadPlaceholderContainer.react','ReactComposerPhotoUploadState','Draggable','ReactComponentWithPureRenderMixin','React','ReactDOM','Vector','cx','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=p.PropTypes,v=200,w=5,x=m.PHOTO_UPLOAD_DONE,y=p.createClass({displayName:'ReactComposerDraggablePhoto',_draggable:undefined,_grabbed:undefined,mixins:[o,h],propTypes:{enableFaceboxTagger:u.bool,disablePhotoEditing:u.bool,mediaConfig:u.object.isRequired,nuxConfig:u.object.isRequired,upload:u.object.isRequired,draggingPhotos:u.bool,index:u.number,updateComponentPosition:u.func.isRequired,onGrab:u.func.isRequired,onDrag:u.func.isRequired,onDrop:u.func.isRequired},getInitialState:function(){return {dragging:false};},componentWillReceiveProps:function(z){if(this.props.index!==z.index&&z.index!==undefined)setTimeout(this._updateComponentPosition,0);},componentDidUpdate:function(z){if(z.upload.state!==x&&this.props.upload.state===x){this._createDraggable();}else if(z.upload.state===x&&this.props.upload.state!==x)this._draggable&&this._draggable.destroy();},componentDidMount:function(){if(this.props.upload.state===x)this._createDraggable();setTimeout(this._updateComponentPosition,0);},componentWillUnmount:function(){this._draggable&&this._draggable.destroy();},render:function(){var z=(this.state.dragging?"_3j72":'')+(' '+"_3j73");return (p.createElement('div',{className:z,onClick:this._onClick,key:this.props.upload.photoID||this.props.upload.id},this._getInnerComponent()));},_getInnerComponent:function(){var z=this.props.upload;if(z.state===x){var aa=this,ba={add:function(ca){aa._draggable&&aa._draggable.addHandle(ca);},remove:function(ca){aa._draggable&&aa._draggable.removeHandle(ca);}};return (p.createElement(k,{canTagFromModal:this.props.mediaConfig.canTagFromModal,draggingPhotos:this.props.draggingPhotos,dragHandler:ba,enableFaceboxTagger:this.props.enableFaceboxTagger,disablePhotoEditing:this.props.disablePhotoEditing,key:z.photoID,nuxConfig:this.props.nuxConfig,originalID:z.originalPhotoID,photoID:z.photoID,uploadID:z.id}));}if(z.state===m.PHOTO_UPLOAD_FAILED)return (p.createElement(i,{error:z.error,filename:z.filename,key:z.id,mediaConfig:this.props.mediaConfig,uploadID:z.id}));return (p.createElement(l,{key:z.id,uploadID:z.id}));},_createDraggable:function(){this._draggable=new n(q.findDOMNode(this)).setNamespace('ReactComposer').setUseAbsolute(true).setAvoidKillingEvents(true).setGutter(w).setGrabHandler(this._onGrab).setDragHandler(t(this._onDrag,v)).setDropHandler(this._onDrop);this._updateComponentPosition();},_updateComponentPosition:function(){var z=q.findDOMNode(this);this.props.updateComponentPosition(this.props.upload.id||this.props.upload.photoID,r.getElementPosition(z),r.getElementDimensions(z));},_onGrab:function(){if(this.state.dragging)return;this._grabbed=true;var z=q.findDOMNode(this);this.props.onGrab(this.props.upload.id||this.props.upload.photoID,z);},_onDrag:function(z){if(!this._grabbed)return;this.setState({dragging:true});this.props.onDrag(z);},_onDrop:function(z){this._draggable&&this._draggable.resetPosition();this.setState({dragging:false});this._grabbed=false;this.props.onDrop(z);},_onClick:function(){j.setPhotoBeingTagged(this.context.composerID,this.props.upload.photoID);}});f.exports=y;},null);
__d('ReactComposerGenericPhotoUploadLink.react',['ReactComponentWithPureRenderMixin','React','Link.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes,n=i.createClass({displayName:'ReactComposerGenericPhotoUploadLink',mixins:[h],propTypes:{className:m.string},getDefaultProps:function(){return {className:"__9t"};},render:function(){var o=l("__9u",this.props.className);return (i.createElement(j,{className:o},this.props.children));}});f.exports=n;},null);
__d('ReactComposerMediaScrollableArea.react',['ReactComponentWithPureRenderMixin','TimelineMapScrollableArea','React','ReactDOM','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=j.PropTypes,n=m.oneOfType([m.string,m.number]),o=j.createClass({displayName:'ReactComposerMediaScrollableArea',_scrollableArea:i,mixins:[h],propTypes:{children:m.array.isRequired,getAddMoreDOM:m.func,height:n.isRequired,persistent:m.bool,photosCount:m.number,scrollbar:m.oneOf(['native','fade','nofade']).isRequired,verticalScroll:m.bool,width:n.isRequired},getDefaultProps:function(){return {scrollbar:'native',width:'100%'};},componentDidMount:function(){this._scrollableArea=new i(k.findDOMNode(this.refs.container),{fade:this.props.scrollbar==='fade',persistent:this.props.persistent,verticalscroll:this.props.verticalScroll});},componentDidUpdate:function(p,q){if(this.props.photosCount>=p.photosCount)this.props.getAddMoreDOM&&this.props.getAddMoreDOM()&&this._scrollableArea.scrollIntoView(this.props.getAddMoreDOM());},componentWillUnmount:function(){this._scrollableArea.destroy();},render:function(){var p=l(this.props.className,this.props.scrollbar),q={height:this.props.height,width:this.props.width},r=this.props.height-(this.props.scrollbar==='fade'?0:10),s={height:r};return (j.createElement('div',{className:p,ref:'container'},j.createElement('div',{className:'fbScrollableArea',style:q},j.createElement('div',{className:'fbScrollableAreaWrap'},j.createElement('div',{className:'fbScrollableAreaBody',style:s},j.createElement('div',{className:'fbScrollableAreaContent'},this.props.children))),this._getTrack())));},_getTrack:function(){if(this.props.scrollbar==='native')return null;return (j.createElement('div',{className:'fbScrollableAreaTrack invisible_elem'},j.createElement('div',{className:'fbScrollableAreaGripper'})));}});f.exports=o;},null);
__d('ReactComposerPhotoUploadsGrid.react',['ReactComposerContextMixin','ReactComposerDraggablePhoto.react','ReactComposerGenericPhotoUploadLink.react','ReactComposerMediaScrollableArea.react','ReactComposerMediaUtils','ReactComposerPhotoUploadActions','FileInput.react','immutable','ReactComponentWithPureRenderMixin','React','ReactDOM','cx','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){'use strict';if(c.__markCompiled)c.__markCompiled();var v=q.PropTypes,w=112,x=q.createClass({displayName:'ReactComposerPhotoUploadsGrid',mixins:[p,h],propTypes:{enableFaceboxTagger:v.bool,disablePhotoEditing:v.bool,addMorePhotosConfig:v.shape({maxPhotos:v.number}).isRequired,mediaAcceptParam:v.string,mediaConfig:v.object.isRequired,nuxConfig:v.object.isRequired,onFilesSelected:v.func,canUploadMultiplePhotos:v.bool,uploads:v.instanceOf(o.List).isRequired,onDrop:v.func,photoUploadLink:v.element,scrollableAreaHeight:v.number.isRequired,sourceIndex:v.number,targetIndex:v.number,updateComponentPosition:v.func.isRequired},getDefaultProps:function(){return {addMorePhotosConfig:{},canUploadMultiplePhotos:false,photoUploadLink:q.createElement(j,null),scrollableAreaHeight:w,showSellUploadLink:false};},render:function(){return (q.createElement('div',{className:"_58hb"},q.createElement('div',{className:u("_58hc",this.props.className)},q.createElement(k,{fade:true,getAddMoreDOM:this._getAddMoreDOM,height:this.props.scrollableAreaHeight,photosCount:this.props.uploads.size,scrollbar:'fade',verticalScroll:true},this.props.children,this._getComponents(),this._getAddMorePhotosButton()))));},_onAddMorePhotosClick:function(){m.inputClicked(this.context.composerID);},_onFilesSelected:function(event){if(this.props.onFilesSelected){var y=this.props.onFilesSelected;y(event,this.refs.fileInput.getFileInput());}l.clearInput(this.refs.fileInput.getFileInput());},_getAddMorePhotosButton:function(){if(!this.props.canUploadMultiplePhotos&&this.props.uploads.size>0)return null;if(this.props.addMorePhotosConfig.maxPhotos&&this.props.uploads.size>=this.props.addMorePhotosConfig.maxPhotos)return null;return (q.createElement('span',{ref:'addMore',className:"_58i2"},q.createElement(n,{accept:this.props.mediaAcceptParam,multiple:this.props.canUploadMultiplePhotos,name:'composer_photo',onChange:this._onFilesSelected,onClick:this._onAddMorePhotosClick,ref:'fileInput',title:t._("Choose a file to upload"),'data-testid':'add-more-photos'},this.props.photoUploadLink)));},_getComponents:function(){var y=this.props.uploads.toSeq().filter(function(aa,ba){return ba!==this.props.sourceIndex;}.bind(this)).map(function(aa,ba){return this._getDraggablePhoto(aa,ba);}.bind(this));if(this.props.targetIndex!=null){var z=q.createElement('div',{key:'placeholder',className:"_4e74"});y=y.splice(this.props.targetIndex,0,z);}if(this.props.sourceIndex!=null)y=y.splice(this.props.sourceIndex,0,this._getDraggablePhoto(this.props.uploads.get(this.props.sourceIndex)));return y.toArray();},_getDraggablePhoto:function(y,z){return (q.createElement(i,{enableFaceboxTagger:this.props.enableFaceboxTagger,disablePhotoEditing:this.props.disablePhotoEditing,key:y.id,nuxConfig:this.props.nuxConfig,upload:y,draggingPhotos:this.props.sourceIndex!=null,index:z,mediaConfig:this.props.mediaConfig,updateComponentPosition:this.props.updateComponentPosition,onGrab:this.props.onGrab,onDrag:this.props.onDrag,onDrop:this.props.onDrop}));},_getAddMoreDOM:function(){return r.findDOMNode(this.refs.addMore);}});f.exports=x;},null);
__d('ReactComposerPhotoUploadsGridContainer.react',['ReactComposerContextMixin','ReactComposerPhotoUploadActions','ReactComposerPhotoUploadsGrid.react','Locale','ReactComponentWithPureRenderMixin','React','ReactDOM','Rect','Vector'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=m.PropTypes,r=m.createClass({displayName:'ReactComposerPhotoUploadsGridContainer',_componentsPosition:{},mixins:[l,h],propTypes:{photoUploadLink:q.element,enableFaceboxTagger:q.bool,disablePhotoEditing:q.bool,showSellUploadLink:q.bool},getInitialState:function(){return {rtl:k.isRTL(),sourceIndex:null,targetIndex:null,uploads:this.props.uploads};},componentWillReceiveProps:function(s){if(this.state.uploads!==s.uploads)this.setState({uploads:s.uploads});},render:function(){return (m.createElement(j,babelHelpers['extends']({},this.props,{onGrab:this._onGrab,onDrag:this._onDrag,onDrop:this._onDrop,sourceIndex:this.state.sourceIndex,targetIndex:this.state.targetIndex,updateComponentPosition:this._updateComponentPosition,uploads:this.state.uploads})));},_onGrab:function(s,t){var u=this.state.uploads.findIndex(function(v){return v.id===s;});this.setState({sourceIndex:u,targetIndex:u});},_onDrag:function(s){var t=p.getElementPosition(n.findDOMNode(this));s=s.sub(t);this.setState({targetIndex:this._getTargetID(s)});},_onDrop:function(s){this._onDrag(s);var t=this.state.sourceIndex,u=this.state.targetIndex;if(t==null||u==null)return;if(t!==u){var v=this.state.uploads;v=v.splice(t,1).splice(u,0,v.get(t));this.setState({uploads:v});i.photoMoved(this.context.composerID,t,u);}this._endDrag();},_endDrag:function(){this.setState({sourceIndex:null,targetIndex:null});},_getTargetID:function(s){var t=this.state.uploads,u=this.state.rtl?function(z,aa){return z.right>=aa.x;}:function(z,aa){return z.left<=aa.x;};for(var v=t.size-1;v>=0;v--){var w=t.get(v),x=w.id,y=this._componentsPosition[x];if(u(y,s))return v;}return 0;},_updateComponentPosition:function(s,t,u){var v=new o(n.findDOMNode(this));this._componentsPosition[s]={left:t.x-v.l,right:t.x-v.l+u.x};}});f.exports=r;},null);
__d('ReactComposerSlideshowPhotoUploadsContainer.react',['ReactComposerAttachmentType','ReactComposerConfig','ReactComposerPhotoUploadsGridContainer.react','Image.react','immutable','React','Link.react','cx','fbt','ix','padNumber'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=m.PropTypes,t=136,u=60,v=':',w=0,x=1,y=2,z=m.createClass({displayName:'ReactComposerSlideshowPhotoUploadsContainer',propTypes:{config:i.isRequired,onFileSelected:s.func,uploads:s.instanceOf(l.List).isRequired},_shouldShowAddMorePhotosButton:function(){var aa=this.props.config.attachmentsConfig[h.MEDIA];if(aa.slideshowConfig.maxPhotoNum&&this.props.uploads.size>=aa.slideshowConfig.maxPhotoNum)return false;return true;},_formatTime:function(aa){var ba=Math.floor(aa/u),ca=aa-ba*u;return ba+v+r(ca,2);},_renderTextAboveLine:function(aa,ba){var ca=this.props.config.attachmentsConfig[h.MEDIA].slideshowConfig;if(aa===y){if(ba===ca.maxPhotoNum){return (m.createElement(k,{className:"_33ss",src:q('/images/devsite/glyph/error_red_small.png')}));}else return (m.createElement('span',{className:"_33tl"}));}else{var da=Math.round((ca.durationInMS+ca.transitionInMS)/1000);if(ba===ca.maxPhotoNum-1){return (m.createElement('span',null,this._formatTime(ba*da),m.createElement('span',{className:"_33tm"+(aa===x?' '+"_2103":'')},this._formatTime(ca.maxPhotoNum*da))));}else return m.createElement('span',null,this._formatTime(ba*da));}},_getTimeline:function(){var aa=this.props.config.attachmentsConfig[h.MEDIA].slideshowConfig,ba=aa.maxPhotoNum-this.props.uploads.size,ca=[];this.props.uploads.map(function(fa,ga){if(ga<aa.maxPhotoNum)ca.push(w);});if(ba>0){for(var da=0;da<ba;da++)ca.push(x);}else if(ba<0)for(var ea=0;ea<-ba;ea++)ca.push(y);return (m.createElement('div',{className:"_3rr_"},ca.map(function(fa,ga){return (m.createElement('span',{className:(fa===w&&ga===0?"_33to":'')+(fa===w&&ga!==0?' '+"_33tp":'')+(fa===x&&ga===this.props.uploads.size&&this.props.uploads.size<aa.maxPhotoNum?' '+"_2104":'')+(fa===x&&ga!==this.props.uploads.size?' '+"_33tq":'')+(fa===y&&ga===aa.maxPhotoNum?' '+"_33tr":'')+(fa===y&&ga!==aa.maxPhotoNum?' '+"_33ts":''),key:ga},this._renderTextAboveLine(fa,ga)));}.bind(this))));},render:function(){var aa=this.props.config.attachmentsConfig[h.MEDIA];return (m.createElement('div',{className:"_3-9a _3-8_"},m.createElement(j,{addMorePhotosConfig:{maxPhotos:aa.slideshowConfig.maxPhotoNum},canUploadMultiplePhotos:true,className:"_3rsr",disablePhotoEditing:true,enableFaceboxTagger:false,mediaConfig:aa,nuxConfig:this.props.config.nuxConfig,onFilesSelected:this.props.onFilesSelected,scrollableAreaHeight:t,uploads:this.props.uploads},this._getTimeline()),m.createElement('div',{className:"_4dwc"},m.createElement(k,{className:"_33ss",src:q('images/components/HelpLink/info.png')}),p._("{Learn more} about using slideshows in your posts.",[p.param('Learn more',m.createElement(n,{href:'/help/818247301636195',target:'_blank'},p._("Learn more")))]))));}});f.exports=z;},null);
__d('ReactComposerAttachmentPreview.react',['DOMContainer.react','ReactComponentWithPureRenderMixin','React'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=j.PropTypes,l=j.createClass({displayName:'ReactComposerAttachmentPreview',mixins:[i],propTypes:{markup:k.instanceOf(HTMLElement).isRequired},render:function(){if(!this.props.markup)return j.createElement('noscript',null);return (j.createElement(h,null,this.props.markup));}});f.exports=l;},null);
__d('ReactComposerLocationAttachmentActionType',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=h({LOCATION_ATTACHMENT_ENABLED:null,FETCH_LOCATION_ATTACHMENT:null,SET_LOCATION_MARKUP:null});},null);
__d("XReactComposerLocationAttachmentController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/location\/attachment\/",{composer_id:{type:"String",required:true},location_id:{type:"String",required:true},target_id:{type:"String",required:true}});},null);
__d('ReactComposerLocationAttachmentStore',['ReactComposerAttachmentActionType','ReactComposerAttachmentType','ReactComposerLocationAttachmentActionType','ReactComposerStoreBase','XReactComposerLocationAttachmentController','AsyncRequest'],function a(b,c,d,e,f,g,h,i,j,k,l,m){var n,o;if(c.__markCompiled)c.__markCompiled();n=babelHelpers.inherits(p,k);o=n&&n.prototype;function p(){'use strict';var q;o.constructor.call(this,function(){return {isEnabled:false,isFetching:false,markup:null,pendingRequest:null};},function(r){switch(r.type){case j.LOCATION_ATTACHMENT_ENABLED:q&&q.$ReactComposerLocationAttachmentStore1(r);break;case j.FETCH_LOCATION_ATTACHMENT:q&&q.$ReactComposerLocationAttachmentStore2(r);break;case j.SET_LOCATION_MARKUP:q&&q.$ReactComposerLocationAttachmentStore3(r);break;case h.SELECT_ATTACHMENT:q&&q.$ReactComposerLocationAttachmentStore4(r);break;}});q=this;}p.prototype.isEnabled=function(q){'use strict';return this.getComposerData(q).isEnabled;};p.prototype.getMarkup=function(q){'use strict';return this.getComposerData(q).markup;};p.prototype.isFetching=function(q){'use strict';return this.getComposerData(q).isFetching;};p.prototype.$ReactComposerLocationAttachmentStore1=function(q){'use strict';var r=this.validateAction(q,['composerID','enabled']),s=r[0],t=r[1],u=this.getComposerData(s);u.isEnabled=t;};p.prototype.$ReactComposerLocationAttachmentStore2=function(q){'use strict';var r=this.validateAction(q,['composerID','locationID','targetID']),s=r[0],t=r[1],u=r[2];if(!this.isEnabled(s))return;var v=this.getComposerData(s);v.isFetching=true;var w=l.getURIBuilder().setString('composer_id',s).setString('location_id',t).setString('target_id',u).getURI();v.pendingRequest=new m(w).setFinallyHandler(function(){v.isFetching=false;v.pendingRequest=null;this.emitChange(s);}.bind(this));v.pendingRequest.send();this.emitChange(s);};p.prototype.$ReactComposerLocationAttachmentStore3=function(q){'use strict';var r=this.validateAction(q,['composerID','markup']),s=r[0],t=r[1],u=this.getComposerData(s);u.markup=t;this.emitChange(s);};p.prototype.$ReactComposerLocationAttachmentStore4=function(q){'use strict';var r=this.validateAction(q,['composerID','id']),s=r[0],t=r[1];if(t===i.STATUS)return;var u=this.getComposerData(s);u.markup=null;u.isFetching=false;u.pendingRequest&&u.pendingRequest.abandon();this.emitChange(s);};f.exports=new p();},null);
__d('ReactComposerLocationAttachmentActions',['ReactComposerLocationAttachmentActionType','ReactComposerDispatcher','ReactComposerLocationAttachmentStore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();c('ReactComposerLocationAttachmentStore');j.prototype.enabled=function(k,l){'use strict';i.dispatch({composerID:k,type:h.LOCATION_ATTACHMENT_ENABLED,enabled:l});};j.prototype.fetchLocationAttachment=function(k,l,m){'use strict';i.dispatch({composerID:k,type:h.FETCH_LOCATION_ATTACHMENT,locationID:l,targetID:m});};j.prototype.setMarkup=function(k,l){'use strict';i.dispatch({composerID:k,type:h.SET_LOCATION_MARKUP,markup:l});};function j(){'use strict';}f.exports=new j();},null);
__d('ReactComposerMinutiaeAttachmentActions',['ReactComposerMinutiaeAttachmentActionType','ReactComposerDispatcher','ReactComposerMinutiaeAttachmentStore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();c('ReactComposerMinutiaeAttachmentStore');j.prototype.fetchMinutiaeAttachment=function(k,l,m,n,o){'use strict';var p={composerID:k,type:h.FETCH_ATTACHMENT,actionID:l,objectID:m,targetID:n,isTimeline:o};i.dispatch(p);};j.prototype.setMarkup=function(k,l){'use strict';var m={composerID:k,type:h.SET_MARKUP,markup:l};i.dispatch(m);};function j(){'use strict';}f.exports=new j();},null);
__d('ReactComposerAttachmentPreviewContainer.react',['ReactComposerLocationAttachmentActions','ReactComposerLocationAttachmentStore','ReactComposerMinutiaeAttachmentActions','ReactComposerMinutiaeAttachmentStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerAttachmentPreview.react','ReactComposerPrefillStore','ReactComposerScrapedAttachmentActions','ReactComposerScrapedAttachmentStore','Arbiter','DOM','Event','ReactComponentWithPureRenderMixin','React','ReactDOM','csx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x=u.PropTypes,y=u.createClass({displayName:'ReactComposerAttachmentPreviewContainer',_buttonEvent:undefined,mixins:[t,l(p,k,i)],propTypes:{markup:x.instanceOf(HTMLElement)},statics:{beforeCalculateInitialState:function(z,aa){var ba=n.getAndEraseField(z,'attachmentPreviewData');if(ba&&ba.scrapedAttachment)o.setScrapedAttachment(z,ba.scrapedAttachment.markup,ba.scrapedAttachment.attachmentConfig);},calculateState:function(z,aa){var ba=p.getMarkup(z),ca=k.getMarkup(z),da=i.getMarkup(z);return {markup:ba||ca||da};}},componentDidMount:function(){this._cleanupButtonEvent();this._setButtonEvent();},componentDidUpdate:function(){this._setButtonEvent();},componentWillUnmount:function(){this._cleanupButtonEvent();},render:function(){if(!this.state.markup)return null;return (u.createElement(m,{ref:'attachment',markup:this.state.markup}));},_setButtonEvent:function(){if(this.refs.attachment){var z=r.scry(v.findDOMNode(this.refs.attachment),"._9s")[0];if(z)this._buttonEvent=s.listen(z,'click',function(event){o.setScrapedAttachment(this.context.composerID,null,{});j.setMarkup(this.context.composerID,null);h.setMarkup(this.context.composerID,null);this._buttonEvent&&this._buttonEvent.remove();this._buttonEvent=null;}.bind(this));q.inform('react_composer_dom_ready/'+this.context.composerID);}},_cleanupButtonEvent:function(){this._buttonEvent&&this._buttonEvent.remove();}});f.exports=y;},null);