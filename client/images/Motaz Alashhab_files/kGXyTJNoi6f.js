/*!CK:3665769982!*//*1455057482,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["bjIzU"]); }

__d('CovercardArrow',['ContextualDialogArrow','CSS','DOMQuery','Locale','Style','csx','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=-45,p=45,q=9;if(k.isRTL()){o=-o;p=-p;}function r(t){'use strict';this._layer=t;}r.prototype.enable=function(){'use strict';this._layer.enableBehavior(h);var t=this._layer.getContentRoot();this._arrowWrapper=j.scry(t,"._7lh")[0];if(!this._arrowWrapper)return;this._arrowShadow=j.scry(this._arrowWrapper,"._7li")[0];if(!this._arrowShadow)return;var u=null;if(s(this._arrowWrapper))u=this._renderArrowWithRotate.bind(this);if(!u)return;if(k.isRTL())i.addClass(t,"_7lf");this._subscription=this._layer.subscribe('reposition',function(v,w){var x=w.getPosition()=='below';i.conditionClass(t,"_53ih",x);x&&u(w);});};r.prototype.disable=function(){'use strict';this._subscription&&this._subscription.unsubscribe();this._subscription=null;};r.prototype._calculateArrowOffset=function(t){'use strict';var u=h.getOffsetPercent(t),v=h.getOffset(t,u,this._layer),w=l.get(this._layer.getContentRoot(),'width');return parseInt(w,10)*(u/100)+v;};r.prototype._renderArrowWithRotate=function(t){'use strict';var u=j.scry(this._arrowWrapper,"._7lj")[0];if(!u){var v=this._layer.getContentRoot();i.addClass(v,"_4nfk");}var w=j.scry(this._arrowWrapper,"._1ubp")[0];if(!w)return;var x=s(this._arrowWrapper);if(!x)return;var y=this._calculateArrowOffset(t),z=q+y,aa=-q;if(k.isRTL()){z=-z;aa=-aa;}this._arrowWrapper.style[x]='translate('+z+'px, -'+q+'px) '+'rotate('+p+'deg)';if(u)u.style[x]='rotate('+o+'deg) '+'translate('+ -z+'px, '+(q-12)+'px)';w.style[x]='rotate('+o+'deg) '+'translate('+aa+'px, 0)';};function s(t){if(!t)t=document.body;var u=['transform','WebkitTransform','msTransform','MozTransform','OTransform'],v;while(v=u.shift())if(t.style[v]!==undefined)return v;return null;}f.exports=r;},null);
__d('Hovercard',['AccessibleLayer','Arbiter','AsyncRequest','ContextualDialog','ContextualDialogXUITheme','ContextualThing','DOM','Event','JSXDOM','LayerAutoFocus','LayerRefocusOnHide','Parent','Style','Vector','clickRefAction','csx','cx','fbt','getInlineBoundingRect'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){if(c.__markCompiled)c.__markCompiled();var aa={},ba={},ca=null,da=null,ea=null,fa=null,ga=150,ha=700,ia=1000,ja=250,ka=50,la=null,ma=null,na=null,oa=null;function pa(eb){da=eb;if(!qa(eb)){var fb;if(!eb||!(fb=ra(eb))||bb(eb)){ba.moveToken&&ba.moveToken.remove();ba={};return false;}if(ba.node!=eb){ba.moveToken&&ba.moveToken.remove();ba={node:eb,endpoint:fb,pos:null};}}return true;}function qa(eb){return eb&&ca&&ba.node==eb;}function ra(eb){return eb.getAttribute('data-hovercard');}function sa(eb){var fb=n.scry(eb,"^._5jmm ._2orz").length;if(fb)return;if(!eb.leaveToken){var gb=o.listen(eb,'mouseleave',function(){clearTimeout(la);clearTimeout(ma);gb.remove();eb.leaveToken=null;da=null;if(!db.contains(eb))db.hide();});eb.leaveToken=gb;}if(!ba.moveToken)ba.moveToken=o.listen(eb,'mousemove',function(event){ba.pos=u.getEventPosition(event);});clearTimeout(la);clearTimeout(ma);clearTimeout(oa);oa=null;var hb=ga,ib=ca?ja:ha;if(eb.getAttribute('data-hovercard-instant'))hb=ib=ka;la=setTimeout(wa.bind(null,eb),hb);ma=setTimeout(ta.bind(null,eb),ib);}function ta(eb,fb){if(ba.node!=eb)return;var gb=aa[ra(eb)];if(gb){va(gb);}else if(fb){va(za());}else{var hb=ca?ja:ha;na=setTimeout(ta.bind(null,eb,true),ia-hb);}}function ua(){db.hide(true);clearTimeout(ma);}function va(eb){var fb=ba.node,gb=ca,hb=gb!=fb,ib=fb.getAttribute('data-hovercard-position');ib&&eb.setPosition(ib);if(fa){var jb=fa.getContentRoot();if(!m.containsIncludingLayers(jb,fb))fa.hide();}if(!n.contains(document.body,fb)){db.hide(true);return;}ca=fb;fa=eb;eb.setContextWithBounds(fb,z(fb,ba.pos)).show();i.inform('Hovercard/show');if(hb)setTimeout(function(){v('himp',ca,null,'FORCE',{ft:{evt:39}});},0);}function wa(eb){if(eb.id&&aa[eb.id]!=null)return;var fb=ra(eb);if(aa[fb]!=null)return;xa(fb);var gb=function(){db.dirty(fb);ua();};new j(fb).setData({endpoint:fb}).setMethod('GET').setReadOnly(true).setErrorHandler(gb).setTransportErrorHandler(gb).send();}function xa(eb){aa[eb]=false;}function ya(eb){var fb=ba.node.getAttribute('data-hovercard-offset-x')||0;eb.setOffsetX(parseInt(fb,10));var gb=ba.node.getAttribute('data-hovercard-offset-y')||0;eb.setOffsetY(parseInt(gb,10));}var za=function(){if(!ea){ea=new k({width:275,theme:l},p.div({className:"_7lk"},y._("Loading...")));ea.disableBehavior(h).disableBehavior(q).disableBehavior(r);ab(ea);}var eb=ba.node.getAttribute('data-hovercard-position');ea.setPosition(eb);ya(ea);return ea;};function ab(eb){var fb=[eb.subscribe('mouseenter',function(){clearTimeout(oa);oa=null;da=ba.node;}),eb.subscribe('mouseleave',function(){eb.hide();da=null;}),eb.subscribe('destroy',function(){while(fb.length)fb.pop().unsubscribe();fb=null;})];}function bb(eb){return s.bySelector(eb,"._7lu")!==null;}var cb=true,db={hide:function(eb){if(!ca)return;if(eb){clearTimeout(oa);oa=null;if(fa)fa.hide();da=null;ca=null;fa=null;}else{var fb=ba.node.getAttribute('data-hovercard-instant')?ka:ja;if(oa===null)oa=setTimeout(db.hide.bind(null,true),fb);}},setDialog:function(eb,fb){fb.disableBehavior(h).disableBehavior(q).disableBehavior(r);aa[eb]=fb;ab(fb);if(ba.endpoint==eb&&da==ba.node){za().hide();ya(fb);va(fb);}},getDialog:function(eb){return aa[eb];},contains:function(eb){if(fa)return m.containsIncludingLayers(fa.getContentRoot(),eb);return false;},dirty:function(eb){var fb=aa[eb];if(fb){fb.destroy();delete aa[eb];}},dirtyAll:function(){for(var eb in aa){var fb=aa[eb];fb&&db.dirty(eb);}i.inform('Hovercard/dirty');},processNode:function(eb){if(eb&&pa(eb)){sa(eb);return true;}return false;},setDirtyAllOnPageTransition:function(eb){cb=eb;},getLoadingDelay:function(){return ia;},getHideDelay:function(){return ja;}};(function(){o.listen(window,'scroll',function(){if(ca&&t.isFixed(ca))db.hide(true);});i.subscribe('page_transition',function(){ua();cb&&db.dirtyAll();},i.SUBSCRIBE_NEW);})();f.exports=db;},null);
__d("XFamilyBulkTagAddAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/family\/bulk_tag_save\/",{subject:{type:"Int"},save_tags:{type:"String"}});},null);